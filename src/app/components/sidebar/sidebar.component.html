<!-- sidebar.component.html -->
<div class="sidebar">
  <h2>FILTERS</h2>

  <div class="filter-section">
    <div class="filter-header" (click)="toggleDigits()">
      <span>Number of digits</span>
      <span class="toggle-icon">{{ isDigitsOpen ? '−' : '+' }}</span>
    </div>

    <div class="filter-content" *ngIf="isDigitsOpen">
      <div class="checkbox-item" *ngFor="let digit of digits">
        <input type="checkbox" [id]="'digit-' + digit.value" [checked]="digit.checked" (change)="digit.checked = !digit.checked">
        <label [for]="'digit-' + digit.value">{{ digit.value }} <span class="count">({{ digit.count }})</span></label>
      </div>
    </div>
  </div>

  <div class="filter-section">
    <div class="filter-header" (click)="toggleCountry()">
      <span>Country</span>
      <span class="toggle-icon">{{ isCountryOpen ? '−' : '+' }}</span>
    </div>

    <div class="filter-content" *ngIf="isCountryOpen">
      <div class="checkbox-item" *ngFor="let country of countries">
        <input type="checkbox" [id]="'country-' + country.code" [checked]="country.checked" (change)="country.checked = !country.checked">
        <label [for]="'country-' + country.code">{{ country.name }} <span class="count">({{ country.count }})</span></label>
      </div>
    </div>
  </div>

  <div class="filter-section">
    <div class="filter-header" (click)="togglePlateCode()">
      <span>Plate Code</span>
      <span class="toggle-icon">{{ isPlateCodeOpen ? '−' : '+' }}</span>
    </div>

    <div class="filter-content" *ngIf="isPlateCodeOpen">
      <div class="checkbox-item" *ngFor="let code of plateCodes">
        <input type="checkbox" [id]="'code-' + code.value" [checked]="code.checked" (change)="code.checked = !code.checked">
        <label [for]="'code-' + code.value">{{ code.value }} <span class="count">({{ code.count }})</span></label>
      </div>
    </div>
  </div>

  <div class="filter-section">
    <div class="filter-header">
      <span>Price Range</span>
    </div>

    <div class="price-range">
      <div class="slider-container">
        <input type="range" min="0" max="1000" [(ngModel)]="priceRange.min"
               (input)="onMinSliderChange($event)" class="slider">
        <input type="range" min="0" max="1000" [(ngModel)]="priceRange.max"
               (input)="onMaxSliderChange($event)" class="slider">
      </div>

      <div class="price-inputs">
        <div class="price-input">
          <label>Min</label>
          <input type="number" [(ngModel)]="priceRange.min" min="0" max="1000"
                 (change)="onMinInputChange()">
        </div>
        <div class="price-input">
          <label>MAX</label>
          <input type="number" [(ngModel)]="priceRange.max" min="0" max="1000"
                 (change)="onMaxInputChange()">
        </div>
      </div>
    </div>
  </div>
</div>
