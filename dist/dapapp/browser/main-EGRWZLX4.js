import{a as Dl,b as kn,d as fi,e as Rl}from"./chunk-45QJHGBH.js";import{a as Ml}from"./chunk-OLJCODMJ.js";import{a as no,b as ro,c as xn,d as On,e as N,f as je,g as Al,h as oo,i as kl,j as pi,l as so,m as ao,o as lo,q as Ut,r as An,s as $i,t as Hi,u as Tt}from"./chunk-QFNN6O7Z.js";import{A as bl,B as wl,C as Tn,D as ci,E as Il,F as io,G as El,H as di,I as Tl,K as Sl,N as ui,O as We,P as Sn,Q as Le,R as Re,S as Ui,T as Cn,U as Cl,V as xl,W as hi,X as Ol,Y as Pl,a as zi,b as Xr,c as ll,d as cl,e as dl,f as ul,g as hl,i as It,k as eo,l as pl,m as He,n as Be,o as fl,p as ml,q as Ft,r as gl,s as Et,t as _l,u as Vt,v as to,w as zt,x as yl,y as vl}from"./chunk-OK2G6CLZ.js";import{a as mi,b as Xe}from"./chunk-PK4CJ63F.js";import{a as Ha,b as Ba,d as bn,e as Wa,f as ja,g as qa,j as Ka,k as si,l as ai,n as Ga,o as wn}from"./chunk-CV4IM4XT.js";import{a as Qa,b as In,c as pe,d as En,e as Ya,h as Za,i as Ja,m as Xa,o as el,p as tl,q as il,r as nl,u as rl,v as ol,x as sl,y as li,z as al}from"./chunk-XCDPJX54.js";import{$ as Mt,$b as $e,Ab as Ue,Ac as Se,B as Zr,Bb as y,Ca as Pa,Cb as wt,Db as he,Eb as La,Ha as m,Hb as Ni,Ib as Li,Ja as Da,Jb as Fi,Ka as Ra,Kb as Ne,Lb as ni,Ma as U,Mb as Y,Nb as Je,Oa as Ma,Ob as ri,P as xa,Qb as Fa,Ra as W,S as F,Sa as Te,T as Oa,Ta as Na,U as J,Ub as Pe,V as Ie,Va as ae,Vb as Va,Wa as b,Wb as za,X as gn,Z as ge,_ as Ee,_b as H,a as Z,ab as q,b as Dt,ba as Aa,bb as g,bc as Vi,c as Ca,cb as yn,cc as Ua,d as Rt,db as ii,e as u,eb as vn,ec as $a,fa as ti,fb as ue,ga as T,gb as X,ha as S,ia as _t,ja as ka,ka as ee,kb as h,lb as d,ma as _n,mb as M,n as mn,nb as te,nc as at,ob as ie,oc as oi,pa as B,pb as ne,pc as De,q as Yr,qa as _e,qb as $,rb as E,sb as p,tb as vt,tc as Nt,ua as st,ub as bt,uc as Lt,wb as ze,xb as ye,xc as ve,ya as yt,yb as K,za as Jr,zb as G}from"./chunk-OWF27P7H.js";var Du=["*"],Ru=({dt:i})=>`
.p-iconfield {
    position: relative;
    display: block;
}

.p-inputicon {
    position: absolute;
    top: 50%;
    margin-top: calc(-1 * (${i("icon.size")} / 2));
    color: ${i("iconfield.icon.color")};
    line-height: 1;
}

.p-iconfield .p-inputicon:first-child {
    inset-inline-start: ${i("form.field.padding.x")};
}

.p-iconfield .p-inputicon:last-child {
    inset-inline-end: ${i("form.field.padding.x")};
}

.p-iconfield .p-inputtext:not(:first-child) {
    padding-inline-start: calc((${i("form.field.padding.x")} * 2) + ${i("icon.size")});
}

.p-iconfield .p-inputtext:not(:last-child) {
    padding-inline-end: calc((${i("form.field.padding.x")} * 2) + ${i("icon.size")});
}

.p-iconfield:has(.p-inputfield-sm) .p-inputicon {
    font-size: ${i("form.field.sm.font.size")};
    width: ${i("form.field.sm.font.size")};
    height: ${i("form.field.sm.font.size")};
    margin-top: calc(-1 * (${i("form.field.sm.font.size")} / 2));
}

.p-iconfield:has(.p-inputfield-lg) .p-inputicon {
    font-size: ${i("form.field.lg.font.size")};
    width: ${i("form.field.lg.font.size")};
    height: ${i("form.field.lg.font.size")};
    margin-top: calc(-1 * (${i("form.field.lg.font.size")} / 2));
}
`,Mu={root:"p-iconfield"},Nl=(()=>{class i extends Le{name="iconfield";theme=Ru;classes=Mu;static \u0275fac=(()=>{let e;return function(r){return(e||(e=ee(i)))(r||i)}})();static \u0275prov=J({token:i,factory:i.\u0275fac})}return i})();var co=(()=>{class i extends Re{iconPosition="left";get _styleClass(){return this.styleClass}styleClass;_componentStyle=Ee(Nl);static \u0275fac=(()=>{let e;return function(r){return(e||(e=ee(i)))(r||i)}})();static \u0275cmp=W({type:i,selectors:[["p-iconfield"],["p-iconField"],["p-icon-field"]],hostAttrs:[1,"p-iconfield"],hostVars:6,hostBindings:function(n,r){n&2&&(ue(r._styleClass),ii("p-iconfield-left",r.iconPosition==="left")("p-iconfield-right",r.iconPosition==="right"))},inputs:{iconPosition:"iconPosition",styleClass:"styleClass"},features:[Ne([Nl]),ae],ngContentSelectors:Du,decls:1,vars:0,template:function(n,r){n&1&&(vt(),bt(0))},dependencies:[ve],encapsulation:2,changeDetection:0})}return i})();var uo=(()=>{class i extends hi{static \u0275fac=(()=>{let e;return function(r){return(e||(e=ee(i)))(r||i)}})();static \u0275cmp=W({type:i,selectors:[["BlankIcon"]],features:[ae],decls:2,vars:0,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["width","1","height","1","fill","currentColor","fill-opacity","0"]],template:function(n,r){n&1&&(_t(),h(0,"svg",0),M(1,"rect",1),d())},encapsulation:2})}return i})();var ho=(()=>{class i extends hi{static \u0275fac=(()=>{let e;return function(r){return(e||(e=ee(i)))(r||i)}})();static \u0275cmp=W({type:i,selectors:[["ChevronDownIcon"]],features:[ae],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z","fill","currentColor"]],template:function(n,r){n&1&&(_t(),h(0,"svg",0),M(1,"path",1),d()),n&2&&(ue(r.getClassNames()),q("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return i})();var po=(()=>{class i extends hi{pathId;ngOnInit(){this.pathId="url(#"+di()+")"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ee(i)))(r||i)}})();static \u0275cmp=W({type:i,selectors:[["SearchIcon"]],features:[ae],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(n,r){n&1&&(_t(),h(0,"svg",0)(1,"g"),M(2,"path",1),d(),h(3,"defs")(4,"clipPath",2),M(5,"rect",3),d()()()),n&2&&(ue(r.getClassNames()),q("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),m(),q("clip-path",r.pathId),m(3),g("id",r.pathId))},encapsulation:2})}return i})();var Nu=["*"],Lu={root:"p-inputicon"},Ll=(()=>{class i extends Le{name="inputicon";classes=Lu;static \u0275fac=(()=>{let e;return function(r){return(e||(e=ee(i)))(r||i)}})();static \u0275prov=J({token:i,factory:i.\u0275fac})}return i})(),fo=(()=>{class i extends Re{styleClass;get hostClasses(){return this.styleClass}_componentStyle=Ee(Ll);static \u0275fac=(()=>{let e;return function(r){return(e||(e=ee(i)))(r||i)}})();static \u0275cmp=W({type:i,selectors:[["p-inputicon"],["p-inputIcon"]],hostVars:4,hostBindings:function(n,r){n&2&&(ue(r.hostClasses),ii("p-inputicon",!0))},inputs:{styleClass:"styleClass"},features:[Ne([Ll]),ae],ngContentSelectors:Nu,decls:1,vars:0,template:function(n,r){n&1&&(vt(),bt(0))},dependencies:[ve,We],encapsulation:2,changeDetection:0})}return i})();var Fl=["content"],Vu=["overlay"],zu=["*"],Uu=(i,t,e,n,r,o,s,a,l,c,f,_,w,I)=>({"p-overlay p-component":!0,"p-overlay-modal p-overlay-mask p-overlay-mask-enter":i,"p-overlay-center":t,"p-overlay-top":e,"p-overlay-top-start":n,"p-overlay-top-end":r,"p-overlay-bottom":o,"p-overlay-bottom-start":s,"p-overlay-bottom-end":a,"p-overlay-left":l,"p-overlay-left-start":c,"p-overlay-left-end":f,"p-overlay-right":_,"p-overlay-right-start":w,"p-overlay-right-end":I}),$u=(i,t,e)=>({showTransitionParams:i,hideTransitionParams:t,transform:e}),Hu=i=>({value:"visible",params:i}),Bu=i=>({mode:i}),Wu=i=>({$implicit:i});function ju(i,t){i&1&&ne(0)}function qu(i,t){if(i&1){let e=$();h(0,"div",3,1),E("click",function(r){T(e);let o=p(2);return S(o.onOverlayContentClick(r))})("@overlayContentAnimation.start",function(r){T(e);let o=p(2);return S(o.onOverlayContentAnimationStart(r))})("@overlayContentAnimation.done",function(r){T(e);let o=p(2);return S(o.onOverlayContentAnimationDone(r))}),bt(2),b(3,ju,1,0,"ng-container",4),d()}if(i&2){let e=p(2);ue(e.contentStyleClass),g("ngStyle",e.contentStyle)("ngClass","p-overlay-content")("@overlayContentAnimation",Y(11,Hu,ri(7,$u,e.showTransitionOptions,e.hideTransitionOptions,e.transformOptions[e.modal?e.overlayResponsiveDirection:"default"]))),m(3),g("ngTemplateOutlet",e.contentTemplate||e._contentTemplate)("ngTemplateOutletContext",Y(15,Wu,Y(13,Bu,e.overlayMode)))}}function Ku(i,t){if(i&1){let e=$();h(0,"div",3,0),E("click",function(){T(e);let r=p();return S(r.onOverlayClick())}),b(2,qu,4,17,"div",2),d()}if(i&2){let e=p();ue(e.styleClass),g("ngStyle",e.style)("ngClass",Fa(5,Uu,[e.modal,e.modal&&e.overlayResponsiveDirection==="center",e.modal&&e.overlayResponsiveDirection==="top",e.modal&&e.overlayResponsiveDirection==="top-start",e.modal&&e.overlayResponsiveDirection==="top-end",e.modal&&e.overlayResponsiveDirection==="bottom",e.modal&&e.overlayResponsiveDirection==="bottom-start",e.modal&&e.overlayResponsiveDirection==="bottom-end",e.modal&&e.overlayResponsiveDirection==="left",e.modal&&e.overlayResponsiveDirection==="left-start",e.modal&&e.overlayResponsiveDirection==="left-end",e.modal&&e.overlayResponsiveDirection==="right",e.modal&&e.overlayResponsiveDirection==="right-start",e.modal&&e.overlayResponsiveDirection==="right-end"])),m(2),g("ngIf",e.visible)}}var Gu=({dt:i})=>`
.p-overlay {
    position: absolute;
    top: 0;
    inset-inline-start: 0;
}

.p-overlay-modal {
    display: flex;
    align-items: center;
    justify-content: center;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.p-overlay-content {
    transform-origin: inherit;
}

.p-overlay-modal > .p-overlay-content {
    z-index: 1;
    width: 90%;
}

/* Position */
/* top */
.p-overlay-top {
    align-items: flex-start;
}
.p-overlay-top-start {
    align-items: flex-start;
    justify-content: flex-start;
}
.p-overlay-top-end {
    align-items: flex-start;
    justify-content: flex-end;
}

/* bottom */
.p-overlay-bottom {
    align-items: flex-end;
}
.p-overlay-bottom-start {
    align-items: flex-end;
    justify-content: flex-start;
}
.p-overlay-bottom-end {
    align-items: flex-end;
    justify-content: flex-end;
}

/* left */
.p-overlay-left {
    justify-content: flex-start;
}
.p-overlay-left-start {
    justify-content: flex-start;
    align-items: flex-start;
}
.p-overlay-left-end {
    justify-content: flex-start;
    align-items: flex-end;
}

/* right */
.p-overlay-right {
    justify-content: flex-end;
}
.p-overlay-right-start {
    justify-content: flex-end;
    align-items: flex-start;
}
.p-overlay-right-end {
    justify-content: flex-end;
    align-items: flex-end;
}
`,Vl=(()=>{class i extends Le{name="overlay";theme=Gu;static \u0275fac=(()=>{let e;return function(r){return(e||(e=ee(i)))(r||i)}})();static \u0275prov=J({token:i,factory:i.\u0275fac})}return i})(),Qu=ao([pi({transform:"{{transform}}",opacity:0}),oo("{{showTransitionParams}}")]),Yu=ao([oo("{{hideTransitionParams}}",pi({transform:"{{transform}}",opacity:0}))]),mo=(()=>{class i extends Re{overlayService;zone;get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.modalVisible&&(this.modalVisible=!0)}get mode(){return this._mode||this.overlayOptions?.mode}set mode(e){this._mode=e}get style(){return Hi.merge(this._style,this.modal?this.overlayResponsiveOptions?.style:this.overlayOptions?.style)}set style(e){this._style=e}get styleClass(){return Hi.merge(this._styleClass,this.modal?this.overlayResponsiveOptions?.styleClass:this.overlayOptions?.styleClass)}set styleClass(e){this._styleClass=e}get contentStyle(){return Hi.merge(this._contentStyle,this.modal?this.overlayResponsiveOptions?.contentStyle:this.overlayOptions?.contentStyle)}set contentStyle(e){this._contentStyle=e}get contentStyleClass(){return Hi.merge(this._contentStyleClass,this.modal?this.overlayResponsiveOptions?.contentStyleClass:this.overlayOptions?.contentStyleClass)}set contentStyleClass(e){this._contentStyleClass=e}get target(){let e=this._target||this.overlayOptions?.target;return e===void 0?"@prev":e}set target(e){this._target=e}get appendTo(){return this._appendTo||this.overlayOptions?.appendTo}set appendTo(e){this._appendTo=e}get autoZIndex(){let e=this._autoZIndex||this.overlayOptions?.autoZIndex;return e===void 0?!0:e}set autoZIndex(e){this._autoZIndex=e}get baseZIndex(){let e=this._baseZIndex||this.overlayOptions?.baseZIndex;return e===void 0?0:e}set baseZIndex(e){this._baseZIndex=e}get showTransitionOptions(){let e=this._showTransitionOptions||this.overlayOptions?.showTransitionOptions;return e===void 0?".12s cubic-bezier(0, 0, 0.2, 1)":e}set showTransitionOptions(e){this._showTransitionOptions=e}get hideTransitionOptions(){let e=this._hideTransitionOptions||this.overlayOptions?.hideTransitionOptions;return e===void 0?".1s linear":e}set hideTransitionOptions(e){this._hideTransitionOptions=e}get listener(){return this._listener||this.overlayOptions?.listener}set listener(e){this._listener=e}get responsive(){return this._responsive||this.overlayOptions?.responsive}set responsive(e){this._responsive=e}get options(){return this._options}set options(e){this._options=e}visibleChange=new B;onBeforeShow=new B;onShow=new B;onBeforeHide=new B;onHide=new B;onAnimationStart=new B;onAnimationDone=new B;overlayViewChild;contentViewChild;contentTemplate;templates;_contentTemplate;_visible=!1;_mode;_style;_styleClass;_contentStyle;_contentStyleClass;_target;_appendTo;_autoZIndex;_baseZIndex;_showTransitionOptions;_hideTransitionOptions;_listener;_responsive;_options;modalVisible=!1;isOverlayClicked=!1;isOverlayContentClicked=!1;scrollHandler;documentClickListener;documentResizeListener;_componentStyle=Ee(Vl);documentKeyboardListener;window;transformOptions={default:"scaleY(0.8)",center:"scale(0.7)",top:"translate3d(0px, -100%, 0px)","top-start":"translate3d(0px, -100%, 0px)","top-end":"translate3d(0px, -100%, 0px)",bottom:"translate3d(0px, 100%, 0px)","bottom-start":"translate3d(0px, 100%, 0px)","bottom-end":"translate3d(0px, 100%, 0px)",left:"translate3d(-100%, 0px, 0px)","left-start":"translate3d(-100%, 0px, 0px)","left-end":"translate3d(-100%, 0px, 0px)",right:"translate3d(100%, 0px, 0px)","right-start":"translate3d(100%, 0px, 0px)","right-end":"translate3d(100%, 0px, 0px)"};get modal(){if(Se(this.platformId))return this.mode==="modal"||this.overlayResponsiveOptions&&this.document.defaultView?.matchMedia(this.overlayResponsiveOptions.media?.replace("@media","")||`(max-width: ${this.overlayResponsiveOptions.breakpoint})`).matches}get overlayMode(){return this.mode||(this.modal?"modal":"overlay")}get overlayOptions(){return Z(Z({},this.config?.overlayOptions),this.options)}get overlayResponsiveOptions(){return Z(Z({},this.overlayOptions?.responsive),this.responsive)}get overlayResponsiveDirection(){return this.overlayResponsiveOptions?.direction||"center"}get overlayEl(){return this.overlayViewChild?.nativeElement}get contentEl(){return this.contentViewChild?.nativeElement}get targetEl(){return _l(this.target,this.el?.nativeElement)}constructor(e,n){super(),this.overlayService=e,this.zone=n}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this._contentTemplate=e.template;break;default:this._contentTemplate=e.template;break}})}show(e,n=!1){this.onVisibleChange(!0),this.handleEvents("onShow",{overlay:e||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),n&&Be(this.targetEl),this.modal&&Xr(this.document?.body,"p-overflow-hidden")}hide(e,n=!1){if(this.visible)this.onVisibleChange(!1),this.handleEvents("onHide",{overlay:e||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),n&&Be(this.targetEl),this.modal&&ll(this.document?.body,"p-overflow-hidden");else return}alignOverlay(){!this.modal&&Ui.alignOverlay(this.overlayEl,this.targetEl,this.appendTo)}onVisibleChange(e){this._visible=e,this.visibleChange.emit(e)}onOverlayClick(){this.isOverlayClicked=!0}onOverlayContentClick(e){this.overlayService.add({originalEvent:e,target:this.targetEl}),this.isOverlayContentClicked=!0}onOverlayContentAnimationStart(e){switch(e.toState){case"visible":this.handleEvents("onBeforeShow",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.autoZIndex&&Tt.set(this.overlayMode,this.overlayEl,this.baseZIndex+this.config?.zIndex[this.overlayMode]),Ui.appendOverlay(this.overlayEl,this.appendTo==="body"?this.document.body:this.appendTo,this.appendTo),this.alignOverlay();break;case"void":this.handleEvents("onBeforeHide",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.modal&&Xr(this.overlayEl,"p-overlay-mask-leave");break}this.handleEvents("onAnimationStart",e)}onOverlayContentAnimationDone(e){let n=this.overlayEl||e.element.parentElement;switch(e.toState){case"visible":this.visible&&(this.show(n,!0),this.bindListeners());break;case"void":if(!this.visible){this.hide(n,!0),this.modalVisible=!1,this.unbindListeners(),Ui.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),Tt.clear(n),this.cd.markForCheck();break}}this.handleEvents("onAnimationDone",e)}handleEvents(e,n){this[e].emit(n),this.options&&this.options[e]&&this.options[e](n),this.config?.overlayOptions&&(this.config?.overlayOptions)[e]&&(this.config?.overlayOptions)[e](n)}bindListeners(){this.bindScrollListener(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindDocumentKeyboardListener()}unbindListeners(){this.unbindScrollListener(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindDocumentKeyboardListener()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Cn(this.targetEl,e=>{(this.listener?this.listener(e,{type:"scroll",mode:this.overlayMode,valid:!0}):!0)&&this.hide(e,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.document,"click",e=>{let r=!(this.targetEl&&(this.targetEl.isSameNode(e.target)||!this.isOverlayClicked&&this.targetEl.contains(e.target)))&&!this.isOverlayContentClicked;(this.listener?this.listener(e,{type:"outside",mode:this.overlayMode,valid:e.which!==3&&r}):r)&&this.hide(e),this.isOverlayClicked=this.isOverlayContentClicked=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener||(this.documentResizeListener=this.renderer.listen(this.document.defaultView,"resize",e=>{(this.listener?this.listener(e,{type:"resize",mode:this.overlayMode,valid:!zt()}):!zt())&&this.hide(e,!0)}))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindDocumentKeyboardListener(){this.documentKeyboardListener||this.zone.runOutsideAngular(()=>{this.documentKeyboardListener=this.renderer.listen(this.document.defaultView,"keydown",e=>{if(this.overlayOptions.hideOnEscape===!1||e.code!=="Escape")return;(this.listener?this.listener(e,{type:"keydown",mode:this.overlayMode,valid:!zt()}):!zt())&&this.zone.run(()=>{this.hide(e,!0)})})})}unbindDocumentKeyboardListener(){this.documentKeyboardListener&&(this.documentKeyboardListener(),this.documentKeyboardListener=null)}ngOnDestroy(){this.hide(this.overlayEl,!0),this.overlayEl&&(Ui.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),Tt.clear(this.overlayEl)),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.unbindListeners(),super.ngOnDestroy()}static \u0275fac=function(n){return new(n||i)(U(Sl),U(_e))};static \u0275cmp=W({type:i,selectors:[["p-overlay"]],contentQueries:function(n,r,o){if(n&1&&(ze(o,Fl,4),ze(o,ui,4)),n&2){let s;K(s=G())&&(r.contentTemplate=s.first),K(s=G())&&(r.templates=s)}},viewQuery:function(n,r){if(n&1&&(ye(Vu,5),ye(Fl,5)),n&2){let o;K(o=G())&&(r.overlayViewChild=o.first),K(o=G())&&(r.contentViewChild=o.first)}},inputs:{visible:"visible",mode:"mode",style:"style",styleClass:"styleClass",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",target:"target",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",listener:"listener",responsive:"responsive",options:"options"},outputs:{visibleChange:"visibleChange",onBeforeShow:"onBeforeShow",onShow:"onShow",onBeforeHide:"onBeforeHide",onHide:"onHide",onAnimationStart:"onAnimationStart",onAnimationDone:"onAnimationDone"},features:[Ne([Vl]),ae],ngContentSelectors:zu,decls:1,vars:1,consts:[["overlay",""],["content",""],[3,"ngStyle","class","ngClass","click",4,"ngIf"],[3,"click","ngStyle","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,r){n&1&&(vt(),b(0,Ku,3,20,"div",2)),n&2&&g("ngIf",r.modalVisible)},dependencies:[ve,at,De,Lt,Nt,We],encapsulation:2,data:{animation:[Al("overlayContentAnimation",[so(":enter",[lo(Qu)]),so(":leave",[lo(Yu)])])]},changeDetection:0})}return i})(),go=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Te({type:i});static \u0275inj=Ie({imports:[mo,We,We]})}return i})();var zl=["content"],Ju=["item"],Xu=["loader"],eh=["loadericon"],th=["element"],ih=["*"],nh=(i,t,e)=>({"p-virtualscroller":!0,"p-virtualscroller-inline":i,"p-virtualscroller-both p-both-scroll":t,"p-virtualscroller-horizontal p-horizontal-scroll":e}),_o=(i,t)=>({$implicit:i,options:t}),rh=i=>({"p-virtualscroller-loading ":i}),oh=i=>({"p-virtualscroller-loader-mask":i}),sh=i=>({numCols:i}),$l=i=>({options:i}),ah=()=>({styleClass:"p-virtualscroller-loading-icon"}),lh=(i,t)=>({rows:i,columns:t});function ch(i,t){i&1&&ne(0)}function dh(i,t){if(i&1&&(te(0),b(1,ch,1,0,"ng-container",10),ie()),i&2){let e=p(2);m(),g("ngTemplateOutlet",e.contentTemplate||e._contentTemplate)("ngTemplateOutletContext",Je(2,_o,e.loadedItems,e.getContentOptions()))}}function uh(i,t){i&1&&ne(0)}function hh(i,t){if(i&1&&(te(0),b(1,uh,1,0,"ng-container",10),ie()),i&2){let e=t.$implicit,n=t.index,r=p(3);m(),g("ngTemplateOutlet",r.itemTemplate||r._itemTemplate)("ngTemplateOutletContext",Je(2,_o,e,r.getOptions(n)))}}function ph(i,t){if(i&1&&(h(0,"div",11,3),b(2,hh,2,5,"ng-container",12),d()),i&2){let e=p(2);g("ngClass",Y(5,rh,e.d_loading))("ngStyle",e.contentStyle),q("data-pc-section","content"),m(2),g("ngForOf",e.loadedItems)("ngForTrackBy",e._trackBy)}}function fh(i,t){if(i&1&&M(0,"div",13),i&2){let e=p(2);g("ngStyle",e.spacerStyle),q("data-pc-section","spacer")}}function mh(i,t){i&1&&ne(0)}function gh(i,t){if(i&1&&(te(0),b(1,mh,1,0,"ng-container",10),ie()),i&2){let e=t.index,n=p(4);m(),g("ngTemplateOutlet",n.loaderTemplate||n._loaderTemplate)("ngTemplateOutletContext",Y(4,$l,n.getLoaderOptions(e,n.both&&Y(2,sh,n.numItemsInViewport.cols))))}}function _h(i,t){if(i&1&&(te(0),b(1,gh,2,6,"ng-container",15),ie()),i&2){let e=p(3);m(),g("ngForOf",e.loaderArr)}}function yh(i,t){i&1&&ne(0)}function vh(i,t){if(i&1&&(te(0),b(1,yh,1,0,"ng-container",10),ie()),i&2){let e=p(4);m(),g("ngTemplateOutlet",e.loaderIconTemplate||e._loaderIconTemplate)("ngTemplateOutletContext",Y(3,$l,ni(2,ah)))}}function bh(i,t){i&1&&M(0,"SpinnerIcon",16),i&2&&(g("styleClass","p-virtualscroller-loading-icon pi-spin"),q("data-pc-section","loadingIcon"))}function wh(i,t){if(i&1&&b(0,vh,2,5,"ng-container",6)(1,bh,1,2,"ng-template",null,5,Pe),i&2){let e=Ue(2),n=p(3);g("ngIf",n.loaderIconTemplate||n._loaderIconTemplate)("ngIfElse",e)}}function Ih(i,t){if(i&1&&(h(0,"div",14),b(1,_h,2,1,"ng-container",6)(2,wh,3,2,"ng-template",null,4,Pe),d()),i&2){let e=Ue(3),n=p(2);g("ngClass",Y(4,oh,!n.loaderTemplate)),q("data-pc-section","loader"),m(),g("ngIf",n.loaderTemplate||n._loaderTemplate)("ngIfElse",e)}}function Eh(i,t){if(i&1){let e=$();te(0),h(1,"div",7,1),E("scroll",function(r){T(e);let o=p();return S(o.onContainerScroll(r))}),b(3,dh,2,5,"ng-container",6)(4,ph,3,7,"ng-template",null,2,Pe)(6,fh,1,2,"div",8)(7,Ih,4,6,"div",9),d(),ie()}if(i&2){let e=Ue(5),n=p();m(),ue(n._styleClass),g("ngStyle",n._style)("ngClass",ri(12,nh,n.inline,n.both,n.horizontal)),q("id",n._id)("tabindex",n.tabindex)("data-pc-name","scroller")("data-pc-section","root"),m(2),g("ngIf",n.contentTemplate||n._contentTemplate)("ngIfElse",e),m(3),g("ngIf",n._showSpacer),m(),g("ngIf",!n.loaderDisabled&&n._showLoader&&n.d_loading)}}function Th(i,t){i&1&&ne(0)}function Sh(i,t){if(i&1&&(te(0),b(1,Th,1,0,"ng-container",10),ie()),i&2){let e=p(2);m(),g("ngTemplateOutlet",e.contentTemplate||e._contentTemplate)("ngTemplateOutletContext",Je(5,_o,e.items,Je(2,lh,e._items,e.loadedColumns)))}}function Ch(i,t){if(i&1&&(bt(0),b(1,Sh,2,8,"ng-container",17)),i&2){let e=p();m(),g("ngIf",e.contentTemplate||e._contentTemplate)}}var xh=({dt:i})=>`
.p-virtualscroller {
    position: relative;
    overflow: auto;
    contain: strict;
    transform: translateZ(0);
    will-change: scroll-position;
    outline: 0 none;
}

.p-virtualscroller-content {
    position: absolute;
    top: 0;
    left: 0;
    min-height: 100%;
    min-width: 100%;
    will-change: transform;
}

.p-virtualscroller-spacer {
    position: absolute;
    top: 0;
    left: 0;
    height: 1px;
    width: 1px;
    transform-origin: 0 0;
    pointer-events: none;
}

.p-virtualscroller-loader {
    position: sticky;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: ${i("virtualscroller.loader.mask.background")};
    color: ${i("virtualscroller.loader.mask.color")};
}

.p-virtualscroller-loader-mask {
    display: flex;
    align-items: center;
    justify-content: center;
}

.p-virtualscroller-loading-icon {
    font-size: ${i("virtualscroller.loader.icon.size")};
    width: ${i("virtualscroller.loader.icon.size")};
    height: ${i("virtualscroller.loader.icon.size")};
}

.p-virtualscroller-horizontal > .p-virtualscroller-content {
    display: flex;
}

.p-virtualscroller-inline .p-virtualscroller-content {
    position: static;
}
`,Ul=(()=>{class i extends Le{name="virtualscroller";theme=xh;static \u0275fac=(()=>{let e;return function(r){return(e||(e=ee(i)))(r||i)}})();static \u0275prov=J({token:i,factory:i.\u0275fac})}return i})();var yo=(()=>{class i extends Re{zone;get id(){return this._id}set id(e){this._id=e}get style(){return this._style}set style(e){this._style=e}get styleClass(){return this._styleClass}set styleClass(e){this._styleClass=e}get tabindex(){return this._tabindex}set tabindex(e){this._tabindex=e}get items(){return this._items}set items(e){this._items=e}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e}get scrollHeight(){return this._scrollHeight}set scrollHeight(e){this._scrollHeight=e}get scrollWidth(){return this._scrollWidth}set scrollWidth(e){this._scrollWidth=e}get orientation(){return this._orientation}set orientation(e){this._orientation=e}get step(){return this._step}set step(e){this._step=e}get delay(){return this._delay}set delay(e){this._delay=e}get resizeDelay(){return this._resizeDelay}set resizeDelay(e){this._resizeDelay=e}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=e}get inline(){return this._inline}set inline(e){this._inline=e}get lazy(){return this._lazy}set lazy(e){this._lazy=e}get disabled(){return this._disabled}set disabled(e){this._disabled=e}get loaderDisabled(){return this._loaderDisabled}set loaderDisabled(e){this._loaderDisabled=e}get columns(){return this._columns}set columns(e){this._columns=e}get showSpacer(){return this._showSpacer}set showSpacer(e){this._showSpacer=e}get showLoader(){return this._showLoader}set showLoader(e){this._showLoader=e}get numToleratedItems(){return this._numToleratedItems}set numToleratedItems(e){this._numToleratedItems=e}get loading(){return this._loading}set loading(e){this._loading=e}get autoSize(){return this._autoSize}set autoSize(e){this._autoSize=e}get trackBy(){return this._trackBy}set trackBy(e){this._trackBy=e}get options(){return this._options}set options(e){this._options=e,e&&typeof e=="object"&&Object.entries(e).forEach(([n,r])=>this[`_${n}`]!==r&&(this[`_${n}`]=r))}onLazyLoad=new B;onScroll=new B;onScrollIndexChange=new B;elementViewChild;contentViewChild;height;_id;_style;_styleClass;_tabindex=0;_items;_itemSize=0;_scrollHeight;_scrollWidth;_orientation="vertical";_step=0;_delay=0;_resizeDelay=10;_appendOnly=!1;_inline=!1;_lazy=!1;_disabled=!1;_loaderDisabled=!1;_columns;_showSpacer=!0;_showLoader=!1;_numToleratedItems;_loading;_autoSize=!1;_trackBy;_options;d_loading=!1;d_numToleratedItems;contentEl;contentTemplate;itemTemplate;loaderTemplate;loaderIconTemplate;templates;_contentTemplate;_itemTemplate;_loaderTemplate;_loaderIconTemplate;first=0;last=0;page=0;isRangeChanged=!1;numItemsInViewport=0;lastScrollPos=0;lazyLoadState={};loaderArr=[];spacerStyle={};contentStyle={};scrollTimeout;resizeTimeout;initialized=!1;windowResizeListener;defaultWidth;defaultHeight;defaultContentWidth;defaultContentHeight;get vertical(){return this._orientation==="vertical"}get horizontal(){return this._orientation==="horizontal"}get both(){return this._orientation==="both"}get loadedItems(){return this._items&&!this.d_loading?this.both?this._items.slice(this._appendOnly?0:this.first.rows,this.last.rows).map(e=>this._columns?e:e.slice(this._appendOnly?0:this.first.cols,this.last.cols)):this.horizontal&&this._columns?this._items:this._items.slice(this._appendOnly?0:this.first,this.last):[]}get loadedRows(){return this.d_loading?this._loaderDisabled?this.loaderArr:[]:this.loadedItems}get loadedColumns(){return this._columns&&(this.both||this.horizontal)?this.d_loading&&this._loaderDisabled?this.both?this.loaderArr[0]:this.loaderArr:this._columns.slice(this.both?this.first.cols:this.first,this.both?this.last.cols:this.last):this._columns}_componentStyle=Ee(Ul);constructor(e){super(),this.zone=e}ngOnInit(){super.ngOnInit(),this.setInitialState()}ngOnChanges(e){super.ngOnChanges(e);let n=!1;if(this.scrollHeight=="100%"&&(this.height="100%"),e.loading){let{previousValue:r,currentValue:o}=e.loading;this.lazy&&r!==o&&o!==this.d_loading&&(this.d_loading=o,n=!0)}if(e.orientation&&(this.lastScrollPos=this.both?{top:0,left:0}:0),e.numToleratedItems){let{previousValue:r,currentValue:o}=e.numToleratedItems;r!==o&&o!==this.d_numToleratedItems&&(this.d_numToleratedItems=o)}if(e.options){let{previousValue:r,currentValue:o}=e.options;this.lazy&&r?.loading!==o?.loading&&o?.loading!==this.d_loading&&(this.d_loading=o.loading,n=!0),r?.numToleratedItems!==o?.numToleratedItems&&o?.numToleratedItems!==this.d_numToleratedItems&&(this.d_numToleratedItems=o.numToleratedItems)}this.initialized&&!n&&(e.items?.previousValue?.length!==e.items?.currentValue?.length||e.itemSize||e.scrollHeight||e.scrollWidth)&&(this.init(),this.calculateAutoSize())}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this._contentTemplate=e.template;break;case"item":this._itemTemplate=e.template;break;case"loader":this._loaderTemplate=e.template;break;case"loadericon":this._loaderIconTemplate=e.template;break;default:this._itemTemplate=e.template;break}})}ngAfterViewInit(){super.ngAfterViewInit(),Promise.resolve().then(()=>{this.viewInit()})}ngAfterViewChecked(){this.initialized||this.viewInit()}ngOnDestroy(){this.unbindResizeListener(),this.contentEl=null,this.initialized=!1,super.ngOnDestroy()}viewInit(){Se(this.platformId)&&!this.initialized&&to(this.elementViewChild?.nativeElement)&&(this.setInitialState(),this.setContentEl(this.contentEl),this.init(),this.defaultWidth=Vt(this.elementViewChild?.nativeElement),this.defaultHeight=Ft(this.elementViewChild?.nativeElement),this.defaultContentWidth=Vt(this.contentEl),this.defaultContentHeight=Ft(this.contentEl),this.initialized=!0)}init(){this._disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize(),this.bindResizeListener(),this.cd.detectChanges())}setContentEl(e){this.contentEl=e||this.contentViewChild?.nativeElement||He(this.elementViewChild?.nativeElement,".p-virtualscroller-content")}setInitialState(){this.first=this.both?{rows:0,cols:0}:0,this.last=this.both?{rows:0,cols:0}:0,this.numItemsInViewport=this.both?{rows:0,cols:0}:0,this.lastScrollPos=this.both?{top:0,left:0}:0,this.d_loading=this._loading||!1,this.d_numToleratedItems=this._numToleratedItems,this.loaderArr=[],this.spacerStyle={},this.contentStyle={}}getElementRef(){return this.elementViewChild}getPageByFirst(e){return Math.floor(((e??this.first)+this.d_numToleratedItems*4)/(this._step||1))}isPageChanged(e){return this._step?this.page!==this.getPageByFirst(e??this.first):!0}scrollTo(e){this.elementViewChild?.nativeElement?.scrollTo(e)}scrollToIndex(e,n="auto"){if(this.both?e.every(o=>o>-1):e>-1){let o=this.first,{scrollTop:s=0,scrollLeft:a=0}=this.elementViewChild?.nativeElement,{numToleratedItems:l}=this.calculateNumItems(),c=this.getContentPosition(),f=this.itemSize,_=(P=0,R)=>P<=R?0:P,w=(P,R,V)=>P*R+V,I=(P=0,R=0)=>this.scrollTo({left:P,top:R,behavior:n}),v=this.both?{rows:0,cols:0}:0,A=!1,O=!1;this.both?(v={rows:_(e[0],l[0]),cols:_(e[1],l[1])},I(w(v.cols,f[1],c.left),w(v.rows,f[0],c.top)),O=this.lastScrollPos.top!==s||this.lastScrollPos.left!==a,A=v.rows!==o.rows||v.cols!==o.cols):(v=_(e,l),this.horizontal?I(w(v,f,c.left),s):I(a,w(v,f,c.top)),O=this.lastScrollPos!==(this.horizontal?a:s),A=v!==o),this.isRangeChanged=A,O&&(this.first=v)}}scrollInView(e,n,r="auto"){if(n){let{first:o,viewport:s}=this.getRenderedRange(),a=(f=0,_=0)=>this.scrollTo({left:f,top:_,behavior:r}),l=n==="to-start",c=n==="to-end";if(l){if(this.both)s.first.rows-o.rows>e[0]?a(s.first.cols*this._itemSize[1],(s.first.rows-1)*this._itemSize[0]):s.first.cols-o.cols>e[1]&&a((s.first.cols-1)*this._itemSize[1],s.first.rows*this._itemSize[0]);else if(s.first-o>e){let f=(s.first-1)*this._itemSize;this.horizontal?a(f,0):a(0,f)}}else if(c){if(this.both)s.last.rows-o.rows<=e[0]+1?a(s.first.cols*this._itemSize[1],(s.first.rows+1)*this._itemSize[0]):s.last.cols-o.cols<=e[1]+1&&a((s.first.cols+1)*this._itemSize[1],s.first.rows*this._itemSize[0]);else if(s.last-o<=e+1){let f=(s.first+1)*this._itemSize;this.horizontal?a(f,0):a(0,f)}}}else this.scrollToIndex(e,r)}getRenderedRange(){let e=(o,s)=>s||o?Math.floor(o/(s||o)):0,n=this.first,r=0;if(this.elementViewChild?.nativeElement){let{scrollTop:o,scrollLeft:s}=this.elementViewChild.nativeElement;if(this.both)n={rows:e(o,this._itemSize[0]),cols:e(s,this._itemSize[1])},r={rows:n.rows+this.numItemsInViewport.rows,cols:n.cols+this.numItemsInViewport.cols};else{let a=this.horizontal?s:o;n=e(a,this._itemSize),r=n+this.numItemsInViewport}}return{first:this.first,last:this.last,viewport:{first:n,last:r}}}calculateNumItems(){let e=this.getContentPosition(),n=(this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetWidth-e.left:0)||0,r=(this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetHeight-e.top:0)||0,o=(c,f)=>f||c?Math.ceil(c/(f||c)):0,s=c=>Math.ceil(c/2),a=this.both?{rows:o(r,this._itemSize[0]),cols:o(n,this._itemSize[1])}:o(this.horizontal?n:r,this._itemSize),l=this.d_numToleratedItems||(this.both?[s(a.rows),s(a.cols)]:s(a));return{numItemsInViewport:a,numToleratedItems:l}}calculateOptions(){let{numItemsInViewport:e,numToleratedItems:n}=this.calculateNumItems(),r=(a,l,c,f=!1)=>this.getLast(a+l+(a<c?2:3)*c,f),o=this.first,s=this.both?{rows:r(this.first.rows,e.rows,n[0]),cols:r(this.first.cols,e.cols,n[1],!0)}:r(this.first,e,n);this.last=s,this.numItemsInViewport=e,this.d_numToleratedItems=n,this.showLoader&&(this.loaderArr=this.both?Array.from({length:e.rows}).map(()=>Array.from({length:e.cols})):Array.from({length:e})),this._lazy&&Promise.resolve().then(()=>{this.lazyLoadState={first:this._step?this.both?{rows:0,cols:o.cols}:0:o,last:Math.min(this._step?this._step:this.last,this.items.length)},this.handleEvents("onLazyLoad",this.lazyLoadState)})}calculateAutoSize(){this._autoSize&&!this.d_loading&&Promise.resolve().then(()=>{if(this.contentEl){this.contentEl.style.minHeight=this.contentEl.style.minWidth="auto",this.contentEl.style.position="relative",this.elementViewChild.nativeElement.style.contain="none";let[e,n]=[Vt(this.contentEl),Ft(this.contentEl)];e!==this.defaultContentWidth&&(this.elementViewChild.nativeElement.style.width=""),n!==this.defaultContentHeight&&(this.elementViewChild.nativeElement.style.height="");let[r,o]=[Vt(this.elementViewChild.nativeElement),Ft(this.elementViewChild.nativeElement)];(this.both||this.horizontal)&&(this.elementViewChild.nativeElement.style.width=r<this.defaultWidth?r+"px":this._scrollWidth||this.defaultWidth+"px"),(this.both||this.vertical)&&(this.elementViewChild.nativeElement.style.height=o<this.defaultHeight?o+"px":this._scrollHeight||this.defaultHeight+"px"),this.contentEl.style.minHeight=this.contentEl.style.minWidth="",this.contentEl.style.position="",this.elementViewChild.nativeElement.style.contain=""}})}getLast(e=0,n=!1){return this._items?Math.min(n?(this._columns||this._items[0]).length:this._items.length,e):0}getContentPosition(){if(this.contentEl){let e=getComputedStyle(this.contentEl),n=parseFloat(e.paddingLeft)+Math.max(parseFloat(e.left)||0,0),r=parseFloat(e.paddingRight)+Math.max(parseFloat(e.right)||0,0),o=parseFloat(e.paddingTop)+Math.max(parseFloat(e.top)||0,0),s=parseFloat(e.paddingBottom)+Math.max(parseFloat(e.bottom)||0,0);return{left:n,right:r,top:o,bottom:s,x:n+r,y:o+s}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}}setSize(){if(this.elementViewChild?.nativeElement){let e=this.elementViewChild.nativeElement.parentElement.parentElement,n=this._scrollWidth||`${this.elementViewChild.nativeElement.offsetWidth||e.offsetWidth}px`,r=this._scrollHeight||`${this.elementViewChild.nativeElement.offsetHeight||e.offsetHeight}px`,o=(s,a)=>this.elementViewChild.nativeElement.style[s]=a;this.both||this.horizontal?(o("height",r),o("width",n)):o("height",r)}}setSpacerSize(){if(this._items){let e=this.getContentPosition(),n=(r,o,s,a=0)=>this.spacerStyle=Dt(Z({},this.spacerStyle),{[`${r}`]:(o||[]).length*s+a+"px"});this.both?(n("height",this._items,this._itemSize[0],e.y),n("width",this._columns||this._items[1],this._itemSize[1],e.x)):this.horizontal?n("width",this._columns||this._items,this._itemSize,e.x):n("height",this._items,this._itemSize,e.y)}}setContentPosition(e){if(this.contentEl&&!this._appendOnly){let n=e?e.first:this.first,r=(s,a)=>s*a,o=(s=0,a=0)=>this.contentStyle=Dt(Z({},this.contentStyle),{transform:`translate3d(${s}px, ${a}px, 0)`});if(this.both)o(r(n.cols,this._itemSize[1]),r(n.rows,this._itemSize[0]));else{let s=r(n,this._itemSize);this.horizontal?o(s,0):o(0,s)}}}onScrollPositionChange(e){let n=e.target,r=this.getContentPosition(),o=(O,P)=>O?O>P?O-P:O:0,s=(O,P)=>P||O?Math.floor(O/(P||O)):0,a=(O,P,R,V,z,de)=>O<=z?z:de?R-V-z:P+z-1,l=(O,P,R,V,z,de,se)=>O<=de?0:Math.max(0,se?O<P?R:O-de:O>P?R:O-2*de),c=(O,P,R,V,z,de=!1)=>{let se=P+V+2*z;return O>=z&&(se+=z+1),this.getLast(se,de)},f=o(n.scrollTop,r.top),_=o(n.scrollLeft,r.left),w=this.both?{rows:0,cols:0}:0,I=this.last,v=!1,A=this.lastScrollPos;if(this.both){let O=this.lastScrollPos.top<=f,P=this.lastScrollPos.left<=_;if(!this._appendOnly||this._appendOnly&&(O||P)){let R={rows:s(f,this._itemSize[0]),cols:s(_,this._itemSize[1])},V={rows:a(R.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],O),cols:a(R.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],P)};w={rows:l(R.rows,V.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],O),cols:l(R.cols,V.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],P)},I={rows:c(R.rows,w.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:c(R.cols,w.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},v=w.rows!==this.first.rows||I.rows!==this.last.rows||w.cols!==this.first.cols||I.cols!==this.last.cols||this.isRangeChanged,A={top:f,left:_}}}else{let O=this.horizontal?_:f,P=this.lastScrollPos<=O;if(!this._appendOnly||this._appendOnly&&P){let R=s(O,this._itemSize),V=a(R,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,P);w=l(R,V,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,P),I=c(R,w,this.last,this.numItemsInViewport,this.d_numToleratedItems),v=w!==this.first||I!==this.last||this.isRangeChanged,A=O}}return{first:w,last:I,isRangeChanged:v,scrollPos:A}}onScrollChange(e){let{first:n,last:r,isRangeChanged:o,scrollPos:s}=this.onScrollPositionChange(e);if(o){let a={first:n,last:r};if(this.setContentPosition(a),this.first=n,this.last=r,this.lastScrollPos=s,this.handleEvents("onScrollIndexChange",a),this._lazy&&this.isPageChanged(n)){let l={first:this._step?Math.min(this.getPageByFirst(n)*this._step,this.items.length-this._step):n,last:Math.min(this._step?(this.getPageByFirst(n)+1)*this._step:r,this.items.length)};(this.lazyLoadState.first!==l.first||this.lazyLoadState.last!==l.last)&&this.handleEvents("onLazyLoad",l),this.lazyLoadState=l}}}onContainerScroll(e){if(this.handleEvents("onScroll",{originalEvent:e}),this._delay&&this.isPageChanged()){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),!this.d_loading&&this.showLoader){let{isRangeChanged:n}=this.onScrollPositionChange(e);(n||(this._step?this.isPageChanged():!1))&&(this.d_loading=!0,this.cd.detectChanges())}this.scrollTimeout=setTimeout(()=>{this.onScrollChange(e),this.d_loading&&this.showLoader&&(!this._lazy||this._loading===void 0)&&(this.d_loading=!1,this.page=this.getPageByFirst()),this.cd.detectChanges()},this._delay)}else!this.d_loading&&this.onScrollChange(e)}bindResizeListener(){Se(this.platformId)&&(this.windowResizeListener||this.zone.runOutsideAngular(()=>{let e=this.document.defaultView,n=zt()?"orientationchange":"resize";this.windowResizeListener=this.renderer.listen(e,n,this.onWindowResize.bind(this))}))}unbindResizeListener(){this.windowResizeListener&&(this.windowResizeListener(),this.windowResizeListener=null)}onWindowResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{if(to(this.elementViewChild?.nativeElement)){let[e,n]=[Vt(this.elementViewChild?.nativeElement),Ft(this.elementViewChild?.nativeElement)],[r,o]=[e!==this.defaultWidth,n!==this.defaultHeight];(this.both?r||o:this.horizontal?r:this.vertical?o:!1)&&this.zone.run(()=>{this.d_numToleratedItems=this._numToleratedItems,this.defaultWidth=e,this.defaultHeight=n,this.defaultContentWidth=Vt(this.contentEl),this.defaultContentHeight=Ft(this.contentEl),this.init()})}},this._resizeDelay)}handleEvents(e,n){return this.options&&this.options[e]?this.options[e](n):this[e].emit(n)}getContentOptions(){return{contentStyleClass:`p-virtualscroller-content ${this.d_loading?"p-virtualscroller-loading":""}`,items:this.loadedItems,getItemOptions:e=>this.getOptions(e),loading:this.d_loading,getLoaderOptions:(e,n)=>this.getLoaderOptions(e,n),itemSize:this._itemSize,rows:this.loadedRows,columns:this.loadedColumns,spacerStyle:this.spacerStyle,contentStyle:this.contentStyle,vertical:this.vertical,horizontal:this.horizontal,both:this.both}}getOptions(e){let n=(this._items||[]).length,r=this.both?this.first.rows+e:this.first+e;return{index:r,count:n,first:r===0,last:r===n-1,even:r%2===0,odd:r%2!==0}}getLoaderOptions(e,n){let r=this.loaderArr.length;return Z({index:e,count:r,first:e===0,last:e===r-1,even:e%2===0,odd:e%2!==0},n)}static \u0275fac=function(n){return new(n||i)(U(_e))};static \u0275cmp=W({type:i,selectors:[["p-scroller"],["p-virtualscroller"],["p-virtual-scroller"],["p-virtualScroller"]],contentQueries:function(n,r,o){if(n&1&&(ze(o,zl,4),ze(o,Ju,4),ze(o,Xu,4),ze(o,eh,4),ze(o,ui,4)),n&2){let s;K(s=G())&&(r.contentTemplate=s.first),K(s=G())&&(r.itemTemplate=s.first),K(s=G())&&(r.loaderTemplate=s.first),K(s=G())&&(r.loaderIconTemplate=s.first),K(s=G())&&(r.templates=s)}},viewQuery:function(n,r){if(n&1&&(ye(th,5),ye(zl,5)),n&2){let o;K(o=G())&&(r.elementViewChild=o.first),K(o=G())&&(r.contentViewChild=o.first)}},hostVars:2,hostBindings:function(n,r){n&2&&yn("height",r.height)},inputs:{id:"id",style:"style",styleClass:"styleClass",tabindex:"tabindex",items:"items",itemSize:"itemSize",scrollHeight:"scrollHeight",scrollWidth:"scrollWidth",orientation:"orientation",step:"step",delay:"delay",resizeDelay:"resizeDelay",appendOnly:"appendOnly",inline:"inline",lazy:"lazy",disabled:"disabled",loaderDisabled:"loaderDisabled",columns:"columns",showSpacer:"showSpacer",showLoader:"showLoader",numToleratedItems:"numToleratedItems",loading:"loading",autoSize:"autoSize",trackBy:"trackBy",options:"options"},outputs:{onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange"},features:[Ne([Ul]),ae,ti],ngContentSelectors:ih,decls:3,vars:2,consts:[["disabledContainer",""],["element",""],["buildInContent",""],["content",""],["buildInLoader",""],["buildInLoaderIcon",""],[4,"ngIf","ngIfElse"],[3,"scroll","ngStyle","ngClass"],["class","p-virtualscroller-spacer",3,"ngStyle",4,"ngIf"],["class","p-virtualscroller-loader",3,"ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-virtualscroller-content",3,"ngClass","ngStyle"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-virtualscroller-spacer",3,"ngStyle"],[1,"p-virtualscroller-loader",3,"ngClass"],[4,"ngFor","ngForOf"],[3,"styleClass"],[4,"ngIf"]],template:function(n,r){if(n&1&&(vt(),b(0,Eh,8,16,"ng-container",6)(1,Ch,2,1,"ng-template",null,0,Pe)),n&2){let o=Ue(2);g("ngIf",!r._disabled)("ngIfElse",o)}},dependencies:[ve,at,oi,De,Lt,Nt,Ol,We],encapsulation:2})}return i})();var Oh=({dt:i})=>`
.p-tooltip {
    position: absolute;
    display: none;
    max-width: ${i("tooltip.max.width")};
}

.p-tooltip-right,
.p-tooltip-left {
    padding: 0 ${i("tooltip.gutter")};
}

.p-tooltip-top,
.p-tooltip-bottom {
    padding: ${i("tooltip.gutter")} 0;
}

.p-tooltip-text {
    white-space: pre-line;
    word-break: break-word;
    background: ${i("tooltip.background")};
    color: ${i("tooltip.color")};
    padding: ${i("tooltip.padding")};
    box-shadow: ${i("tooltip.shadow")};
    border-radius: ${i("tooltip.border.radius")};
}

.p-tooltip-arrow {
    position: absolute;
    width: 0;
    height: 0;
    border-color: transparent;
    border-style: solid;
    scale: 2;
}

.p-tooltip-right .p-tooltip-arrow {
    top: 50%;
    left: 0;
    margin-top: calc(-1 * ${i("tooltip.gutter")});
    border-width: ${i("tooltip.gutter")} ${i("tooltip.gutter")} ${i("tooltip.gutter")} 0;
    border-right-color: ${i("tooltip.background")};
}

.p-tooltip-left .p-tooltip-arrow {
    top: 50%;
    right: 0;
    margin-top: calc(-1 * ${i("tooltip.gutter")});
    border-width: ${i("tooltip.gutter")} 0 ${i("tooltip.gutter")} ${i("tooltip.gutter")};
    border-left-color: ${i("tooltip.background")};
}

.p-tooltip-top .p-tooltip-arrow {
    bottom: 0;
    left: 50%;
    margin-left: calc(-1 * ${i("tooltip.gutter")});
    border-width: ${i("tooltip.gutter")} ${i("tooltip.gutter")} 0 ${i("tooltip.gutter")};
    border-top-color: ${i("tooltip.background")};
    border-bottom-color: ${i("tooltip.background")};
}

.p-tooltip-bottom .p-tooltip-arrow {
    top: 0;
    left: 50%;
    margin-left: calc(-1 * ${i("tooltip.gutter")});
    border-width: 0 ${i("tooltip.gutter")} ${i("tooltip.gutter")} ${i("tooltip.gutter")};
    border-top-color: ${i("tooltip.background")};
    border-bottom-color: ${i("tooltip.background")};
}
`,Ah={root:"p-tooltip p-component",arrow:"p-tooltip-arrow",text:"p-tooltip-text"},Hl=(()=>{class i extends Le{name="tooltip";theme=Oh;classes=Ah;static \u0275fac=(()=>{let e;return function(r){return(e||(e=ee(i)))(r||i)}})();static \u0275prov=J({token:i,factory:i.\u0275fac})}return i})();var Bl=(()=>{class i extends Re{zone;viewContainer;tooltipPosition;tooltipEvent="hover";appendTo;positionStyle;tooltipStyleClass;tooltipZIndex;escape=!0;showDelay;hideDelay;life;positionTop;positionLeft;autoHide=!0;fitContent=!0;hideOnEscape=!0;content;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this.deactivate()}tooltipOptions;_tooltipOptions={tooltipLabel:null,tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",positionStyle:null,tooltipStyleClass:null,tooltipZIndex:"auto",escape:!0,disabled:null,showDelay:null,hideDelay:null,positionTop:null,positionLeft:null,life:null,autoHide:!0,hideOnEscape:!0,id:di("pn_id_")+"_tooltip"};_disabled;container;styleClass;tooltipText;showTimeout;hideTimeout;active;mouseEnterListener;mouseLeaveListener;containerMouseleaveListener;clickListener;focusListener;blurListener;documentEscapeListener;scrollHandler;resizeListener;_componentStyle=Ee(Hl);interactionInProgress=!1;constructor(e,n){super(),this.zone=e,this.viewContainer=n}ngAfterViewInit(){super.ngAfterViewInit(),Se(this.platformId)&&this.zone.runOutsideAngular(()=>{let e=this.getOption("tooltipEvent");if((e==="hover"||e==="both")&&(this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onInputClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("click",this.clickListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener)),e==="focus"||e==="both"){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let n=this.el.nativeElement.querySelector(".p-component");n||(n=this.getTarget(this.el.nativeElement)),n.addEventListener("focus",this.focusListener),n.addEventListener("blur",this.blurListener)}})}ngOnChanges(e){super.ngOnChanges(e),e.tooltipPosition&&this.setOption({tooltipPosition:e.tooltipPosition.currentValue}),e.tooltipEvent&&this.setOption({tooltipEvent:e.tooltipEvent.currentValue}),e.appendTo&&this.setOption({appendTo:e.appendTo.currentValue}),e.positionStyle&&this.setOption({positionStyle:e.positionStyle.currentValue}),e.tooltipStyleClass&&this.setOption({tooltipStyleClass:e.tooltipStyleClass.currentValue}),e.tooltipZIndex&&this.setOption({tooltipZIndex:e.tooltipZIndex.currentValue}),e.escape&&this.setOption({escape:e.escape.currentValue}),e.showDelay&&this.setOption({showDelay:e.showDelay.currentValue}),e.hideDelay&&this.setOption({hideDelay:e.hideDelay.currentValue}),e.life&&this.setOption({life:e.life.currentValue}),e.positionTop&&this.setOption({positionTop:e.positionTop.currentValue}),e.positionLeft&&this.setOption({positionLeft:e.positionLeft.currentValue}),e.disabled&&this.setOption({disabled:e.disabled.currentValue}),e.content&&(this.setOption({tooltipLabel:e.content.currentValue}),this.active&&(e.content.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),e.autoHide&&this.setOption({autoHide:e.autoHide.currentValue}),e.id&&this.setOption({id:e.id.currentValue}),e.tooltipOptions&&(this._tooltipOptions=Z(Z({},this._tooltipOptions),e.tooltipOptions.currentValue),this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}isAutoHide(){return this.getOption("autoHide")}onMouseEnter(e){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(e){this.isAutoHide()?this.deactivate():!(zi(e.relatedTarget,"p-tooltip")||zi(e.relatedTarget,"p-tooltip-text")||zi(e.relatedTarget,"p-tooltip-arrow"))&&this.deactivate()}onFocus(e){this.activate()}onBlur(e){this.deactivate()}onInputClick(e){this.deactivate()}activate(){if(!this.interactionInProgress){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let e=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},e)}this.getOption("hideOnEscape")&&(this.documentEscapeListener=this.renderer.listen("document","keydown.escape",()=>{this.deactivate(),this.documentEscapeListener()})),this.interactionInProgress=!0}}deactivate(){this.interactionInProgress=!1,this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide(),this.documentEscapeListener&&this.documentEscapeListener()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div"),this.container.setAttribute("id",this.getOption("id")),this.container.setAttribute("role","tooltip");let e=document.createElement("div");e.className="p-tooltip-arrow",this.container.appendChild(e),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),this.getOption("appendTo")==="body"?document.body.appendChild(this.container):this.getOption("appendTo")==="target"?eo(this.container,this.el.nativeElement):eo(this.getOption("appendTo"),this.container),this.container.style.display="none",this.fitContent&&(this.container.style.width="fit-content"),this.isAutoHide()?this.container.style.pointerEvents="none":(this.container.style.pointerEvents="unset",this.bindContainerMouseleaveListener())}bindContainerMouseleaveListener(){if(!this.containerMouseleaveListener){let e=this.container??this.container.nativeElement;this.containerMouseleaveListener=this.renderer.listen(e,"mouseleave",n=>{this.deactivate()})}}unbindContainerMouseleaveListener(){this.containerMouseleaveListener&&(this.bindContainerMouseleaveListener(),this.containerMouseleaveListener=null)}show(){if(!this.getOption("tooltipLabel")||this.getOption("disabled"))return;this.create(),this.el.nativeElement.closest("p-dialog")?setTimeout(()=>{this.container&&(this.container.style.display="inline-block"),this.container&&this.align()},100):(this.container.style.display="inline-block",this.align()),pl(this.container,250),this.getOption("tooltipZIndex")==="auto"?Tt.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener()}hide(){this.getOption("tooltipZIndex")==="auto"&&Tt.clear(this.container),this.remove()}updateText(){let e=this.getOption("tooltipLabel");if(e instanceof Da){let n=this.viewContainer.createEmbeddedView(e);n.detectChanges(),n.rootNodes.forEach(r=>this.tooltipText.appendChild(r))}else this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(e))):this.tooltipText.innerHTML=e}align(){let e=this.getOption("tooltipPosition"),n={top:[this.alignTop,this.alignBottom,this.alignRight,this.alignLeft],bottom:[this.alignBottom,this.alignTop,this.alignRight,this.alignLeft],left:[this.alignLeft,this.alignRight,this.alignTop,this.alignBottom],right:[this.alignRight,this.alignLeft,this.alignTop,this.alignBottom]};for(let[r,o]of n[e].entries())if(r===0)o.call(this);else if(this.isOutOfBounds())o.call(this);else break}getHostOffset(){if(this.getOption("appendTo")==="body"||this.getOption("appendTo")==="target"){let e=this.el.nativeElement.getBoundingClientRect(),n=e.left+ul(),r=e.top+hl();return{left:n,top:r}}else return{left:0,top:0}}get activeElement(){return this.el.nativeElement.nodeName.startsWith("P-")?He(this.el.nativeElement,".p-component"):this.el.nativeElement}alignRight(){this.preAlign("right");let e=this.activeElement,n=It(e),r=(Et(e)-Et(this.container))/2;this.alignTooltip(n,r)}alignLeft(){this.preAlign("left");let e=It(this.container),n=(Et(this.el.nativeElement)-Et(this.container))/2;this.alignTooltip(-e,n)}alignTop(){this.preAlign("top");let e=(It(this.el.nativeElement)-It(this.container))/2,n=Et(this.container);this.alignTooltip(e,-n)}alignBottom(){this.preAlign("bottom");let e=(It(this.el.nativeElement)-It(this.container))/2,n=Et(this.el.nativeElement);this.alignTooltip(e,n)}alignTooltip(e,n){let r=this.getHostOffset(),o=r.left+e,s=r.top+n;this.container.style.left=o+this.getOption("positionLeft")+"px",this.container.style.top=s+this.getOption("positionTop")+"px"}setOption(e){this._tooltipOptions=Z(Z({},this._tooltipOptions),e)}getOption(e){return this._tooltipOptions[e]}getTarget(e){return zi(e,"p-inputwrapper")?He(e,"input"):e}preAlign(e){this.container.style.left="-999px",this.container.style.top="-999px";let n="p-tooltip p-component p-tooltip-"+e;this.container.className=this.getOption("tooltipStyleClass")?n+" "+this.getOption("tooltipStyleClass"):n}isOutOfBounds(){let e=this.container.getBoundingClientRect(),n=e.top,r=e.left,o=It(this.container),s=Et(this.container),a=dl();return r+o>a.width||r<0||n<0||n+s>a.height}onWindowResize(e){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Cn(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){let e=this.getOption("tooltipEvent");if((e==="hover"||e==="both")&&(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)),e==="focus"||e==="both"){let n=this.el.nativeElement.querySelector(".p-component");n||(n=this.getTarget(this.el.nativeElement)),n.removeEventListener("focus",this.focusListener),n.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&(this.getOption("appendTo")==="body"?document.body.removeChild(this.container):this.getOption("appendTo")==="target"?this.el.nativeElement.removeChild(this.container):yl(this.getOption("appendTo"),this.container)),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.unbindContainerMouseleaveListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),super.ngOnDestroy(),this.container&&Tt.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.documentEscapeListener&&this.documentEscapeListener()}static \u0275fac=function(n){return new(n||i)(U(_e),U(Ma))};static \u0275dir=Na({type:i,selectors:[["","pTooltip",""]],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:[2,"escape","escape",H],showDelay:[2,"showDelay","showDelay",$e],hideDelay:[2,"hideDelay","hideDelay",$e],life:[2,"life","life",$e],positionTop:[2,"positionTop","positionTop",$e],positionLeft:[2,"positionLeft","positionLeft",$e],autoHide:[2,"autoHide","autoHide",H],fitContent:[2,"fitContent","fitContent",H],hideOnEscape:[2,"hideOnEscape","hideOnEscape",H],content:[0,"pTooltip","content"],disabled:[0,"tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[Ne([Hl]),ae,ti]})}return i})(),Wl=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Te({type:i});static \u0275inj=Ie({})}return i})();var Wi=i=>({height:i}),Dh=(i,t,e)=>({"p-select-option":!0,"p-select-option-selected":i,"p-disabled":t,"p-focus":e}),vo=i=>({$implicit:i});function Rh(i,t){i&1&&M(0,"CheckIcon",4),i&2&&g("styleClass","p-select-option-check-icon")}function Mh(i,t){i&1&&M(0,"BlankIcon",4),i&2&&g("styleClass","p-select-option-blank-icon")}function Nh(i,t){if(i&1&&(te(0),b(1,Rh,1,1,"CheckIcon",3)(2,Mh,1,1,"BlankIcon",3),ie()),i&2){let e=p();m(),g("ngIf",e.selected),m(),g("ngIf",!e.selected)}}function Lh(i,t){if(i&1&&(h(0,"span"),y(1),d()),i&2){let e,n=p();m(),wt((e=n.label)!==null&&e!==void 0?e:"empty")}}function Fh(i,t){i&1&&ne(0)}var Vh=["container"],zh=["filter"],Uh=["focusInput"],$h=["editableInput"],Hh=["items"],Bh=["scroller"],Wh=["overlay"],jh=["firstHiddenFocusableEl"],qh=["lastHiddenFocusableEl"],Kh=()=>({class:"p-select-clear-icon"}),Gh=()=>({class:"p-select-dropdown-icon"}),Kl=i=>({options:i}),Gl=(i,t)=>({$implicit:i,options:t}),Qh=()=>({});function Yh(i,t){if(i&1&&(te(0),y(1),ie()),i&2){let e=p(2);m(),wt(e.label()==="p-emptylabel"?"\xA0":e.label())}}function Zh(i,t){if(i&1&&ne(0,23),i&2){let e=p(2);g("ngTemplateOutlet",e.selectedItemTemplate)("ngTemplateOutletContext",Y(2,vo,e.selectedOption))}}function Jh(i,t){if(i&1&&(h(0,"span"),y(1),d()),i&2){let e=p(3);m(),wt(e.label()==="p-emptylabel"?"\xA0":e.label())}}function Xh(i,t){if(i&1&&b(0,Jh,2,1,"span",17),i&2){let e=p(2);g("ngIf",!e.selectedOption)}}function ep(i,t){if(i&1){let e=$();h(0,"span",21,3),E("focus",function(r){T(e);let o=p();return S(o.onInputFocus(r))})("blur",function(r){T(e);let o=p();return S(o.onInputBlur(r))})("keydown",function(r){T(e);let o=p();return S(o.onKeyDown(r))}),b(2,Yh,2,1,"ng-container",19)(3,Zh,1,4,"ng-container",22)(4,Xh,1,1,"ng-template",null,4,Pe),d()}if(i&2){let e,n=Ue(5),r=p();g("ngClass",r.inputClass)("pTooltip",r.tooltip)("tooltipPosition",r.tooltipPosition)("positionStyle",r.tooltipPositionStyle)("tooltipStyleClass",r.tooltipStyleClass)("pAutoFocus",r.autofocus),q("aria-disabled",r.disabled)("id",r.inputId)("aria-label",r.ariaLabel||(r.label()==="p-emptylabel"?void 0:r.label()))("aria-labelledby",r.ariaLabelledBy)("aria-haspopup","listbox")("aria-expanded",(e=r.overlayVisible)!==null&&e!==void 0?e:!1)("aria-controls",r.overlayVisible?r.id+"_list":null)("tabindex",r.disabled?-1:r.tabindex)("aria-activedescendant",r.focused?r.focusedOptionId:void 0)("aria-required",r.required)("required",r.required),m(2),g("ngIf",!r.selectedItemTemplate)("ngIfElse",n),m(),g("ngIf",r.selectedItemTemplate&&r.selectedOption)}}function tp(i,t){if(i&1){let e=$();h(0,"input",24,5),E("input",function(r){T(e);let o=p();return S(o.onEditableInput(r))})("keydown",function(r){T(e);let o=p();return S(o.onKeyDown(r))})("focus",function(r){T(e);let o=p();return S(o.onInputFocus(r))})("blur",function(r){T(e);let o=p();return S(o.onInputBlur(r))}),d()}if(i&2){let e=p();g("ngClass",e.inputClass)("disabled",e.disabled)("pAutoFocus",e.autofocus),q("id",e.inputId)("maxlength",e.maxlength)("placeholder",e.modelValue()===void 0||e.modelValue()===null?e.placeholder():void 0)("aria-label",e.ariaLabel||(e.label()==="p-emptylabel"?void 0:e.label()))("aria-activedescendant",e.focused?e.focusedOptionId:void 0)}}function ip(i,t){if(i&1){let e=$();h(0,"TimesIcon",26),E("click",function(r){T(e);let o=p(2);return S(o.clear(r))}),d()}i&2&&q("data-pc-section","clearicon")}function np(i,t){}function rp(i,t){i&1&&b(0,np,0,0,"ng-template")}function op(i,t){if(i&1){let e=$();h(0,"span",26),E("click",function(r){T(e);let o=p(2);return S(o.clear(r))}),b(1,rp,1,0,null,27),d()}if(i&2){let e=p(2);q("data-pc-section","clearicon"),m(),g("ngTemplateOutlet",e.clearIconTemplate)("ngTemplateOutletContext",ni(3,Kh))}}function sp(i,t){if(i&1&&(te(0),b(1,ip,1,1,"TimesIcon",25)(2,op,2,4,"span",25),ie()),i&2){let e=p();m(),g("ngIf",!e.clearIconTemplate),m(),g("ngIf",e.clearIconTemplate)}}function ap(i,t){i&1&&ne(0)}function lp(i,t){if(i&1&&(te(0),b(1,ap,1,0,"ng-container",28),ie()),i&2){let e=p(2);m(),g("ngTemplateOutlet",e.loadingIconTemplate)}}function cp(i,t){if(i&1&&M(0,"span",31),i&2){let e=p(3);g("ngClass","p-select-loading-icon pi-spin "+e.loadingIcon)}}function dp(i,t){i&1&&M(0,"span",32),i&2&&ue("p-select-loading-icon pi pi-spinner pi-spin")}function up(i,t){if(i&1&&(te(0),b(1,cp,1,1,"span",29)(2,dp,1,2,"span",30),ie()),i&2){let e=p(2);m(),g("ngIf",e.loadingIcon),m(),g("ngIf",!e.loadingIcon)}}function hp(i,t){if(i&1&&(te(0),b(1,lp,2,1,"ng-container",17)(2,up,3,2,"ng-container",17),ie()),i&2){let e=p();m(),g("ngIf",e.loadingIconTemplate),m(),g("ngIf",!e.loadingIconTemplate)}}function pp(i,t){if(i&1&&M(0,"span",36),i&2){let e=p(3);g("ngClass",e.dropdownIcon)}}function fp(i,t){i&1&&M(0,"ChevronDownIcon",37),i&2&&g("styleClass","p-select-dropdown-icon")}function mp(i,t){if(i&1&&(te(0),b(1,pp,1,1,"span",34)(2,fp,1,1,"ChevronDownIcon",35),ie()),i&2){let e=p(2);m(),g("ngIf",e.dropdownIcon),m(),g("ngIf",!e.dropdownIcon)}}function gp(i,t){}function _p(i,t){i&1&&b(0,gp,0,0,"ng-template")}function yp(i,t){if(i&1&&(h(0,"span",38),b(1,_p,1,0,null,27),d()),i&2){let e=p(2);m(),g("ngTemplateOutlet",e.dropdownIconTemplate)("ngTemplateOutletContext",ni(2,Gh))}}function vp(i,t){if(i&1&&b(0,mp,3,2,"ng-container",17)(1,yp,2,3,"span",33),i&2){let e=p();g("ngIf",!e.dropdownIconTemplate),m(),g("ngIf",e.dropdownIconTemplate)}}function bp(i,t){i&1&&ne(0)}function wp(i,t){i&1&&ne(0)}function Ip(i,t){if(i&1&&(te(0),b(1,wp,1,0,"ng-container",27),ie()),i&2){let e=p(3);m(),g("ngTemplateOutlet",e.filterTemplate)("ngTemplateOutletContext",Y(2,Kl,e.filterOptions))}}function Ep(i,t){i&1&&M(0,"SearchIcon")}function Tp(i,t){}function Sp(i,t){i&1&&b(0,Tp,0,0,"ng-template")}function Cp(i,t){if(i&1&&(h(0,"span"),b(1,Sp,1,0,null,28),d()),i&2){let e=p(4);m(),g("ngTemplateOutlet",e.filterIconTemplate)}}function xp(i,t){if(i&1){let e=$();h(0,"p-iconfield")(1,"input",45,10),E("input",function(r){T(e);let o=p(3);return S(o.onFilterInputChange(r))})("keydown",function(r){T(e);let o=p(3);return S(o.onFilterKeyDown(r))})("blur",function(r){T(e);let o=p(3);return S(o.onFilterBlur(r))}),d(),h(3,"p-inputicon"),b(4,Ep,1,0,"SearchIcon",17)(5,Cp,2,1,"span",17),d()()}if(i&2){let e=p(3);m(),g("value",e._filterValue()||"")("variant",e.variant),q("placeholder",e.filterPlaceholder)("aria-owns",e.id+"_list")("aria-label",e.ariaFilterLabel)("aria-activedescendant",e.focusedOptionId),m(3),g("ngIf",!e.filterIconTemplate),m(),g("ngIf",e.filterIconTemplate)}}function Op(i,t){if(i&1){let e=$();h(0,"div",44),E("click",function(r){return T(e),S(r.stopPropagation())}),b(1,Ip,2,4,"ng-container",19)(2,xp,6,8,"ng-template",null,9,Pe),d()}if(i&2){let e=Ue(3),n=p(2);m(),g("ngIf",n.filterTemplate)("ngIfElse",e)}}function Ap(i,t){i&1&&ne(0)}function kp(i,t){if(i&1&&b(0,Ap,1,0,"ng-container",27),i&2){let e=t.$implicit,n=t.options;p(2);let r=Ue(9);g("ngTemplateOutlet",r)("ngTemplateOutletContext",Je(2,Gl,e,n))}}function Pp(i,t){i&1&&ne(0)}function Dp(i,t){if(i&1&&b(0,Pp,1,0,"ng-container",27),i&2){let e=t.options,n=p(4);g("ngTemplateOutlet",n.loaderTemplate)("ngTemplateOutletContext",Y(2,Kl,e))}}function Rp(i,t){i&1&&(te(0),b(1,Dp,1,4,"ng-template",null,12,Pe),ie())}function Mp(i,t){if(i&1){let e=$();h(0,"p-scroller",46,11),E("onLazyLoad",function(r){T(e);let o=p(2);return S(o.onLazyLoad.emit(r))}),b(2,kp,1,5,"ng-template",null,2,Pe)(4,Rp,3,0,"ng-container",17),d()}if(i&2){let e=p(2);vn(Y(8,Wi,e.scrollHeight)),g("items",e.visibleOptions())("itemSize",e.virtualScrollItemSize||e._itemSize)("autoSize",!0)("lazy",e.lazy)("options",e.virtualScrollOptions),m(4),g("ngIf",e.loaderTemplate)}}function Np(i,t){i&1&&ne(0)}function Lp(i,t){if(i&1&&(te(0),b(1,Np,1,0,"ng-container",27),ie()),i&2){p();let e=Ue(9),n=p();m(),g("ngTemplateOutlet",e)("ngTemplateOutletContext",Je(3,Gl,n.visibleOptions(),ni(2,Qh)))}}function Fp(i,t){if(i&1&&(h(0,"span"),y(1),d()),i&2){let e=p(2).$implicit,n=p(3);m(),wt(n.getOptionGroupLabel(e.optionGroup))}}function Vp(i,t){i&1&&ne(0)}function zp(i,t){if(i&1&&(te(0),h(1,"li",50),b(2,Fp,2,1,"span",17)(3,Vp,1,0,"ng-container",27),d(),ie()),i&2){let e=p(),n=e.$implicit,r=e.index,o=p().options,s=p(2);m(),g("ngStyle",Y(5,Wi,o.itemSize+"px")),q("id",s.id+"_"+s.getOptionIndex(r,o)),m(),g("ngIf",!s.groupTemplate),m(),g("ngTemplateOutlet",s.groupTemplate)("ngTemplateOutletContext",Y(7,vo,n.optionGroup))}}function Up(i,t){if(i&1){let e=$();te(0),h(1,"p-dropdownItem",51),E("onClick",function(r){T(e);let o=p().$implicit,s=p(3);return S(s.onOptionSelect(r,o))})("onMouseEnter",function(r){T(e);let o=p().index,s=p().options,a=p(2);return S(a.onOptionMouseEnter(r,a.getOptionIndex(o,s)))}),d(),ie()}if(i&2){let e=p(),n=e.$implicit,r=e.index,o=p().options,s=p(2);m(),g("id",s.id+"_"+s.getOptionIndex(r,o))("option",n)("checkmark",s.checkmark)("selected",s.isSelected(n))("label",s.getOptionLabel(n))("disabled",s.isOptionDisabled(n))("template",s.itemTemplate)("focused",s.focusedOptionIndex()===s.getOptionIndex(r,o))("ariaPosInset",s.getAriaPosInset(s.getOptionIndex(r,o)))("ariaSetSize",s.ariaSetSize)}}function $p(i,t){if(i&1&&b(0,zp,4,9,"ng-container",17)(1,Up,2,10,"ng-container",17),i&2){let e=t.$implicit,n=p(3);g("ngIf",n.isOptionGroup(e)),m(),g("ngIf",!n.isOptionGroup(e))}}function Hp(i,t){if(i&1&&y(0),i&2){let e=p(4);he(" ",e.emptyFilterMessageLabel," ")}}function Bp(i,t){i&1&&ne(0,null,14)}function Wp(i,t){if(i&1&&b(0,Bp,2,0,"ng-container",28),i&2){let e=p(4);g("ngTemplateOutlet",e.emptyFilterTemplate||e.emptyTemplate)}}function jp(i,t){if(i&1&&(h(0,"li",52),b(1,Hp,1,1)(2,Wp,1,1,"ng-container"),d()),i&2){let e=p().options,n=p(2);g("ngStyle",Y(2,Wi,e.itemSize+"px")),m(),X(!n.emptyFilterTemplate&&!n.emptyTemplate?1:2)}}function qp(i,t){if(i&1&&y(0),i&2){let e=p(4);he(" ",e.emptyMessageLabel," ")}}function Kp(i,t){i&1&&ne(0)}function Gp(i,t){if(i&1&&b(0,Kp,1,0,"ng-container",28),i&2){let e=p(4);g("ngTemplateOutlet",e.emptyTemplate)}}function Qp(i,t){if(i&1&&(h(0,"li",52),b(1,qp,1,1)(2,Gp,1,1,"ng-container"),d()),i&2){let e=p().options,n=p(2);g("ngStyle",Y(2,Wi,e.itemSize+"px")),m(),X(n.emptyTemplate?2:1)}}function Yp(i,t){if(i&1&&(h(0,"ul",47,13),b(2,$p,2,2,"ng-template",48)(3,jp,3,4,"li",49)(4,Qp,3,4,"li",49),d()),i&2){let e=t.$implicit,n=t.options,r=p(2);vn(n.contentStyle),g("ngClass",n.contentStyleClass),q("id",r.id+"_list")("aria-label",r.listLabel),m(2),g("ngForOf",e),m(),g("ngIf",r.filterValue&&r.isEmpty()),m(),g("ngIf",!r.filterValue&&r.isEmpty())}}function Zp(i,t){i&1&&ne(0)}function Jp(i,t){if(i&1){let e=$();h(0,"div",39)(1,"span",40,6),E("focus",function(r){T(e);let o=p();return S(o.onFirstHiddenFocus(r))}),d(),b(3,bp,1,0,"ng-container",28)(4,Op,4,2,"div",41),h(5,"div",42),b(6,Mp,5,10,"p-scroller",43)(7,Lp,2,6,"ng-container",17)(8,Yp,5,8,"ng-template",null,7,Pe),d(),b(10,Zp,1,0,"ng-container",28),h(11,"span",40,8),E("focus",function(r){T(e);let o=p();return S(o.onLastHiddenFocus(r))}),d()()}if(i&2){let e=p();ue(e.panelStyleClass),g("ngClass","p-select-overlay p-component")("ngStyle",e.panelStyle),m(),q("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0),m(2),g("ngTemplateOutlet",e.headerTemplate),m(),g("ngIf",e.filter),m(),yn("max-height",e.virtualScroll?"auto":e.scrollHeight||"auto"),m(),g("ngIf",e.virtualScroll),m(),g("ngIf",!e.virtualScroll),m(3),g("ngTemplateOutlet",e.footerTemplate),m(),q("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0)}}var Xp=({dt:i})=>`
.p-select {
    display: inline-flex;
    cursor: pointer;
    position: relative;
    user-select: none;
    background: ${i("select.background")};
    border: 1px solid ${i("select.border.color")};
    transition: background ${i("select.transition.duration")}, color ${i("select.transition.duration")}, border-color ${i("select.transition.duration")},
        outline-color ${i("select.transition.duration")}, box-shadow ${i("select.transition.duration")};
    border-radius: ${i("select.border.radius")};
    outline-color: transparent;
    box-shadow: ${i("select.shadow")};
}

.p-select:not(.p-disabled):hover {
    border-color: ${i("select.hover.border.color")};
}

.p-select:not(.p-disabled).p-focus {
    border-color: ${i("select.focus.border.color")};
    box-shadow: ${i("select.focus.ring.shadow")};
    outline: ${i("select.focus.ring.width")} ${i("select.focus.ring.style")} ${i("select.focus.ring.color")};
    outline-offset: ${i("select.focus.ring.offset")};
}

.p-select.p-variant-filled {
    background: ${i("select.filled.background")};
}

.p-select.p-variant-filled.p-focus {
    background: ${i("select.filled.focus.background")};
}

.p-select.p-disabled {
    opacity: 1;
    background: ${i("select.disabled.background")};
}

.p-select-clear-icon {
    position: absolute;
    top: 50%;
    margin-top: -0.5rem;
    color: ${i("select.clear.icon.color")};
    right: ${i("select.dropdown.width")};
}

.p-select-dropdown {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    background: transparent;
    color: ${i("select.dropdown.color")};
    width: ${i("select.dropdown.width")};
    border-start-end-radius: ${i("select.border.radius")};
    border-end-end-radius: ${i("select.border.radius")};
}

.p-select-label {
    display: block;
    white-space: nowrap;
    overflow: hidden;
    flex: 1 1 auto;
    width: 1%;
    padding: ${i("select.padding.y")} ${i("select.padding.x")};
    text-overflow: ellipsis;
    cursor: pointer;
    color: ${i("select.color")};
    background: transparent;
    border: 0 none;
    outline: 0 none;
}

.p-select-label.p-placeholder {
    color: ${i("select.placeholder.color")};
}

.p-select:has(.p-select-clear-icon) .p-select-label {
    padding-right: calc(1rem + ${i("select.padding.x")});
}

.p-select.p-disabled .p-select-label {
    color: ${i("select.disabled.color")};
}

.p-select-label-empty {
    overflow: hidden;
    opacity: 0;
}

input.p-select-label {
    cursor: default;
}

.p-select .p-select-overlay {
    min-width: 100%;
}

.p-select-overlay {
    position: absolute;
    top: 0;
    left: 0;
    background: ${i("select.overlay.background")};
    color: ${i("select.overlay.color")};
    border: 1px solid ${i("select.overlay.border.color")};
    border-radius: ${i("select.overlay.border.radius")};
    box-shadow: ${i("select.overlay.shadow")};
}

.p-select-header {
    padding: ${i("select.list.header.padding")};
}

.p-select-filter {
    width: 100%;
}

.p-select-list-container {
    overflow: auto;
}

.p-select-option-group {
    cursor: auto;
    margin: 0;
    padding: ${i("select.option.group.padding")};
    background: ${i("select.option.group.background")};
    color: ${i("select.option.group.color")};
    font-weight: ${i("select.option.group.font.weight")};
}

.p-select-list {
    margin: 0;
    padding: 0;
    list-style-type: none;
    padding: ${i("select.list.padding")};
    gap: ${i("select.list.gap")};
    display: flex;
    flex-direction: column;
}

.p-select-option {
    cursor: pointer;
    font-weight: normal;
    white-space: nowrap;
    position: relative;
    overflow: hidden;
    display: flex;
    align-items: center;
    padding: ${i("select.option.padding")};
    border: 0 none;
    color: ${i("select.option.color")};
    background: transparent;
    transition: background ${i("select.transition.duration")}, color ${i("select.transition.duration")}, border-color ${i("select.transition.duration")},
    box-shadow ${i("select.transition.duration")}, outline-color ${i("select.transition.duration")};
    border-radius: ${i("select.option.border.radius")};
}

.p-select-option:not(.p-select-option-selected):not(.p-disabled).p-focus {
    background: ${i("select.option.focus.background")};
    color: ${i("select.option.focus.color")};
}

.p-select-option.p-select-option-selected {
    background: ${i("select.option.selected.background")};
    color: ${i("select.option.selected.color")};
}

.p-select-option.p-select-option-selected.p-focus {
    background: ${i("select.option.selected.focus.background")};
    color: ${i("select.option.selected.focus.color")};
}

.p-select-option-check-icon {
    position: relative;
    margin-inline-start: ${i("select.checkmark.gutter.start")};
    margin-inline-end: ${i("select.checkmark.gutter.end")};
    color: ${i("select.checkmark.color")};
}

.p-select-empty-message {
    padding: ${i("select.empty.message.padding")};
}

.p-select-fluid {
    display: flex;
}

/*For PrimeNG*/

.p-dropdown.ng-invalid.ng-dirty,
.p-select.ng-invalid.ng-dirty {
    outline: 1px solid ${i("select.invalid.border.color")};
    outline-offset: 0;
}

.p-dropdown.ng-invalid.ng-dirty .p-dropdown-label.p-placeholder,
.p-select.ng-invalid.ng-dirty .p-select-label.p-placeholder {
    color: ${i("select.invalid.placeholder.color")};
}
`,ef={root:({instance:i})=>["p-dropdown p-select p-component p-inputwrapper",{"p-disabled":i.disabled,"p-variant-filled":i.variant==="filled"||i.config.inputVariant()==="filled"||i.config.inputStyle()==="filled","p-focus":i.focused,"p-inputwrapper-filled":i.modelValue()!==void 0&&i.modelValue()!==null&&!i.modelValue().length,"p-inputwrapper-focus":i.focused||i.overlayVisible,"p-select-open":i.overlayVisible,"p-select-fluid":i.hasFluid,"p-select-sm p-inputfield-sm":i.size==="small","p-select-lg p-inputfield-lg":i.size==="large"}],label:({instance:i,props:t})=>["p-select-label",{"p-placeholder":!t.editable&&i.label===t.placeholder,"p-select-label-empty":!t.editable&&!i.$slots.value&&(i.label==="p-emptylabel"||i.label.length===0)}],clearIcon:"p-select-clear-icon",dropdown:"p-select-dropdown",loadingicon:"p-select-loading-icon",dropdownIcon:"p-select-dropdown-icon",overlay:"p-select-overlay p-component",header:"p-select-header",pcFilter:"p-select-filter",listContainer:"p-select-list-container",list:"p-select-list",optionGroup:"p-select-option-group",optionGroupLabel:"p-select-option-group-label",option:({instance:i,props:t,state:e,option:n,focusedOption:r})=>["p-select-option",{"p-select-option-selected":i.isSelected(n)&&t.highlightOnSelect,"p-focus":e.focusedOptionIndex===r,"p-disabled":i.isOptionDisabled(n)}],optionLabel:"p-select-option-label",optionCheckIcon:"p-select-option-check-icon",optionBlankIcon:"p-select-option-blank-icon",emptyMessage:"p-select-empty-message"},jl=(()=>{class i extends Le{name="select";theme=Xp;classes=ef;static \u0275fac=(()=>{let e;return function(r){return(e||(e=ee(i)))(r||i)}})();static \u0275prov=J({token:i,factory:i.\u0275fac})}return i})(),ql;ql||(ql={});var tf={provide:Qa,useExisting:Oa(()=>rf),multi:!0},nf=(()=>{class i extends Re{id;option;selected;focused;label;disabled;visible;itemSize;ariaPosInset;ariaSetSize;template;checkmark;onClick=new B;onMouseEnter=new B;onOptionClick(e){this.onClick.emit(e)}onOptionMouseEnter(e){this.onMouseEnter.emit(e)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ee(i)))(r||i)}})();static \u0275cmp=W({type:i,selectors:[["p-dropdownItem"]],inputs:{id:"id",option:"option",selected:[2,"selected","selected",H],focused:[2,"focused","focused",H],label:"label",disabled:[2,"disabled","disabled",H],visible:[2,"visible","visible",H],itemSize:[2,"itemSize","itemSize",$e],ariaPosInset:"ariaPosInset",ariaSetSize:"ariaSetSize",template:"template",checkmark:[2,"checkmark","checkmark",H]},outputs:{onClick:"onClick",onMouseEnter:"onMouseEnter"},standalone:!1,features:[ae],decls:4,vars:22,consts:[["role","option","pRipple","",3,"click","mouseenter","id","ngStyle","ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"styleClass",4,"ngIf"],[3,"styleClass"]],template:function(n,r){n&1&&(h(0,"li",0),E("click",function(s){return r.onOptionClick(s)})("mouseenter",function(s){return r.onOptionMouseEnter(s)}),b(1,Nh,3,2,"ng-container",1)(2,Lh,2,1,"span",1)(3,Fh,1,0,"ng-container",2),d()),n&2&&(g("id",r.id)("ngStyle",Y(14,Wi,r.itemSize+"px"))("ngClass",ri(16,Dh,r.selected,r.disabled,r.focused)),q("aria-label",r.label)("aria-setsize",r.ariaSetSize)("aria-posinset",r.ariaPosInset)("aria-selected",r.selected)("data-p-focused",r.focused)("data-p-highlight",r.selected)("data-p-disabled",r.disabled),m(),g("ngIf",r.checkmark),m(),g("ngIf",!r.template),m(),g("ngTemplateOutlet",r.template)("ngTemplateOutletContext",Y(20,vo,r.option)))},dependencies:()=>[at,De,Lt,Nt,Pl,uo,no],encapsulation:2})}return i})(),rf=(()=>{class i extends Re{zone;filterService;id;scrollHeight="200px";filter;name;style;panelStyle;styleClass;panelStyleClass;readonly;required;editable;appendTo;tabindex=0;set placeholder(e){this._placeholder.set(e)}get placeholder(){return this._placeholder.asReadonly()}loadingIcon;filterPlaceholder;filterLocale;variant;inputId;dataKey;filterBy;filterFields;autofocus;resetFilterOnHide=!1;checkmark=!1;dropdownIcon;loading=!1;optionLabel;optionValue;optionDisabled;optionGroupLabel="label";optionGroupChildren="items";autoDisplayFirst=!0;group;showClear;emptyFilterMessage="";emptyMessage="";lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;overlayOptions;ariaFilterLabel;ariaLabel;ariaLabelledBy;filterMatchMode="contains";maxlength;tooltip="";tooltipPosition="right";tooltipPositionStyle="absolute";tooltipStyleClass;focusOnHover=!1;selectOnFocus=!1;autoOptionFocus=!0;autofocusFilter=!0;fluid;get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=e,this.cd.destroyed||this.cd.detectChanges()}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e,console.log("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}_itemSize;get autoZIndex(){return this._autoZIndex}set autoZIndex(e){this._autoZIndex=e,console.log("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}_autoZIndex;get baseZIndex(){return this._baseZIndex}set baseZIndex(e){this._baseZIndex=e,console.log("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}_baseZIndex;get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(e){this._showTransitionOptions=e,console.log("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}_showTransitionOptions;get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(e){this._hideTransitionOptions=e,console.log("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}_hideTransitionOptions;get filterValue(){return this._filterValue()}set filterValue(e){setTimeout(()=>{this._filterValue.set(e)})}get options(){return this._options()}set options(e){wl(e,this._options())||this._options.set(e)}onChange=new B;onFilter=new B;onFocus=new B;onBlur=new B;onClick=new B;onShow=new B;onHide=new B;onClear=new B;onLazyLoad=new B;_componentStyle=Ee(jl);containerViewChild;filterViewChild;focusInputViewChild;editableInputViewChild;itemsViewChild;scroller;overlayViewChild;firstHiddenFocusableElementOnOverlay;lastHiddenFocusableElementOnOverlay;get hostClass(){return this._componentStyle.classes.root({instance:this}).map(n=>typeof n=="string"?n:Object.keys(n).filter(r=>n[r]).join(" ")).join(" ")+" "+this.styleClass}get hostStyle(){return this.style}_disabled;itemsWrapper;itemTemplate;groupTemplate;loaderTemplate;selectedItemTemplate;headerTemplate;filterTemplate;footerTemplate;emptyFilterTemplate;emptyTemplate;dropdownIconTemplate;loadingIconTemplate;clearIconTemplate;filterIconTemplate;filterOptions;_options=st(null);_placeholder=st(void 0);modelValue=st(null);value;onModelChange=()=>{};onModelTouched=()=>{};hover;focused;overlayVisible;optionsChanged;panel;selectedOptionUpdated;_filterValue=st(null);searchValue;searchTimeout;preventModelTouched;focusedOptionIndex=st(-1);clicked=st(!1);get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(Sn.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(Sn.EMPTY_FILTER_MESSAGE)}get isVisibleClearIcon(){return this.modelValue()!=null&&this.hasSelectedOption()&&this.showClear&&!this.disabled}get listLabel(){return this.config.getTranslation(Sn.ARIA).listLabel}get hasFluid(){let n=this.el.nativeElement.closest("p-fluid");return this.fluid||!!n}get inputClass(){let e=this.label();return{"p-select-label":!0,"p-placeholder":this.placeholder()&&e===this.placeholder(),"p-select-label-empty":!this.editable&&!this.selectedItemTemplate&&(e==null||e==="p-emptylabel"||e.length===0)}}get focusedOptionId(){return this.focusedOptionIndex()!==-1?`${this.id}_${this.focusedOptionIndex()}`:null}visibleOptions=Vi(()=>{let e=this.getAllVisibleAndNonVisibleOptions();if(this._filterValue()){let r=!(this.filterBy||this.optionLabel)&&!this.filterFields&&!this.optionValue?this.options.filter(o=>o.label?o.label.toString().toLowerCase().indexOf(this._filterValue().toLowerCase().trim())!==-1:o.toString().toLowerCase().indexOf(this._filterValue().toLowerCase().trim())!==-1):this.filterService.filter(e,this.searchFields(),this._filterValue().trim(),this.filterMatchMode,this.filterLocale);if(this.group){let o=this.options||[],s=[];return o.forEach(a=>{let c=this.getOptionGroupChildren(a).filter(f=>r.includes(f));c.length>0&&s.push(Dt(Z({},a),{[typeof this.optionGroupChildren=="string"?this.optionGroupChildren:"items"]:[...c]}))}),this.flatOptions(s)}return r}return e});label=Vi(()=>{let e=this.getAllVisibleAndNonVisibleOptions(),n=e.findIndex(r=>this.isOptionValueEqualsModelValue(r));return n!==-1?this.getOptionLabel(e[n]):this.placeholder()||"p-emptylabel"});filled=Vi(()=>typeof this.modelValue()=="string"?!!this.modelValue():this.label()!=="p-emptylabel"&&this.modelValue()!==void 0&&this.modelValue()!==null);selectedOption;editableInputValue=Vi(()=>this.getOptionLabel(this.selectedOption)||this.modelValue()||"");constructor(e,n){super(),this.zone=e,this.filterService=n,Ua(()=>{let r=this.modelValue(),o=this.visibleOptions();if(o&&Tn(o)){let s=this.findSelectedOptionIndex();(s!==-1||r===void 0||typeof r=="string"&&r.length===0||this.isModelValueNotSet()||this.editable)&&(this.selectedOption=o[s])}bl(o)&&(r===void 0||this.isModelValueNotSet())&&Tn(this.selectedOption)&&(this.selectedOption=null),r!==void 0&&this.editable&&this.updateEditableLabel(),this.cd.markForCheck()})}isModelValueNotSet(){return this.modelValue()===null&&!this.isOptionValueEqualsModelValue(this.selectedOption)}getAllVisibleAndNonVisibleOptions(){return this.group?this.flatOptions(this.options):this.options||[]}ngOnInit(){super.ngOnInit(),console.log("Dropdown component is deprecated as of v18, use Select component instead."),this.id=this.id||di("pn_id_"),this.autoUpdateModel(),this.filterBy&&(this.filterOptions={filter:e=>this.onFilterInputChange(e),reset:()=>this.resetFilter()})}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild&&this.overlayViewChild.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){let e=He(this.overlayViewChild?.overlayViewChild?.nativeElement,"li.p-highlight");e&&vl(this.itemsWrapper,e),this.selectedOptionUpdated=!1}}templates;ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this.itemTemplate=e.template;break;case"selectedItem":this.selectedItemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"filter":this.filterTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;case"loader":this.loaderTemplate=e.template;break;case"dropdownicon":this.dropdownIconTemplate=e.template;break;case"loadingicon":this.loadingIconTemplate=e.template;break;case"clearicon":this.clearIconTemplate=e.template;break;case"filtericon":this.filterIconTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}flatOptions(e){return(e||[]).reduce((n,r,o)=>{n.push({optionGroup:r,group:!0,index:o});let s=this.getOptionGroupChildren(r);return s&&s.forEach(a=>n.push(a)),n},[])}autoUpdateModel(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption()&&(this.focusedOptionIndex.set(this.findFirstFocusedOptionIndex()),this.onOptionSelect(null,this.visibleOptions()[this.focusedOptionIndex()],!1)),this.autoDisplayFirst&&(this.modelValue()===null||this.modelValue()===void 0)&&!this.placeholder()){let e=this.findFirstOptionIndex();this.onOptionSelect(null,this.visibleOptions()[e],!1,!0)}}onOptionSelect(e,n,r=!0,o=!1){if(!this.isSelected(n)){let s=this.getOptionValue(n);this.updateModel(s,e),this.focusedOptionIndex.set(this.findSelectedOptionIndex()),o===!1&&this.onChange.emit({originalEvent:e,value:s})}r&&this.hide(!0)}onOptionMouseEnter(e,n){this.focusOnHover&&this.changeFocusedOptionIndex(e,n)}updateModel(e,n){this.value=e,this.onModelChange(e),this.modelValue.set(e),this.selectedOptionUpdated=!0}writeValue(e){this.filter&&this.resetFilter(),this.value=e,this.allowModelChange()&&this.onModelChange(e),this.modelValue.set(this.value),this.updateEditableLabel(),this.cd.markForCheck()}allowModelChange(){return this.autoDisplayFirst&&!this.placeholder()&&(this.modelValue()===void 0||this.modelValue()===null)&&!this.editable&&this.options&&this.options.length}isSelected(e){return this.isValidOption(e)&&this.isOptionValueEqualsModelValue(e)}isOptionValueEqualsModelValue(e){return Il(this.modelValue(),this.getOptionValue(e),this.equalityKey())}ngAfterViewInit(){super.ngAfterViewInit(),this.editable&&this.updateEditableLabel(),this.updatePlaceHolderForFloatingLabel()}updatePlaceHolderForFloatingLabel(){let e=this.el.nativeElement.parentElement,n=e?.classList.contains("p-float-label");if(e&&n&&!this.selectedOption){let r=e.querySelector("label");r&&this._placeholder.set(r.textContent)}}updateEditableLabel(){this.editableInputViewChild&&(this.editableInputViewChild.nativeElement.value=this.getOptionLabel(this.selectedOption)||this.modelValue()||"")}clearEditableLabel(){this.editableInputViewChild&&(this.editableInputViewChild.nativeElement.value="")}getOptionIndex(e,n){return this.virtualScrollerDisabled?e:n&&n.getItemOptions(e).index}getOptionLabel(e){return this.optionLabel!==void 0&&this.optionLabel!==null?ci(e,this.optionLabel):e&&e.label!==void 0?e.label:e}getOptionValue(e){return this.optionValue&&this.optionValue!==null?ci(e,this.optionValue):!this.optionLabel&&e&&e.value!==void 0?e.value:e}isOptionDisabled(e){return this.getOptionValue(this.modelValue())===this.getOptionValue(e)||this.getOptionLabel(this.modelValue()===this.getOptionLabel(e))&&e.disabled===!1?!1:this.optionDisabled?ci(e,this.optionDisabled):e&&e.disabled!==void 0?e.disabled:!1}getOptionGroupLabel(e){return this.optionGroupLabel!==void 0&&this.optionGroupLabel!==null?ci(e,this.optionGroupLabel):e&&e.label!==void 0?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren!==void 0&&this.optionGroupChildren!==null?ci(e,this.optionGroupChildren):e.items}getAriaPosInset(e){return(this.optionGroupLabel?e-this.visibleOptions().slice(0,e).filter(n=>this.isOptionGroup(n)).length:e)+1}get ariaSetSize(){return this.visibleOptions().filter(e=>!this.isOptionGroup(e)).length}resetFilter(){this._filterValue.set(null),this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value="")}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onContainerClick(e){this.disabled||this.readonly||this.loading||(this.focusInputViewChild?.nativeElement.focus({preventScroll:!0}),!(e.target.tagName==="INPUT"||e.target.getAttribute("data-pc-section")==="clearicon"||e.target.closest('[data-pc-section="clearicon"]'))&&((!this.overlayViewChild||!this.overlayViewChild.el.nativeElement.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.onClick.emit(e),this.clicked.set(!0),this.cd.detectChanges()))}isEmpty(){return!this._options()||this.visibleOptions()&&this.visibleOptions().length===0}onEditableInput(e){let n=e.target.value;this.searchValue="",!this.searchOptions(e,n)&&this.focusedOptionIndex.set(-1),this.onModelChange(n),this.updateModel(n,e),setTimeout(()=>{this.onChange.emit({originalEvent:e,value:n})},1),!this.overlayVisible&&Tn(n)&&this.show()}show(e){this.overlayVisible=!0;let n=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex();this.focusedOptionIndex.set(n),e&&Be(this.focusInputViewChild?.nativeElement),this.cd.markForCheck()}onOverlayAnimationStart(e){if(e.toState==="visible"){if(this.itemsWrapper=He(this.overlayViewChild?.overlayViewChild?.nativeElement,this.virtualScroll?".p-scroller":".p-dropdown-items-wrapper"),this.virtualScroll&&this.scroller?.setContentEl(this.itemsViewChild?.nativeElement),this.options&&this.options.length)if(this.virtualScroll){let n=this.modelValue()?this.focusedOptionIndex():-1;n!==-1&&this.scroller?.scrollToIndex(n)}else{let n=He(this.itemsWrapper,".p-dropdown-item.p-highlight");n&&n.scrollIntoView({block:"nearest",inline:"nearest"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&!this.editable&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(e)}e.toState==="void"&&(this.itemsWrapper=null,this.onModelTouched(),this.onHide.emit(e))}hide(e){this.overlayVisible=!1,this.focusedOptionIndex.set(-1),this.clicked.set(!1),this.searchValue="",this.overlayOptions?.mode==="modal"&&cl(),this.filter&&this.resetFilterOnHide&&this.resetFilter(),e&&(this.focusInputViewChild&&Be(this.focusInputViewChild?.nativeElement),this.editable&&this.editableInputViewChild&&Be(this.editableInputViewChild?.nativeElement)),this.cd.markForCheck()}onInputFocus(e){if(this.disabled)return;this.focused=!0;let n=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(n),this.overlayVisible&&this.scrollInView(this.focusedOptionIndex()),this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onBlur.emit(e),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}onKeyDown(e,n){if(!(this.disabled||this.readonly||this.loading)){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,this.editable);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,this.editable);break;case"Delete":this.onDeleteKey(e);break;case"Home":this.onHomeKey(e,this.editable);break;case"End":this.onEndKey(e,this.editable);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Space":this.onSpaceKey(e,n);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"Backspace":this.onBackspaceKey(e,this.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!e.metaKey&&El(e.key)&&(!this.overlayVisible&&this.show(),!this.editable&&this.searchOptions(e,e.key));break}this.clicked.set(!1)}}onFilterKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e,!0);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break;default:break}}onFilterBlur(e){this.focusedOptionIndex.set(-1)}onArrowDownKey(e){if(!this.overlayVisible)this.show(),this.editable&&this.changeFocusedOptionIndex(e,this.findSelectedOptionIndex());else{let n=this.focusedOptionIndex()!==-1?this.findNextOptionIndex(this.focusedOptionIndex()):this.clicked()?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(e,n)}e.preventDefault(),e.stopPropagation()}changeFocusedOptionIndex(e,n){if(this.focusedOptionIndex()!==n&&(this.focusedOptionIndex.set(n),this.scrollInView(),this.selectOnFocus)){let r=this.visibleOptions()[n];this.onOptionSelect(e,r,!1)}}get virtualScrollerDisabled(){return!this.virtualScroll}scrollInView(e=-1){let n=e!==-1?`${this.id}_${e}`:this.focusedOptionId;if(this.itemsViewChild&&this.itemsViewChild.nativeElement){let r=He(this.itemsViewChild.nativeElement,`li[id="${n}"]`);r?r.scrollIntoView&&r.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||setTimeout(()=>{this.virtualScroll&&this.scroller?.scrollToIndex(e!==-1?e:this.focusedOptionIndex())},0)}}hasSelectedOption(){return this.modelValue()!==void 0}isValidSelectedOption(e){return this.isValidOption(e)&&this.isSelected(e)}equalityKey(){return this.optionValue?null:this.dataKey}findFirstFocusedOptionIndex(){let e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e}findFirstOptionIndex(){return this.visibleOptions().findIndex(e=>this.isValidOption(e))}findSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e)):-1}findNextOptionIndex(e){let n=e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(r=>this.isValidOption(r)):-1;return n>-1?n+e+1:e}findPrevOptionIndex(e){let n=e>0?io(this.visibleOptions().slice(0,e),r=>this.isValidOption(r)):-1;return n>-1?n:e}findLastOptionIndex(){return io(this.visibleOptions(),e=>this.isValidOption(e))}findLastFocusedOptionIndex(){let e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e}isValidOption(e){return e!=null&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))}isOptionGroup(e){return this.optionGroupLabel!==void 0&&this.optionGroupLabel!==null&&e.optionGroup!==void 0&&e.optionGroup!==null&&e.group}onArrowUpKey(e,n=!1){if(e.altKey&&!n){if(this.focusedOptionIndex()!==-1){let r=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(e,r)}this.overlayVisible&&this.hide()}else{let r=this.focusedOptionIndex()!==-1?this.findPrevOptionIndex(this.focusedOptionIndex()):this.clicked()?this.findLastOptionIndex():this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(e,r),!this.overlayVisible&&this.show()}e.preventDefault(),e.stopPropagation()}onArrowLeftKey(e,n=!1){n&&this.focusedOptionIndex.set(-1)}onDeleteKey(e){this.showClear&&(this.clear(e),e.preventDefault())}onHomeKey(e,n=!1){if(n){let r=e.currentTarget;e.shiftKey?r.setSelectionRange(0,r.value.length):(r.setSelectionRange(0,0),this.focusedOptionIndex.set(-1))}else this.changeFocusedOptionIndex(e,this.findFirstOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()}onEndKey(e,n=!1){if(n){let r=e.currentTarget;if(e.shiftKey)r.setSelectionRange(0,r.value.length);else{let o=r.value.length;r.setSelectionRange(o,o),this.focusedOptionIndex.set(-1)}}else this.changeFocusedOptionIndex(e,this.findLastOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()}onPageDownKey(e){this.scrollInView(this.visibleOptions().length-1),e.preventDefault()}onPageUpKey(e){this.scrollInView(0),e.preventDefault()}onSpaceKey(e,n=!1){!this.editable&&!n&&this.onEnterKey(e)}onEnterKey(e,n=!1){if(!this.overlayVisible)this.focusedOptionIndex.set(-1),this.onArrowDownKey(e);else{if(this.focusedOptionIndex()!==-1){let r=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(e,r)}!n&&this.hide()}e.preventDefault()}onEscapeKey(e){this.overlayVisible&&this.hide(!0),e.preventDefault()}onTabKey(e,n=!1){if(!n)if(this.overlayVisible&&this.hasFocusableElements())Be(e.shiftKey?this.lastHiddenFocusableElementOnOverlay.nativeElement:this.firstHiddenFocusableElementOnOverlay.nativeElement),e.preventDefault();else{if(this.focusedOptionIndex()!==-1&&this.overlayVisible){let r=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(e,r)}this.overlayVisible&&this.hide(this.filter)}e.stopPropagation()}onFirstHiddenFocus(e){let n=e.relatedTarget===this.focusInputViewChild?.nativeElement?ml(this.overlayViewChild.el?.nativeElement,":not(.p-hidden-focusable)"):this.focusInputViewChild?.nativeElement;Be(n)}onLastHiddenFocus(e){let n=e.relatedTarget===this.focusInputViewChild?.nativeElement?gl(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInputViewChild?.nativeElement;Be(n)}hasFocusableElements(){return fl(this.overlayViewChild.overlayViewChild.nativeElement,':not([data-p-hidden-focusable="true"])').length>0}onBackspaceKey(e,n=!1){n&&!this.overlayVisible&&this.show()}searchFields(){return this.filterBy?.split(",")||this.filterFields||[this.optionLabel]}searchOptions(e,n){this.searchValue=(this.searchValue||"")+n;let r=-1,o=!1;return r=this.visibleOptions().findIndex(s=>this.isOptionExactMatched(s)),r===-1&&(r=this.visibleOptions().findIndex(s=>this.isOptionStartsWith(s))),r!==-1&&(o=!0),r===-1&&this.focusedOptionIndex()===-1&&(r=this.findFirstFocusedOptionIndex()),r!==-1&&this.changeFocusedOptionIndex(e,r),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),o}isOptionStartsWith(e){return this.isValidOption(e)&&this.getOptionLabel(e).toString().toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))}isOptionExactMatched(e){return this.isValidOption(e)&&this.getOptionLabel(e).toString().toLocaleLowerCase(this.filterLocale)===this.searchValue.toLocaleLowerCase(this.filterLocale)}onFilterInputChange(e){let n=e.target.value;this._filterValue.set(n),this.focusedOptionIndex.set(-1),this.onFilter.emit({originalEvent:e,filter:this._filterValue()}),!this.virtualScrollerDisabled&&this.scroller.scrollToIndex(0),setTimeout(()=>{this.overlayViewChild.alignOverlay()}),this.cd.markForCheck()}applyFocus(){this.editable?He(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():Be(this.focusInputViewChild?.nativeElement)}focus(){this.applyFocus()}clear(e){this.updateModel(null,e),this.clearEditableLabel(),this.onModelTouched(),this.onChange.emit({originalEvent:e,value:this.value}),this.onClear.emit(e),this.resetFilter()}static \u0275fac=function(n){return new(n||i)(U(_e),U(Tl))};static \u0275cmp=W({type:i,selectors:[["p-dropdown"]],contentQueries:function(n,r,o){if(n&1&&ze(o,ui,4),n&2){let s;K(s=G())&&(r.templates=s)}},viewQuery:function(n,r){if(n&1&&(ye(Vh,5),ye(zh,5),ye(Uh,5),ye($h,5),ye(Hh,5),ye(Bh,5),ye(Wh,5),ye(jh,5),ye(qh,5)),n&2){let o;K(o=G())&&(r.containerViewChild=o.first),K(o=G())&&(r.filterViewChild=o.first),K(o=G())&&(r.focusInputViewChild=o.first),K(o=G())&&(r.editableInputViewChild=o.first),K(o=G())&&(r.itemsViewChild=o.first),K(o=G())&&(r.scroller=o.first),K(o=G())&&(r.overlayViewChild=o.first),K(o=G())&&(r.firstHiddenFocusableElementOnOverlay=o.first),K(o=G())&&(r.lastHiddenFocusableElementOnOverlay=o.first)}},hostVars:5,hostBindings:function(n,r){n&1&&E("click",function(s){return r.onContainerClick(s)}),n&2&&(q("id",r.id),vn(r.hostStyle),ue(r.hostClass))},inputs:{id:"id",scrollHeight:"scrollHeight",filter:[2,"filter","filter",H],name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:[2,"readonly","readonly",H],required:[2,"required","required",H],editable:[2,"editable","editable",H],appendTo:"appendTo",tabindex:[2,"tabindex","tabindex",$e],placeholder:"placeholder",loadingIcon:"loadingIcon",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",variant:"variant",inputId:"inputId",dataKey:"dataKey",filterBy:"filterBy",filterFields:"filterFields",autofocus:[2,"autofocus","autofocus",H],resetFilterOnHide:[2,"resetFilterOnHide","resetFilterOnHide",H],checkmark:[2,"checkmark","checkmark",H],dropdownIcon:"dropdownIcon",loading:[2,"loading","loading",H],optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:[2,"autoDisplayFirst","autoDisplayFirst",H],group:[2,"group","group",H],showClear:[2,"showClear","showClear",H],emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",lazy:[2,"lazy","lazy",H],virtualScroll:[2,"virtualScroll","virtualScroll",H],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",$e],virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:[2,"maxlength","maxlength",$e],tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",focusOnHover:[2,"focusOnHover","focusOnHover",H],selectOnFocus:[2,"selectOnFocus","selectOnFocus",H],autoOptionFocus:[2,"autoOptionFocus","autoOptionFocus",H],autofocusFilter:[2,"autofocusFilter","autofocusFilter",H],fluid:[2,"fluid","fluid",H],disabled:"disabled",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",filterValue:"filterValue",options:"options"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear",onLazyLoad:"onLazyLoad"},standalone:!1,features:[Ne([tf,jl]),ae],decls:11,vars:15,consts:[["elseBlock",""],["overlay",""],["content",""],["focusInput",""],["defaultPlaceholder",""],["editableInput",""],["firstHiddenFocusableEl",""],["buildInItems",""],["lastHiddenFocusableEl",""],["builtInFilterElement",""],["filter",""],["scroller",""],["loader",""],["items",""],["emptyFilter",""],["role","combobox",3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","pAutoFocus","focus","blur","keydown",4,"ngIf"],["type","text","aria-haspopup","listbox",3,"ngClass","disabled","pAutoFocus","input","keydown","focus","blur",4,"ngIf"],[4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-select-dropdown"],[4,"ngIf","ngIfElse"],[3,"visibleChange","onAnimationStart","onHide","visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions"],["role","combobox",3,"focus","blur","keydown","ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","pAutoFocus"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["type","text","aria-haspopup","listbox",3,"input","keydown","focus","blur","ngClass","disabled","pAutoFocus"],["class","p-select-clear-icon",3,"click",4,"ngIf"],[1,"p-select-clear-icon",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngTemplateOutlet"],["aria-hidden","true",3,"ngClass",4,"ngIf"],["aria-hidden","true",3,"class",4,"ngIf"],["aria-hidden","true",3,"ngClass"],["aria-hidden","true"],["class","p-select-dropdown-icon",4,"ngIf"],["class","p-select-dropdown-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-select-dropdown-icon",3,"ngClass"],[3,"styleClass"],[1,"p-select-dropdown-icon"],[3,"ngClass","ngStyle"],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"focus"],["class","p-select-header",3,"click",4,"ngIf"],[1,"p-select-list-container"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],[1,"p-select-header",3,"click"],["pInputText","","type","text","role","searchbox","autocomplete","off",1,"p-select-filter",3,"input","keydown","blur","value","variant"],[3,"onLazyLoad","items","itemSize","autoSize","lazy","options"],["role","listbox",1,"p-select-list",3,"ngClass"],["ngFor","",3,"ngForOf"],["class","p-select-empty-message","role","option",3,"ngStyle",4,"ngIf"],["role","option",1,"p-select-option-group",3,"ngStyle"],[3,"onClick","onMouseEnter","id","option","checkmark","selected","label","disabled","template","focused","ariaPosInset","ariaSetSize"],["role","option",1,"p-select-empty-message",3,"ngStyle"]],template:function(n,r){if(n&1){let o=$();b(0,ep,6,20,"span",15)(1,tp,2,8,"input",16)(2,sp,3,2,"ng-container",17),h(3,"div",18),b(4,hp,3,2,"ng-container",19)(5,vp,2,2,"ng-template",null,0,Pe),d(),h(7,"p-overlay",20,1),Fi("visibleChange",function(a){return T(o),Li(r.overlayVisible,a)||(r.overlayVisible=a),S(a)}),E("onAnimationStart",function(a){return T(o),S(r.onOverlayAnimationStart(a))})("onHide",function(){return T(o),S(r.hide())}),b(9,Jp,13,17,"ng-template",null,2,Pe),d()}if(n&2){let o,s=Ue(6);g("ngIf",!r.editable),m(),g("ngIf",r.editable),m(),g("ngIf",r.isVisibleClearIcon),m(),q("aria-expanded",(o=r.overlayVisible)!==null&&o!==void 0?o:!1)("data-pc-section","trigger"),m(),g("ngIf",r.loading)("ngIfElse",s),m(3),Ni("visible",r.overlayVisible),g("options",r.overlayOptions)("target","@parent")("appendTo",r.appendTo)("autoZIndex",r.autoZIndex)("baseZIndex",r.baseZIndex)("showTransitionOptions",r.showTransitionOptions)("hideTransitionOptions",r.hideTransitionOptions)}},dependencies:()=>[at,oi,De,Lt,Nt,mo,Bl,yo,Cl,ro,ho,po,xn,co,fo,nf],encapsulation:2,changeDetection:0})}return i})(),Pn=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Te({type:i});static \u0275inj=Ie({imports:[ve,go,We,Wl,yo,xl,ro,ho,po,uo,no,On,co,fo,go,We]})}return i})();var Yl=function(i){let t=[],e=0;for(let n=0;n<i.length;n++){let r=i.charCodeAt(n);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&n+1<i.length&&(i.charCodeAt(n+1)&64512)===56320?(r=65536+((r&1023)<<10)+(i.charCodeAt(++n)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},of=function(i){let t=[],e=0,n=0;for(;e<i.length;){let r=i[e++];if(r<128)t[n++]=String.fromCharCode(r);else if(r>191&&r<224){let o=i[e++];t[n++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){let o=i[e++],s=i[e++],a=i[e++],l=((r&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[n++]=String.fromCharCode(55296+(l>>10)),t[n++]=String.fromCharCode(56320+(l&1023))}else{let o=i[e++],s=i[e++];t[n++]=String.fromCharCode((r&15)<<12|(o&63)<<6|s&63)}}return t.join("")},Zl={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();let e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let r=0;r<i.length;r+=3){let o=i[r],s=r+1<i.length,a=s?i[r+1]:0,l=r+2<i.length,c=l?i[r+2]:0,f=o>>2,_=(o&3)<<4|a>>4,w=(a&15)<<2|c>>6,I=c&63;l||(I=64,s||(w=64)),n.push(e[f],e[_],e[w],e[I])}return n.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(Yl(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):of(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();let e=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let r=0;r<i.length;){let o=e[i.charAt(r++)],a=r<i.length?e[i.charAt(r)]:0;++r;let c=r<i.length?e[i.charAt(r)]:64;++r;let _=r<i.length?e[i.charAt(r)]:64;if(++r,o==null||a==null||c==null||_==null)throw new wo;let w=o<<2|a>>4;if(n.push(w),c!==64){let I=a<<4&240|c>>2;if(n.push(I),_!==64){let v=c<<6&192|_;n.push(v)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}},wo=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},sf=function(i){let t=Yl(i);return Zl.encodeByteArray(t,!0)},Eo=function(i){return sf(i).replace(/\./g,"")},To=function(i){try{return Zl.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function af(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var lf=()=>af().__FIREBASE_DEFAULTS__,cf=()=>{if(typeof process>"u"||typeof process.env>"u")return;let i=process.env.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},df=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=i&&To(i[1]);return t&&JSON.parse(t)},So=()=>{try{return lf()||cf()||df()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Jl=i=>{var t,e;return(e=(t=So())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[i]};var Co=()=>{var i;return(i=So())===null||i===void 0?void 0:i.config},xo=i=>{var t;return(t=So())===null||t===void 0?void 0:t[`_${i}`]};var Dn=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,n))}}};function be(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Xl(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(be())}function ec(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tc(){let i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function ic(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nc(){let i=be();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function rc(){try{return typeof indexedDB=="object"}catch{return!1}}function oc(){return new Promise((i,t)=>{try{let e=!0,n="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(n);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(n),i(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var o;t(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(e){t(e)}})}var uf="FirebaseError",qe=class i extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name=uf,Object.setPrototypeOf(this,i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lt.prototype.create)}},lt=class{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){let n=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],s=o?hf(o,n):"Error",a=`${this.serviceName}: ${s} (${r}).`;return new qe(r,a,n)}};function hf(i,t){return i.replace(pf,(e,n)=>{let r=t[n];return r!=null?String(r):`<${n}?>`})}var pf=/\{\$([^}]+)}/g;function sc(i){for(let t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function gi(i,t){if(i===t)return!0;let e=Object.keys(i),n=Object.keys(t);for(let r of e){if(!n.includes(r))return!1;let o=i[r],s=t[r];if(Ql(o)&&Ql(s)){if(!gi(o,s))return!1}else if(o!==s)return!1}for(let r of n)if(!e.includes(r))return!1;return!0}function Ql(i){return i!==null&&typeof i=="object"}function $t(i){let t=[];for(let[e,n]of Object.entries(i))Array.isArray(n)?n.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function ac(i,t){let e=new Io(i,t);return e.subscribe.bind(e)}var Io=class{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,n){let r;if(t===void 0&&e===void 0&&n===void 0)throw new Error("Missing Observer.");ff(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:n},r.next===void 0&&(r.next=bo),r.error===void 0&&(r.error=bo),r.complete===void 0&&(r.complete=bo);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function ff(i,t){if(typeof i!="object"||i===null)return!1;for(let e of t)if(e in i&&typeof i[e]=="function")return!0;return!1}function bo(){}var ow=4*60*60*1e3;function St(i){return i&&i._delegate?i._delegate:i}var et=class{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var Ht="[DEFAULT]";var Oo=class{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){let e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){let n=new Dn;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;let n=this.normalizeInstanceIdentifier(t?.identifier),r=(e=t?.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(gf(t))try{this.getOrInitializeService({instanceIdentifier:Ht})}catch{}for(let[e,n]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(e);try{let o=this.getOrInitializeService({instanceIdentifier:r});n.resolve(o)}catch{}}}}clearInstance(t=Ht){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){return u(this,null,function*(){let t=Array.from(this.instances.values());yield Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])})}isComponentSet(){return this.component!=null}isInitialized(t=Ht){return this.instances.has(t)}getOptions(t=Ht){return this.instancesOptions.get(t)||{}}initialize(t={}){let{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:n,options:e});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);n===a&&s.resolve(r)}return r}onInit(t,e){var n;let r=this.normalizeInstanceIdentifier(e),o=(n=this.onInitCallbacks.get(r))!==null&&n!==void 0?n:new Set;o.add(t),this.onInitCallbacks.set(r,o);let s=this.instances.get(r);return s&&t(s,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){let n=this.onInitCallbacks.get(e);if(n)for(let r of n)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:mf(t),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=Ht){return this.component?this.component.multipleInstances?t:Ht:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function mf(i){return i===Ht?void 0:i}function gf(i){return i.instantiationMode==="EAGER"}var Rn=class{constructor(t){this.name=t,this.providers=new Map}addComponent(t){let e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);let e=new Oo(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}};var _f=[],j=function(i){return i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT",i}(j||{}),yf={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},vf=j.INFO,bf={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},wf=(i,t,...e)=>{if(t<i.logLevel)return;let n=new Date().toISOString(),r=bf[t];if(r)console[r](`[${n}]  ${i.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},_i=class{constructor(t){this.name=t,this._logLevel=vf,this._logHandler=wf,this._userLogHandler=null,_f.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in j))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?yf[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...t),this._logHandler(this,j.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...t),this._logHandler(this,j.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,j.INFO,...t),this._logHandler(this,j.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,j.WARN,...t),this._logHandler(this,j.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...t),this._logHandler(this,j.ERROR,...t)}};var If=(i,t)=>t.some(e=>i instanceof e),lc,cc;function Ef(){return lc||(lc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Tf(){return cc||(cc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var dc=new WeakMap,ko=new WeakMap,uc=new WeakMap,Ao=new WeakMap,Do=new WeakMap;function Sf(i){let t=new Promise((e,n)=>{let r=()=>{i.removeEventListener("success",o),i.removeEventListener("error",s)},o=()=>{e(tt(i.result)),r()},s=()=>{n(i.error),r()};i.addEventListener("success",o),i.addEventListener("error",s)});return t.then(e=>{e instanceof IDBCursor&&dc.set(e,i)}).catch(()=>{}),Do.set(t,i),t}function Cf(i){if(ko.has(i))return;let t=new Promise((e,n)=>{let r=()=>{i.removeEventListener("complete",o),i.removeEventListener("error",s),i.removeEventListener("abort",s)},o=()=>{e(),r()},s=()=>{n(i.error||new DOMException("AbortError","AbortError")),r()};i.addEventListener("complete",o),i.addEventListener("error",s),i.addEventListener("abort",s)});ko.set(i,t)}var Po={get(i,t,e){if(i instanceof IDBTransaction){if(t==="done")return ko.get(i);if(t==="objectStoreNames")return i.objectStoreNames||uc.get(i);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return tt(i[t])},set(i,t,e){return i[t]=e,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function hc(i){Po=i(Po)}function xf(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){let n=i.call(Mn(this),t,...e);return uc.set(n,t.sort?t.sort():[t]),tt(n)}:Tf().includes(i)?function(...t){return i.apply(Mn(this),t),tt(dc.get(this))}:function(...t){return tt(i.apply(Mn(this),t))}}function Of(i){return typeof i=="function"?xf(i):(i instanceof IDBTransaction&&Cf(i),If(i,Ef())?new Proxy(i,Po):i)}function tt(i){if(i instanceof IDBRequest)return Sf(i);if(Ao.has(i))return Ao.get(i);let t=Of(i);return t!==i&&(Ao.set(i,t),Do.set(t,i)),t}var Mn=i=>Do.get(i);function fc(i,t,{blocked:e,upgrade:n,blocking:r,terminated:o}={}){let s=indexedDB.open(i,t),a=tt(s);return n&&s.addEventListener("upgradeneeded",l=>{n(tt(s.result),l.oldVersion,l.newVersion,tt(s.transaction),l)}),e&&s.addEventListener("blocked",l=>e(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}var Af=["get","getKey","getAll","getAllKeys","count"],kf=["put","add","delete","clear"],Ro=new Map;function pc(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Ro.get(t))return Ro.get(t);let e=t.replace(/FromIndex$/,""),n=t!==e,r=kf.includes(e);if(!(e in(n?IDBIndex:IDBObjectStore).prototype)||!(r||Af.includes(e)))return;let o=function(s,...a){return u(this,null,function*(){let l=this.transaction(s,r?"readwrite":"readonly"),c=l.store;return n&&(c=c.index(a.shift())),(yield Promise.all([c[e](...a),r&&l.done]))[0]})};return Ro.set(t,o),o}hc(i=>Dt(Z({},i),{get:(t,e,n)=>pc(t,e)||i.get(t,e,n),has:(t,e)=>!!pc(t,e)||i.has(t,e)}));var No=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(Pf(e)){let n=e.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(e=>e).join(" ")}};function Pf(i){let t=i.getComponent();return t?.type==="VERSION"}var Lo="@firebase/app",mc="0.10.13";var ct=new _i("@firebase/app"),Df="@firebase/app-compat",Rf="@firebase/analytics-compat",Mf="@firebase/analytics",Nf="@firebase/app-check-compat",Lf="@firebase/app-check",Ff="@firebase/auth",Vf="@firebase/auth-compat",zf="@firebase/database",Uf="@firebase/data-connect",$f="@firebase/database-compat",Hf="@firebase/functions",Bf="@firebase/functions-compat",Wf="@firebase/installations",jf="@firebase/installations-compat",qf="@firebase/messaging",Kf="@firebase/messaging-compat",Gf="@firebase/performance",Qf="@firebase/performance-compat",Yf="@firebase/remote-config",Zf="@firebase/remote-config-compat",Jf="@firebase/storage",Xf="@firebase/storage-compat",em="@firebase/firestore",tm="@firebase/vertexai-preview",im="@firebase/firestore-compat",nm="firebase",rm="10.14.1";var Fo="[DEFAULT]",om={[Lo]:"fire-core",[Df]:"fire-core-compat",[Mf]:"fire-analytics",[Rf]:"fire-analytics-compat",[Lf]:"fire-app-check",[Nf]:"fire-app-check-compat",[Ff]:"fire-auth",[Vf]:"fire-auth-compat",[zf]:"fire-rtdb",[Uf]:"fire-data-connect",[$f]:"fire-rtdb-compat",[Hf]:"fire-fn",[Bf]:"fire-fn-compat",[Wf]:"fire-iid",[jf]:"fire-iid-compat",[qf]:"fire-fcm",[Kf]:"fire-fcm-compat",[Gf]:"fire-perf",[Qf]:"fire-perf-compat",[Yf]:"fire-rc",[Zf]:"fire-rc-compat",[Jf]:"fire-gcs",[Xf]:"fire-gcs-compat",[em]:"fire-fst",[im]:"fire-fst-compat",[tm]:"fire-vertex","fire-js":"fire-js",[nm]:"fire-js-all"};var ji=new Map,sm=new Map,Vo=new Map;function gc(i,t){try{i.container.addComponent(t)}catch(e){ct.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,e)}}function yi(i){let t=i.name;if(Vo.has(t))return ct.debug(`There were multiple attempts to register component ${t}.`),!1;Vo.set(t,i);for(let e of ji.values())gc(e,i);for(let e of sm.values())gc(e,i);return!0}function Ho(i,t){let e=i.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),i.container.getProvider(t)}function Ke(i){return i.settings!==void 0}var am={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ct=new lt("app","Firebase",am);var zo=class{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new et("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ct.create("app-deleted",{appName:this._name})}};var vi=rm;function Bo(i,t={}){let e=i;typeof t!="object"&&(t={name:t});let n=Object.assign({name:Fo,automaticDataCollectionEnabled:!1},t),r=n.name;if(typeof r!="string"||!r)throw Ct.create("bad-app-name",{appName:String(r)});if(e||(e=Co()),!e)throw Ct.create("no-options");let o=ji.get(r);if(o){if(gi(e,o.options)&&gi(n,o.config))return o;throw Ct.create("duplicate-app",{appName:r})}let s=new Rn(r);for(let l of Vo.values())s.addComponent(l);let a=new zo(e,n,s);return ji.set(r,a),a}function Nn(i=Fo){let t=ji.get(i);if(!t&&i===Fo&&Co())return Bo();if(!t)throw Ct.create("no-app",{appName:i});return t}function Ln(){return Array.from(ji.values())}function Ce(i,t,e){var n;let r=(n=om[i])!==null&&n!==void 0?n:i;e&&(r+=`-${e}`);let o=r.match(/\s|\//),s=t.match(/\s|\//);if(o||s){let a=[`Unable to register library "${r}" with version "${t}":`];o&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ct.warn(a.join(" "));return}yi(new et(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}var lm="firebase-heartbeat-database",cm=1,qi="firebase-heartbeat-store",Mo=null;function bc(){return Mo||(Mo=fc(lm,cm,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(qi)}catch(e){console.warn(e)}}}}).catch(i=>{throw Ct.create("idb-open",{originalErrorMessage:i.message})})),Mo}function dm(i){return u(this,null,function*(){try{let e=(yield bc()).transaction(qi),n=yield e.objectStore(qi).get(wc(i));return yield e.done,n}catch(t){if(t instanceof qe)ct.warn(t.message);else{let e=Ct.create("idb-get",{originalErrorMessage:t?.message});ct.warn(e.message)}}})}function _c(i,t){return u(this,null,function*(){try{let n=(yield bc()).transaction(qi,"readwrite");yield n.objectStore(qi).put(t,wc(i)),yield n.done}catch(e){if(e instanceof qe)ct.warn(e.message);else{let n=Ct.create("idb-set",{originalErrorMessage:e?.message});ct.warn(n.message)}}})}function wc(i){return`${i.name}!${i.options.appId}`}var um=1024,hm=30*24*60*60*1e3,Uo=class{constructor(t){this.container=t,this._heartbeatsCache=null;let e=this.container.getProvider("app").getImmediate();this._storage=new $o(e),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}triggerHeartbeat(){return u(this,null,function*(){var t,e;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=yc();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=hm}),this._storage.overwrite(this._heartbeatsCache))}catch(n){ct.warn(n)}})}getHeartbeatsHeader(){return u(this,null,function*(){var t;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=yc(),{heartbeatsToSend:n,unsentEntries:r}=pm(this._heartbeatsCache.heartbeats),o=Eo(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ct.warn(e),""}})}};function yc(){return new Date().toISOString().substring(0,10)}function pm(i,t=um){let e=[],n=i.slice();for(let r of i){let o=e.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),vc(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),vc(e)>t){e.pop();break}n=n.slice(1)}return{heartbeatsToSend:e,unsentEntries:n}}var $o=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return u(this,null,function*(){return rc()?oc().then(()=>!0).catch(()=>!1):!1})}read(){return u(this,null,function*(){if(yield this._canUseIndexedDBPromise){let e=yield dm(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(t){return u(this,null,function*(){var e;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return _c(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return})}add(t){return u(this,null,function*(){var e;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return _c(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return})}};function vc(i){return Eo(JSON.stringify({version:2,heartbeats:i})).length}function fm(i){yi(new et("platform-logger",t=>new No(t),"PRIVATE")),yi(new et("heartbeat",t=>new Uo(t),"PRIVATE")),Ce(Lo,mc,i),Ce(Lo,mc,"esm2017"),Ce("fire-js","")}fm("");var mm="firebase",gm="10.14.1";Ce(mm,gm,"app");function we(i){return typeof i=="function"}function Ic(i){let e=i(n=>{Error.call(n),n.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var Fn=Ic(i=>function(e){i(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((n,r)=>`${r+1}) ${n.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function Ki(i,t){if(i){let e=i.indexOf(t);0<=e&&i.splice(e,1)}}var it=class i{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let o of e)o.remove(this);else e.remove(this);let{initialTeardown:n}=this;if(we(n))try{n()}catch(o){t=o instanceof Fn?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{Ec(o)}catch(s){t=t??[],s instanceof Fn?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Fn(t)}}add(t){var e;if(t&&t!==this)if(this.closed)Ec(t);else{if(t instanceof i){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}}_hasParent(t){let{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){let{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Ki(e,t)}remove(t){let{_finalizers:e}=this;e&&Ki(e,t),t instanceof i&&t._removeParent(this)}};it.EMPTY=(()=>{let i=new it;return i.closed=!0,i})();var Vw=it.EMPTY;function Vn(i){return i instanceof it||i&&"closed"in i&&we(i.remove)&&we(i.add)&&we(i.unsubscribe)}function Ec(i){we(i)?i():i.unsubscribe()}var Ge={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var bi={setTimeout(i,t,...e){let{delegate:n}=bi;return n?.setTimeout?n.setTimeout(i,t,...e):setTimeout(i,t,...e)},clearTimeout(i){let{delegate:t}=bi;return(t?.clearTimeout||clearTimeout)(i)},delegate:void 0};function Tc(i){bi.setTimeout(()=>{let{onUnhandledError:t}=Ge;if(t)t(i);else throw i})}function Wo(){}var Sc=jo("C",void 0,void 0);function Cc(i){return jo("E",void 0,i)}function xc(i){return jo("N",i,void 0)}function jo(i,t,e){return{kind:i,value:t,error:e}}var Bt=null;function Oc(i){if(Ge.useDeprecatedSynchronousErrorHandling){let t=!Bt;if(t&&(Bt={errorThrown:!1,error:null}),i(),t){let{errorThrown:e,error:n}=Bt;if(Bt=null,e)throw n}}else i()}function Ac(i){Ge.useDeprecatedSynchronousErrorHandling&&Bt&&(Bt.errorThrown=!0,Bt.error=i)}var Wt=class extends it{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Vn(t)&&t.add(this)):this.destination=vm}static create(t,e,n){return new wi(t,e,n)}next(t){this.isStopped?Ko(xc(t),this):this._next(t)}error(t){this.isStopped?Ko(Cc(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Ko(Sc,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},_m=Function.prototype.bind;function qo(i,t){return _m.call(i,t)}var Go=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(n){zn(n)}}error(t){let{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(n){zn(n)}else zn(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){zn(e)}}},wi=class extends Wt{constructor(t,e,n){super();let r;if(we(t)||!t)r={next:t??void 0,error:e??void 0,complete:n??void 0};else{let o;this&&Ge.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&qo(t.next,o),error:t.error&&qo(t.error,o),complete:t.complete&&qo(t.complete,o)}):r=t}this.destination=new Go(r)}};function zn(i){Ge.useDeprecatedSynchronousErrorHandling?Ac(i):Tc(i)}function ym(i){throw i}function Ko(i,t){let{onStoppedNotification:e}=Ge;e&&bi.setTimeout(()=>e(i,t))}var vm={closed:!0,next:Wo,error:ym,complete:Wo};var kc=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Un(i){return i}function Pc(i){return i.length===0?Un:i.length===1?i[0]:function(e){return i.reduce((n,r)=>r(n),e)}}var $n=(()=>{class i{constructor(e){e&&(this._subscribe=e)}lift(e){let n=new i;return n.source=this,n.operator=e,n}subscribe(e,n,r){let o=wm(e)?e:new wi(e,n,r);return Oc(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(n){e.error(n)}}forEach(e,n){return n=Dc(n),new n((r,o)=>{let s=new wi({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)}[kc](){return this}pipe(...e){return Pc(e)(this)}toPromise(e){return e=Dc(e),new e((n,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>n(o))})}}return i.create=t=>new i(t),i})();function Dc(i){var t;return(t=i??Ge.Promise)!==null&&t!==void 0?t:Promise}function bm(i){return i&&we(i.next)&&we(i.error)&&we(i.complete)}function wm(i){return i&&i instanceof Wt||bm(i)&&Vn(i)}function Im(i){return we(i?.lift)}function Ii(i){return t=>{if(Im(t))return t.lift(function(e){try{return i(e,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Hn(i,t,e,n,r){return new Qo(i,t,e,n,r)}var Qo=class extends Wt{constructor(t,e,n,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};var Yo={now(){return(Yo.delegate||Date).now()},delegate:void 0};var Bn=class extends it{constructor(t,e){super()}schedule(t,e=0){return this}};var Gi={setInterval(i,t,...e){let{delegate:n}=Gi;return n?.setInterval?n.setInterval(i,t,...e):setInterval(i,t,...e)},clearInterval(i){let{delegate:t}=Gi;return(t?.clearInterval||clearInterval)(i)},delegate:void 0};var Ei=class extends Bn{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var n;if(this.closed)return this;this.state=t;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=(n=this.id)!==null&&n!==void 0?n:this.requestAsyncId(o,this.id,e),this}requestAsyncId(t,e,n=0){return Gi.setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(n!=null&&this.delay===n&&this.pending===!1)return e;e!=null&&Gi.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let n=this._execute(t,e);if(n)return n;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r;try{this.work(t)}catch(o){n=!0,r=o||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:t,scheduler:e}=this,{actions:n}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Ki(n,this),t!=null&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}};var Ti=class i{constructor(t,e=i.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,n){return new this.schedulerActionCtor(this,t).schedule(n,e)}};Ti.now=Yo.now;var Si=class extends Ti{constructor(t,e=Ti.now){super(t,e),this.actions=[],this._active=!1}flush(t){let{actions:e}=this;if(this._active){e.push(t);return}let n;this._active=!0;do if(n=t.execute(t.state,t.delay))break;while(t=e.shift());if(this._active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}};var Zo=new Si(Ei);var Wn=class extends Ei{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return n!=null&&n>0||n==null&&this.delay>0?super.requestAsyncId(t,e,n):(t.flush(this),0)}};var jn=class extends Si{};var Jo=new jn(Wn);function qn(i,t,e,n=0,r=!1){let o=t.schedule(function(){e(),r?i.add(this.schedule(null,n)):this.unsubscribe()},n);if(i.add(o),!r)return o}function Kn(i,t=0){return Ii((e,n)=>{e.subscribe(Hn(n,r=>qn(n,i,()=>n.next(r),t),()=>qn(n,i,()=>n.complete(),t),r=>qn(n,i,()=>n.error(r),t)))})}function Gn(i,t=0){return Ii((e,n)=>{n.add(i.schedule(()=>e.subscribe(n),t))})}function Xo(i,t,e){let n=we(i)||t||e?{next:i,error:t,complete:e}:i;return n?Ii((r,o)=>{var s;(s=n.subscribe)===null||s===void 0||s.call(n);let a=!0;r.subscribe(Hn(o,l=>{var c;(c=n.next)===null||c===void 0||c.call(n,l),o.next(l)},()=>{var l;a=!1,(l=n.complete)===null||l===void 0||l.call(n),o.complete()},l=>{var c;a=!1,(c=n.error)===null||c===void 0||c.call(n,l),o.error(l)},()=>{var l,c;a&&((l=n.unsubscribe)===null||l===void 0||l.call(n)),(c=n.finalize)===null||c===void 0||c.call(n)}))}):Un}var Qi=new Va("ANGULARFIRE2_VERSION");function Rc(i,t,e){if(t){if(t.length===1)return t[0];let o=t.filter(s=>s.app===e);if(o.length===1)return o[0]}return e.container.getProvider(i).getImmediate({optional:!0})}var ts=(i,t)=>{let e=t?[t]:Ln(),n=[];return e.forEach(r=>{r.container.getProvider(i).instances.forEach(s=>{n.includes(s)||n.push(s)})}),n},Qn=class{constructor(){return ts(Em)}},Em="app-check";function Ci(){}var Yn=class{zone;delegate;constructor(t,e=Jo){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){let r=this.zone,o=function(s){r.runGuarded(()=>{t.apply(this,[s])})};return this.delegate.schedule(o,e,n)}},es=class{zone;task=null;constructor(t){this.zone=t}call(t,e){let n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ci,{},Ci,Ci)),e.pipe(Xo({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Zn=(()=>{class i{ngZone;outsideAngular;insideAngular;constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new Yn(Zone.current)),this.insideAngular=e.run(()=>new Yn(Zone.current,Zo)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(n){return new(n||i)(ge(_e))};static \u0275prov=J({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Jn(){let i=globalThis.\u0275AngularFireScheduler;if(!i)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return i}function Tm(i){return Jn().ngZone.runOutsideAngular(()=>i())}function jt(i){return Jn().ngZone.run(()=>i())}function Sm(i){return Cm(Jn())(i)}function Cm(i){return function(e){return e=e.lift(new es(i.ngZone)),e.pipe(Gn(i.outsideAngular),Kn(i.insideAngular))}}var xm=(i,t)=>function(){let n=arguments;return t&&setTimeout(()=>{t.state==="scheduled"&&t.invoke()},10),jt(()=>i.apply(void 0,n))},xi=(i,t)=>function(){let e,n=arguments;for(let o=0;o<arguments.length;o++)typeof n[o]=="function"&&(t&&(e||=jt(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ci,{},Ci,Ci))),n[o]=xm(n[o],e));let r=Tm(()=>i.apply(this,n));if(!t)if(r instanceof $n){let o=Jn();return r.pipe(Gn(o.outsideAngular),Kn(o.insideAngular))}else return jt(()=>r);return r instanceof $n?r.pipe(Sm):r instanceof Promise?jt(()=>new Promise((o,s)=>r.then(a=>jt(()=>o(a)),a=>jt(()=>s(a))))):typeof r=="function"&&e?function(){return setTimeout(()=>{e&&e.state==="scheduled"&&e.invoke()},10),r.apply(this,arguments)}:jt(()=>r)};var qt=class{constructor(t){return t}},Yi=class{constructor(){return Ln()}};function Om(i){return i&&i.length===1?i[0]:new qt(Nn())}var is=new gn("angularfire2._apps"),Am={provide:qt,useFactory:Om,deps:[[new Mt,is]]},km={provide:Yi,deps:[[new Mt,is]]};function Pm(i){return(t,e)=>{let n=t.runOutsideAngular(()=>i(e));return new qt(n)}}var Dm=(()=>{class i{constructor(e){Ce("angularfire",Qi.full,"core"),Ce("angularfire",Qi.full,"app"),Ce("angular",za.full,e.toString())}static \u0275fac=function(n){return new(n||i)(ge(yt))};static \u0275mod=Te({type:i});static \u0275inj=Ie({providers:[Am,km]})}return i})();function Mc(i,...t){return{ngModule:Dm,providers:[{provide:is,useFactory:Pm(i),multi:!0,deps:[_e,_n,Zn,...t]}]}}var Nc=xi(Bo,!0);function Zc(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Jc=Zc,Xc=new lt("auth","Firebase",Zc());var rr=new _i("@firebase/auth");function Rm(i,...t){rr.logLevel<=j.WARN&&rr.warn(`Auth (${vi}): ${i}`,...t)}function er(i,...t){rr.logLevel<=j.ERROR&&rr.error(`Auth (${vi}): ${i}`,...t)}function nt(i,...t){throw Cs(i,...t)}function xe(i,...t){return Cs(i,...t)}function Ss(i,t,e){let n=Object.assign(Object.assign({},Jc()),{[t]:e});return new lt("auth","Firebase",n).create(t,{appName:i.name})}function Ot(i){return Ss(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mm(i,t,e){let n=e;if(!(t instanceof n))throw n.name!==t.constructor.name&&nt(i,"argument-error"),Ss(i,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Cs(i,...t){if(typeof i!="string"){let e=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=i.name),i._errorFactory.create(e,...n)}return Xc.create(i,...t)}function x(i,t,...e){if(!i)throw Cs(t,...e)}function dt(i){let t="INTERNAL ASSERTION FAILED: "+i;throw er(t),new Error(t)}function ht(i,t){i||dt(t)}function ss(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function ed(){return Lc()==="http:"||Lc()==="https:"}function Lc(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}function Nm(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ed()||tc()||"connection"in navigator)?navigator.onLine:!0}function Lm(){if(typeof navigator>"u")return null;let i=navigator;return i.languages&&i.languages[0]||i.language||null}var Kt=class{constructor(t,e){this.shortDelay=t,this.longDelay=e,ht(e>t,"Short delay should be less than long delay!"),this.isMobile=Xl()||ic()}get(){return Nm()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function xs(i,t){ht(i.emulator,"Emulator should always be set here");let{url:e}=i.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}var or=class{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;dt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;dt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;dt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Fm={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Vm=new Kt(3e4,6e4);function pt(i,t){return i.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:i.tenantId}):t}function rt(o,s,a,l){return u(this,arguments,function*(i,t,e,n,r={}){return td(i,r,()=>u(this,null,function*(){let c={},f={};n&&(t==="GET"?f=n:c={body:JSON.stringify(n)});let _=$t(Object.assign({key:i.config.apiKey},f)).slice(1),w=yield i._getAdditionalHeaders();w["Content-Type"]="application/json",i.languageCode&&(w["X-Firebase-Locale"]=i.languageCode);let I=Object.assign({method:t,headers:w},c);return ec()||(I.referrerPolicy="no-referrer"),or.fetch()(id(i,i.config.apiHost,e,_),I)}))})}function td(i,t,e){return u(this,null,function*(){i._canInitEmulator=!1;let n=Object.assign(Object.assign({},Fm),t);try{let r=new as(i),o=yield Promise.race([e(),r.promise]);r.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Zi(i,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zi(i,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Zi(i,"email-already-in-use",s);if(l==="USER_DISABLED")throw Zi(i,"user-disabled",s);let f=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Ss(i,f,c);nt(i,f)}}catch(r){if(r instanceof qe)throw r;nt(i,"network-request-failed",{message:String(r)})}})}function _r(o,s,a,l){return u(this,arguments,function*(i,t,e,n,r={}){let c=yield rt(i,t,e,n,r);return"mfaPendingCredential"in c&&nt(i,"multi-factor-auth-required",{_serverResponse:c}),c})}function id(i,t,e,n){let r=`${t}${e}?${n}`;return i.config.emulator?xs(i.config,r):`${i.config.apiScheme}://${r}`}var as=class{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,n)=>{this.timer=setTimeout(()=>n(xe(this.auth,"network-request-failed")),Vm.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Zi(i,t,e){let n={appName:i.name};e.email&&(n.email=e.email),e.phoneNumber&&(n.phoneNumber=e.phoneNumber);let r=xe(i,t,n);return r.customData._tokenResponse=e,r}function Fc(i){return i!==void 0&&i.getResponse!==void 0}function zm(i){return u(this,null,function*(){return(yield rt(i,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})}function Um(i,t){return u(this,null,function*(){return rt(i,"POST","/v1/accounts:delete",t)})}function nd(i,t){return u(this,null,function*(){return rt(i,"POST","/v1/accounts:lookup",t)})}function Ji(i){if(i)try{let t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function Os(i,t=!1){return u(this,null,function*(){let e=St(i),n=yield e.getIdToken(t),r=As(n);x(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");let o=typeof r.firebase=="object"?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:n,authTime:Ji(ns(r.auth_time)),issuedAtTime:Ji(ns(r.iat)),expirationTime:Ji(ns(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function ns(i){return Number(i)*1e3}function As(i){let[t,e,n]=i.split(".");if(t===void 0||e===void 0||n===void 0)return er("JWT malformed, contained fewer than 3 sections"),null;try{let r=To(e);return r?JSON.parse(r):(er("Failed to decode base64 JWT payload"),null)}catch(r){return er("Caught error parsing JWT payload as JSON",r?.toString()),null}}function Vc(i){let t=As(i);return x(t,"internal-error"),x(typeof t.exp<"u","internal-error"),x(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}function en(i,t,e=!1){return u(this,null,function*(){if(e)return t;try{return yield t}catch(n){throw n instanceof qe&&$m(n)&&i.auth.currentUser===i&&(yield i.auth.signOut()),n}})}function $m({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}var ls=class{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){let n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;let r=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;let e=this.getInterval(t);this.timerId=setTimeout(()=>u(this,null,function*(){yield this.iteration()}),e)}iteration(){return u(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var tn=class{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ji(this.lastLoginAt),this.creationTime=Ji(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function sr(i){return u(this,null,function*(){var t;let e=i.auth,n=yield i.getIdToken(),r=yield en(i,nd(e,{idToken:n}));x(r?.users.length,e,"internal-error");let o=r.users[0];i._notifyReloadListener(o);let s=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?rd(o.providerUserInfo):[],a=Hm(i.providerData,s),l=i.isAnonymous,c=!(i.email&&o.passwordHash)&&!a?.length,f=l?c:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new tn(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(i,_)})}function ks(i){return u(this,null,function*(){let t=St(i);yield sr(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})}function Hm(i,t){return[...i.filter(n=>!t.some(r=>r.providerId===n.providerId)),...t]}function rd(i){return i.map(t=>{var{providerId:e}=t,n=mn(t,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}function Bm(i,t){return u(this,null,function*(){let e=yield td(i,{},()=>u(this,null,function*(){let n=$t({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=i.config,s=id(i,r,"/v1/token",`key=${o}`),a=yield i._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",or.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}})}function Wm(i,t){return u(this,null,function*(){return rt(i,"POST","/v2/accounts:revokeToken",pt(i,t))})}var Xi=class i{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){x(t.idToken,"internal-error"),x(typeof t.idToken<"u","internal-error"),x(typeof t.refreshToken<"u","internal-error");let e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Vc(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){x(t.length!==0,"internal-error");let e=Vc(t);this.updateTokensAndExpiration(t,null,e)}getToken(t,e=!1){return u(this,null,function*(){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(x(this.refreshToken,t,"user-token-expired"),this.refreshToken?(yield this.refresh(t,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(t,e){return u(this,null,function*(){let{accessToken:n,refreshToken:r,expiresIn:o}=yield Bm(t,e);this.updateTokensAndExpiration(n,r,Number(o))})}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,e){let{refreshToken:n,accessToken:r,expirationTime:o}=e,s=new i;return n&&(x(typeof n=="string","internal-error",{appName:t}),s.refreshToken=n),r&&(x(typeof r=="string","internal-error",{appName:t}),s.accessToken=r),o&&(x(typeof o=="number","internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new i,this.toJSON())}_performRefresh(){return dt("not implemented")}};function xt(i,t){x(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}var Ai=class i{constructor(t){var{uid:e,auth:n,stsTokenManager:r}=t,o=mn(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ls(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new tn(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(t){return u(this,null,function*(){let e=yield en(this,this.stsTokenManager.getToken(this.auth,t));return x(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e})}getIdTokenResult(t){return Os(this,t)}reload(){return ks(this)}_assign(t){this!==t&&(x(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){let e=new i(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){x(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,e=!1){return u(this,null,function*(){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),e&&(yield sr(this)),yield this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)})}delete(){return u(this,null,function*(){if(Ke(this.auth.app))return Promise.reject(Ot(this.auth));let t=yield this.getIdToken();return yield en(this,Um(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var n,r,o,s,a,l,c,f;let _=(n=e.displayName)!==null&&n!==void 0?n:void 0,w=(r=e.email)!==null&&r!==void 0?r:void 0,I=(o=e.phoneNumber)!==null&&o!==void 0?o:void 0,v=(s=e.photoURL)!==null&&s!==void 0?s:void 0,A=(a=e.tenantId)!==null&&a!==void 0?a:void 0,O=(l=e._redirectEventId)!==null&&l!==void 0?l:void 0,P=(c=e.createdAt)!==null&&c!==void 0?c:void 0,R=(f=e.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:V,emailVerified:z,isAnonymous:de,providerData:se,stsTokenManager:le}=e;x(V&&le,t,"internal-error");let fe=Xi.fromJSON(this.name,le);x(typeof V=="string",t,"internal-error"),xt(_,t.name),xt(w,t.name),x(typeof z=="boolean",t,"internal-error"),x(typeof de=="boolean",t,"internal-error"),xt(I,t.name),xt(v,t.name),xt(A,t.name),xt(O,t.name),xt(P,t.name),xt(R,t.name);let Ve=new i({uid:V,auth:t,email:w,emailVerified:z,displayName:_,isAnonymous:de,photoURL:v,phoneNumber:I,tenantId:A,stsTokenManager:fe,createdAt:P,lastLoginAt:R});return se&&Array.isArray(se)&&(Ve.providerData=se.map(mt=>Object.assign({},mt))),O&&(Ve._redirectEventId=O),Ve}static _fromIdTokenResponse(t,e,n=!1){return u(this,null,function*(){let r=new Xi;r.updateFromServerResponse(e);let o=new i({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:n});return yield sr(o),o})}static _fromGetAccountInfoResponse(t,e,n){return u(this,null,function*(){let r=e.users[0];x(r.localId!==void 0,"internal-error");let o=r.providerUserInfo!==void 0?rd(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!o?.length,a=new Xi;a.updateFromIdToken(n);let l=new i({uid:r.localId,auth:t,stsTokenManager:a,isAnonymous:s}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new tn(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(l,c),l})}};var zc=new Map;function ut(i){ht(i instanceof Function,"Expected a class definition");let t=zc.get(i);return t?(ht(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,zc.set(i,t),t)}var jm=(()=>{class i{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return u(this,null,function*(){return!0})}_set(e,n){return u(this,null,function*(){this.storage[e]=n})}_get(e){return u(this,null,function*(){let n=this.storage[e];return n===void 0?null:n})}_remove(e){return u(this,null,function*(){delete this.storage[e]})}_addListener(e,n){}_removeListener(e,n){}}return i.type="NONE",i})(),cs=jm;function tr(i,t,e){return`firebase:${i}:${t}:${e}`}var ar=class i{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;let{config:r,name:o}=this.auth;this.fullUserKey=tr(this.userKey,r.apiKey,o),this.fullPersistenceKey=tr("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){return u(this,null,function*(){let t=yield this.persistence._get(this.fullUserKey);return t?Ai._fromJSON(this.auth,t):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){return u(this,null,function*(){if(this.persistence===t)return;let e=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,e,n="authUser"){return u(this,null,function*(){if(!e.length)return new i(ut(cs),t,n);let r=(yield Promise.all(e.map(c=>u(this,null,function*(){if(yield c._isAvailable())return c})))).filter(c=>c),o=r[0]||ut(cs),s=tr(n,t.config.apiKey,t.name),a=null;for(let c of e)try{let f=yield c._get(s);if(f){let _=Ai._fromJSON(t,f);c!==o&&(a=_),o=c;break}}catch{}let l=r.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new i(o,t,n):(o=l[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(e.map(c=>u(this,null,function*(){if(c!==o)try{yield c._remove(s)}catch{}}))),new i(o,t,n))})}};function Uc(i){let t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ld(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(od(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(dd(t))return"Blackberry";if(ud(t))return"Webos";if(sd(t))return"Safari";if((t.includes("chrome/")||ad(t))&&!t.includes("edge/"))return"Chrome";if(cd(t))return"Android";{let e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=i.match(e);if(n?.length===2)return n[1]}return"Other"}function od(i=be()){return/firefox\//i.test(i)}function sd(i=be()){let t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ad(i=be()){return/crios\//i.test(i)}function ld(i=be()){return/iemobile/i.test(i)}function cd(i=be()){return/android/i.test(i)}function dd(i=be()){return/blackberry/i.test(i)}function ud(i=be()){return/webos/i.test(i)}function Ps(i=be()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function qm(i=be()){var t;return Ps(i)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function Km(){return nc()&&document.documentMode===10}function hd(i=be()){return Ps(i)||cd(i)||ud(i)||dd(i)||/windows phone/i.test(i)||ld(i)}function pd(i,t=[]){let e;switch(i){case"Browser":e=Uc(be());break;case"Worker":e=`${Uc(be())}-${i}`;break;default:e=i}let n=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${vi}/${n}`}var ds=class{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){let n=o=>new Promise((s,a)=>{try{let l=t(o);s(l)}catch(l){a(l)}});n.onAbort=e,this.queue.push(n);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(t){return u(this,null,function*(){if(this.auth.currentUser===t)return;let e=[];try{for(let n of this.queue)yield n(t),n.onAbort&&e.push(n.onAbort)}catch(n){e.reverse();for(let r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}})}};function Gm(e){return u(this,arguments,function*(i,t={}){return rt(i,"GET","/v2/passwordPolicy",pt(i,t))})}var Qm=6,us=class{constructor(t){var e,n,r,o;let s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=s.minPasswordLength)!==null&&e!==void 0?e:Qm,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(n=t.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,n,r,o,s,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(e=l.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(t,e){let n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(e.meetsMinPasswordLength=t.length>=n),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let n;for(let r=0;r<t.length;r++)n=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,e,n,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}};var hs=class{constructor(t,e,n,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lr(this),this.idTokenSubscription=new lr(this),this.beforeStateQueue=new ds(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xc,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=ut(e)),this._initializationPromise=this.queue(()=>u(this,null,function*(){var n,r;if(!this._deleted&&(this.persistenceManager=yield ar.create(this,t),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(e),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return u(this,null,function*(){if(this._deleted)return;let t=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(t,!0)}})}initializeCurrentUserFromIdToken(t){return u(this,null,function*(){try{let e=yield nd(this,{idToken:t}),n=yield Ai._fromGetAccountInfoResponse(this,e,t);yield this.directlySetCurrentUser(n)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(t){return u(this,null,function*(){var e;if(Ke(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let n=yield this.assertedPersistence.getCurrentUser(),r=n,o=!1;if(t&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,a=r?._redirectEventId,l=yield this.tryRedirectSignIn(t);(!s||s===a)&&l?.user&&(r=l.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return x(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(t){return u(this,null,function*(){let e=null;try{e=yield this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{yield this._setRedirectUser(null)}return e})}reloadAndSetCurrentUserOrClear(t){return u(this,null,function*(){try{yield sr(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)})}useDeviceLanguage(){this.languageCode=Lm()}_delete(){return u(this,null,function*(){this._deleted=!0})}updateCurrentUser(t){return u(this,null,function*(){if(Ke(this.app))return Promise.reject(Ot(this));let e=t?St(t):null;return e&&x(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))})}_updateCurrentUser(t,e=!1){return u(this,null,function*(){if(!this._deleted)return t&&x(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||(yield this.beforeStateQueue.runMiddleware(t)),this.queue(()=>u(this,null,function*(){yield this.directlySetCurrentUser(t),this.notifyAuthListeners()}))})}signOut(){return u(this,null,function*(){return Ke(this.app)?Promise.reject(Ot(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(t){return Ke(this.app)?Promise.reject(Ot(this)):this.queue(()=>u(this,null,function*(){yield this.assertedPersistence.setPersistence(ut(t))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){return u(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return u(this,null,function*(){let t=yield Gm(this),e=new us(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new lt("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{let n=this.onAuthStateChanged(()=>{n(),t()},e)}})}revokeAccessToken(t){return u(this,null,function*(){if(this.currentUser){let e=yield this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(n.tenantId=this.tenantId),yield Wm(this,n)}})}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}_setRedirectUser(t,e){return u(this,null,function*(){let n=yield this.getOrInitRedirectPersistenceManager(e);return t===null?n.removeCurrentUser():n.setCurrentUser(t)})}getOrInitRedirectPersistenceManager(t){return u(this,null,function*(){if(!this.redirectPersistenceManager){let e=t&&ut(t)||this._popupRedirectResolver;x(e,this,"argument-error"),this.redirectPersistenceManager=yield ar.create(this,[ut(e._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(t){return u(this,null,function*(){var e,n;return this._isInitialized&&(yield this.queue(()=>u(this,null,function*(){}))),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===t?this.redirectUser:null})}_persistUserIfCurrent(t){return u(this,null,function*(){if(t===this.currentUser)return this.queue(()=>u(this,null,function*(){return this.directlySetCurrentUser(t)}))})}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let n=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,r){if(this._deleted)return()=>{};let o=typeof e=="function"?e:e.next.bind(e),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(x(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof e=="function"){let l=t.addObserver(e,n,r);return()=>{s=!0,l()}}else{let l=t.addObserver(e);return()=>{s=!0,l()}}}directlySetCurrentUser(t){return u(this,null,function*(){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?yield this.assertedPersistence.setCurrentUser(t):yield this.assertedPersistence.removeCurrentUser()})}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return x(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=pd(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return u(this,null,function*(){var t;let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let n=yield(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);let r=yield this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e})}_getAppCheckToken(){return u(this,null,function*(){var t;let e=yield(t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken();return e?.error&&Rm(`Error while retrieving App Check token: ${e.error}`),e?.token})}};function Qt(i){return St(i)}var lr=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=ac(e=>this.observer=e)}get next(){return x(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var yr={loadJS(){return u(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ym(i){yr=i}function fd(i){return yr.loadJS(i)}function Zm(){return yr.recaptchaV2Script}function Jm(){return yr.gapiScript}function md(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function Ds(i,t){let e=Ho(i,"auth");if(e.isInitialized()){let r=e.getImmediate(),o=e.getOptions();if(gi(o,t??{}))return r;nt(r,"already-initialized")}return e.initialize({options:t})}function Xm(i,t){let e=t?.persistence||[],n=(Array.isArray(e)?e:[e]).map(ut);t?.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(n,t?.popupRedirectResolver)}function Rs(i,t,e){let n=Qt(i);x(n._canInitEmulator,n,"emulator-config-failed"),x(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");let r=!!e?.disableWarnings,o=gd(t),{host:s,port:a}=eg(t),l=a===null?"":`:${a}`;n.config.emulator={url:`${o}//${s}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||tg()}function gd(i){let t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function eg(i){let t=gd(i),e=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!e)return{host:"",port:null};let n=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(n);if(r){let o=r[1];return{host:o,port:$c(n.substr(o.length+1))}}else{let[o,s]=n.split(":");return{host:o,port:$c(s)}}}function $c(i){if(!i)return null;let t=Number(i);return isNaN(t)?null:t}function tg(){function i(){let t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}var ki=class{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return dt("not implemented")}_getIdTokenResponse(t){return dt("not implemented")}_linkToIdToken(t,e){return dt("not implemented")}_getReauthenticationResolver(t){return dt("not implemented")}};function Oi(i,t){return u(this,null,function*(){return _r(i,"POST","/v1/accounts:signInWithIdp",pt(i,t))})}var ig="http://localhost",cr=class i extends ki{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){let e=new i(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):nt("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){let e=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:r}=e,o=mn(e,["providerId","signInMethod"]);if(!n||!r)return null;let s=new i(n,r);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(t){let e=this.buildRequest();return Oi(t,e)}_linkToIdToken(t,e){let n=this.buildRequest();return n.idToken=e,Oi(t,n)}_getReauthenticationResolver(t){let e=this.buildRequest();return e.autoCreate=!1,Oi(t,e)}buildRequest(){let t={requestUri:ig,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{let e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=$t(e)}return t}};function ng(i,t){return u(this,null,function*(){return rt(i,"POST","/v1/accounts:sendVerificationCode",pt(i,t))})}function rg(i,t){return u(this,null,function*(){return _r(i,"POST","/v1/accounts:signInWithPhoneNumber",pt(i,t))})}function og(i,t){return u(this,null,function*(){let e=yield _r(i,"POST","/v1/accounts:signInWithPhoneNumber",pt(i,t));if(e.temporaryProof)throw Zi(i,"account-exists-with-different-credential",e);return e})}var sg={USER_NOT_FOUND:"user-not-found"};function ag(i,t){return u(this,null,function*(){let e=Object.assign(Object.assign({},t),{operation:"REAUTH"});return _r(i,"POST","/v1/accounts:signInWithPhoneNumber",pt(i,e),sg)})}var dr=class i extends ki{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,e){return new i({verificationId:t,verificationCode:e})}static _fromTokenResponse(t,e){return new i({phoneNumber:t,temporaryProof:e})}_getIdTokenResponse(t){return rg(t,this._makeVerificationRequest())}_linkToIdToken(t,e){return og(t,Object.assign({idToken:e},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return ag(t,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:t,phoneNumber:e,verificationId:n,verificationCode:r}=this.params;return t&&e?{temporaryProof:t,phoneNumber:e}:{sessionInfo:n,code:r}}toJSON(){let t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){typeof t=="string"&&(t=JSON.parse(t));let{verificationId:e,verificationCode:n,phoneNumber:r,temporaryProof:o}=t;return!n&&!e&&!r&&!o?null:new i({verificationId:e,verificationCode:n,phoneNumber:r,temporaryProof:o})}};var nn=class{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}};var ur=class extends nn{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}};var Ms=(()=>{class i extends ur{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return cr._fromParams({providerId:i.PROVIDER_ID,signInMethod:i.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return i.credentialFromTaggedObject(e)}static credentialFromError(e){return i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return i.credential(n,r)}catch{return null}}}i.GOOGLE_SIGN_IN_METHOD="google.com",i.PROVIDER_ID="google.com";return i})();var rn=class i{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,e,n,r=!1){return u(this,null,function*(){let o=yield Ai._fromIdTokenResponse(t,n,r),s=Hc(n);return new i({user:o,providerId:s,_tokenResponse:n,operationType:e})})}static _forOperation(t,e,n){return u(this,null,function*(){yield t._updateTokensIfNecessary(n,!0);let r=Hc(n);return new i({user:t,providerId:r,_tokenResponse:n,operationType:e})})}};function Hc(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}var ps=class i extends qe{constructor(t,e,n,r){var o;super(e.code,e.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,i.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,e,n,r){return new i(t,e,n,r)}};function _d(i,t,e,n){return(t==="reauthenticate"?e._getReauthenticationResolver(i):e._getIdTokenResponse(i)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ps._fromErrorAndOperation(i,o,t,n):o})}function lg(i,t,e=!1){return u(this,null,function*(){let n=yield en(i,t._linkToIdToken(i.auth,yield i.getIdToken()),e);return rn._forOperation(i,"link",n)})}function cg(i,t,e=!1){return u(this,null,function*(){let{auth:n}=i;if(Ke(n.app))return Promise.reject(Ot(n));let r="reauthenticate";try{let o=yield en(i,_d(n,r,t,i),e);x(o.idToken,n,"internal-error");let s=As(o.idToken);x(s,n,"internal-error");let{sub:a}=s;return x(i.uid===a,n,"user-mismatch"),rn._forOperation(i,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&nt(n,"user-mismatch"),o}})}function yd(i,t,e=!1){return u(this,null,function*(){if(Ke(i.app))return Promise.reject(Ot(i));let n="signIn",r=yield _d(i,n,t),o=yield rn._fromIdTokenResponse(i,n,r);return e||(yield i._updateCurrentUser(o.user)),o})}function Ns(i,t){return u(this,null,function*(){return yd(Qt(i),t)})}function Ls(i,t,e,n){return St(i).onIdTokenChanged(t,e,n)}function Fs(i,t,e){return St(i).beforeAuthStateChanged(t,e)}function dg(i,t){return rt(i,"POST","/v2/accounts/mfaEnrollment:start",pt(i,t))}var hr="__sak";var pr=class{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(hr,"1"),this.storage.removeItem(hr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){let e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}};var ug=1e3,hg=10,pg=(()=>{class i extends pr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hd(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let n of Object.keys(this.listeners)){let r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}let r=e.key;n?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);Km()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,hg):o()}notifyListeners(e,n){this.localCache[e]=n;let r=this.listeners[e];if(r)for(let o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},ug)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(e,n){return u(this,null,function*(){yield Rt(i.prototype,this,"_set").call(this,e,n),this.localCache[e]=JSON.stringify(n)})}_get(e){return u(this,null,function*(){let n=yield Rt(i.prototype,this,"_get").call(this,e);return this.localCache[e]=JSON.stringify(n),n})}_remove(e){return u(this,null,function*(){yield Rt(i.prototype,this,"_remove").call(this,e),delete this.localCache[e]})}}return i.type="LOCAL",i})(),vd=pg;var fg=(()=>{class i extends pr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}return i.type="SESSION",i})(),Vs=fg;function mg(i){return Promise.all(i.map(t=>u(this,null,function*(){try{return{fulfilled:!0,value:yield t}}catch(e){return{fulfilled:!1,reason:e}}})))}var gg=(()=>{class i{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;let r=new i(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}handleEvent(e){return u(this,null,function*(){let n=e,{eventId:r,eventType:o,data:s}=n.data,a=this.handlersMap[o];if(!a?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});let l=Array.from(a).map(f=>u(this,null,function*(){return f(n.origin,s)})),c=yield mg(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:c})})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}i.receivers=[];return i})();function zs(i="",t=10){let e="";for(let n=0;n<t;n++)e+=Math.floor(Math.random()*10);return i+e}var fs=class{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,e,n=50){return u(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{let c=zs("",20);r.port1.start();let f=setTimeout(()=>{l(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(_){let w=_;if(w.data.eventId===c)switch(w.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(w.data.response);break;default:clearTimeout(f),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:c,data:e},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function oe(){return window}function _g(i){oe().location.href=i}function Us(){return typeof oe().WorkerGlobalScope<"u"&&typeof oe().importScripts=="function"}function yg(){return u(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function vg(){var i;return((i=navigator?.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function bg(){return Us()?self:null}var bd="firebaseLocalStorageDb",wg=1,fr="firebaseLocalStorage",wd="fbase_key",Gt=class{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}};function vr(i,t){return i.transaction([fr],t?"readwrite":"readonly").objectStore(fr)}function Ig(){let i=indexedDB.deleteDatabase(bd);return new Gt(i).toPromise()}function ms(){let i=indexedDB.open(bd,wg);return new Promise((t,e)=>{i.addEventListener("error",()=>{e(i.error)}),i.addEventListener("upgradeneeded",()=>{let n=i.result;try{n.createObjectStore(fr,{keyPath:wd})}catch(r){e(r)}}),i.addEventListener("success",()=>u(this,null,function*(){let n=i.result;n.objectStoreNames.contains(fr)?t(n):(n.close(),yield Ig(),t(yield ms()))}))})}function Bc(i,t,e){return u(this,null,function*(){let n=vr(i,!0).put({[wd]:t,value:e});return new Gt(n).toPromise()})}function Eg(i,t){return u(this,null,function*(){let e=vr(i,!1).get(t),n=yield new Gt(e).toPromise();return n===void 0?null:n.value})}function Wc(i,t){let e=vr(i,!0).delete(t);return new Gt(e).toPromise()}var Tg=800,Sg=3,Cg=(()=>{class i{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return u(this,null,function*(){return this.db?this.db:(this.db=yield ms(),this.db)})}_withRetries(e){return u(this,null,function*(){let n=0;for(;;)try{let r=yield this._openDb();return yield e(r)}catch(r){if(n++>Sg)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return u(this,null,function*(){return Us()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return u(this,null,function*(){this.receiver=gg._getInstance(bg()),this.receiver._subscribe("keyChanged",(e,n)=>u(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(n.key)}})),this.receiver._subscribe("ping",(e,n)=>u(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return u(this,null,function*(){var e,n;if(this.activeServiceWorker=yield yg(),!this.activeServiceWorker)return;this.sender=new fs(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(e){return u(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||vg()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return u(this,null,function*(){try{if(!indexedDB)return!1;let e=yield ms();return yield Bc(e,hr,"1"),yield Wc(e,hr),!0}catch{}return!1})}_withPendingWrite(e){return u(this,null,function*(){this.pendingWrites++;try{yield e()}finally{this.pendingWrites--}})}_set(e,n){return u(this,null,function*(){return this._withPendingWrite(()=>u(this,null,function*(){return yield this._withRetries(r=>Bc(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)}))})}_get(e){return u(this,null,function*(){let n=yield this._withRetries(r=>Eg(r,e));return this.localCache[e]=n,n})}_remove(e){return u(this,null,function*(){return this._withPendingWrite(()=>u(this,null,function*(){return yield this._withRetries(n=>Wc(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)}))})}_poll(){return u(this,null,function*(){let e=yield this._withRetries(o=>{let s=vr(o,!1).getAll();return new Gt(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];let n=[],r=new Set;if(e.length!==0)for(let{fbase_key:o,value:s}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),n.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n})}notifyListeners(e,n){this.localCache[e]=n;let r=this.listeners[e];if(r)for(let o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>u(this,null,function*(){return this._poll()}),Tg)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return i.type="LOCAL",i})(),Id=Cg;function xg(i,t){return rt(i,"POST","/v2/accounts/mfaSignIn:start",pt(i,t))}var Og=500,Ag=6e4,Xn=1e12,gs=class{constructor(t){this.auth=t,this.counter=Xn,this._widgets=new Map}render(t,e){let n=this.counter;return this._widgets.set(n,new _s(t,this.auth.name,e||{})),this.counter++,n}reset(t){var e;let n=t||Xn;(e=this._widgets.get(n))===null||e===void 0||e.delete(),this._widgets.delete(n)}getResponse(t){var e;let n=t||Xn;return((e=this._widgets.get(n))===null||e===void 0?void 0:e.getResponse())||""}execute(t){return u(this,null,function*(){var e;let n=t||Xn;return(e=this._widgets.get(n))===null||e===void 0||e.execute(),""})}},_s=class{constructor(t,e,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};let r=typeof t=="string"?document.getElementById(t):t;x(r,"argument-error",{appName:e}),this.container=r,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=kg(50);let{callback:t,"expired-callback":e}=this.params;if(t)try{t(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,e)try{e()}catch{}this.isVisible&&this.execute()},Ag)},Og))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}};function kg(i){let t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<i;n++)t.push(e.charAt(Math.floor(Math.random()*e.length)));return t.join("")}var rs=md("rcb"),Pg=new Kt(3e4,6e4),ys=class{constructor(){var t;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((t=oe().grecaptcha)===null||t===void 0)&&t.render)}load(t,e=""){return x(Dg(e),t,"argument-error"),this.shouldResolveImmediately(e)&&Fc(oe().grecaptcha)?Promise.resolve(oe().grecaptcha):new Promise((n,r)=>{let o=oe().setTimeout(()=>{r(xe(t,"network-request-failed"))},Pg.get());oe()[rs]=()=>{oe().clearTimeout(o),delete oe()[rs];let a=oe().grecaptcha;if(!a||!Fc(a)){r(xe(t,"internal-error"));return}let l=a.render;a.render=(c,f)=>{let _=l(c,f);return this.counter++,_},this.hostLanguage=e,n(a)};let s=`${Zm()}?${$t({onload:rs,render:"explicit",hl:e})}`;fd(s).catch(()=>{clearTimeout(o),r(xe(t,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(t){var e;return!!(!((e=oe().grecaptcha)===null||e===void 0)&&e.render)&&(t===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}};function Dg(i){return i.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(i)}var vs=class{load(t){return u(this,null,function*(){return new gs(t)})}clearedOneInstance(){}};var Ed="recaptcha",Rg={theme:"light",type:"image"},on=class{constructor(t,e,n=Object.assign({},Rg)){this.parameters=n,this.type=Ed,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Qt(t),this.isInvisible=this.parameters.size==="invisible",x(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");let r=typeof e=="string"?document.getElementById(e):e;x(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new vs:new ys,this.validateStartingState()}verify(){return u(this,null,function*(){this.assertNotDestroyed();let t=yield this.render(),e=this.getAssertedRecaptcha(),n=e.getResponse(t);return n||new Promise(r=>{let o=s=>{s&&(this.tokenChangeListeners.delete(o),r(s))};this.tokenChangeListeners.add(o),this.isInvisible&&e.execute(t)})})}render(){try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(t=>{throw this.renderPromise=null,t}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(t=>{this.container.removeChild(t)})}validateStartingState(){x(!this.parameters.sitekey,this.auth,"argument-error"),x(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),x(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(t){return e=>{if(this.tokenChangeListeners.forEach(n=>n(e)),typeof t=="function")t(e);else if(typeof t=="string"){let n=oe()[t];typeof n=="function"&&n(e)}}}assertNotDestroyed(){x(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){return u(this,null,function*(){if(yield this.init(),!this.widgetId){let t=this.container;if(!this.isInvisible){let e=document.createElement("div");t.appendChild(e),t=e}this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)}return this.widgetId})}init(){return u(this,null,function*(){x(ed()&&!Us(),this.auth,"internal-error"),yield Mg(),this.recaptcha=yield this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);let t=yield zm(this.auth);x(t,this.auth,"internal-error"),this.parameters.sitekey=t})}getAssertedRecaptcha(){return x(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function Mg(){let i=null;return new Promise(t=>{if(document.readyState==="complete"){t();return}i=()=>t(),window.addEventListener("load",i)}).catch(t=>{throw i&&window.removeEventListener("load",i),t})}var bs=class{constructor(t,e){this.verificationId=t,this.onConfirmation=e}confirm(t){let e=dr._fromVerification(this.verificationId,t);return this.onConfirmation(e)}};function $s(i,t,e){return u(this,null,function*(){if(Ke(i.app))return Promise.reject(Ot(i));let n=Qt(i),r=yield Ng(n,t,St(e));return new bs(r,o=>Ns(n,o))})}function Ng(i,t,e){return u(this,null,function*(){var n;let r=yield e.verify();try{x(typeof r=="string",i,"argument-error"),x(e.type===Ed,i,"argument-error");let o;if(typeof t=="string"?o={phoneNumber:t}:o=t,"session"in o){let s=o.session;if("phoneNumber"in o)return x(s.type==="enroll",i,"internal-error"),(yield dg(i,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:r}})).phoneSessionInfo.sessionInfo;{x(s.type==="signin",i,"internal-error");let a=((n=o.multiFactorHint)===null||n===void 0?void 0:n.uid)||o.multiFactorUid;return x(a,i,"missing-multi-factor-info"),(yield xg(i,{mfaPendingCredential:s.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:r}})).phoneResponseInfo.sessionInfo}}else{let{sessionInfo:s}=yield ng(i,{phoneNumber:o.phoneNumber,recaptchaToken:r});return s}}finally{e._reset()}})}function Td(i,t){return t?ut(t):(x(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}var sn=class extends ki{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Oi(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Oi(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Oi(t,this._buildIdpRequest())}_buildIdpRequest(t){let e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}};function Lg(i){return yd(i.auth,new sn(i),i.bypassAuthState)}function Fg(i){let{auth:t,user:e}=i;return x(e,t,"internal-error"),cg(e,new sn(i),i.bypassAuthState)}function Vg(i){return u(this,null,function*(){let{auth:t,user:e}=i;return x(e,t,"internal-error"),lg(e,new sn(i),i.bypassAuthState)})}var mr=class{constructor(t,e,n,r,o=!1){this.auth=t,this.resolver=n,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise((t,e)=>u(this,null,function*(){this.pendingPromise={resolve:t,reject:e};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}onAuthEvent(t){return u(this,null,function*(){let{urlResponse:e,sessionId:n,postBody:r,tenantId:o,error:s,type:a}=t;if(s){this.reject(s);return}let l={auth:this.auth,requestUri:e,sessionId:n,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(l))}catch(c){this.reject(c)}})}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Lg;case"linkViaPopup":case"linkViaRedirect":return Vg;case"reauthViaPopup":case"reauthViaRedirect":return Fg;default:nt(this.auth,"internal-error")}}resolve(t){ht(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ht(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var zg=new Kt(2e3,1e4);function Hs(i,t,e){return u(this,null,function*(){if(Ke(i.app))return Promise.reject(xe(i,"operation-not-supported-in-this-environment"));let n=Qt(i);Mm(i,t,nn);let r=Td(n,e);return new Ug(n,"signInViaPopup",t,r).executeNotNull()})}var Ug=(()=>{class i extends mr{constructor(e,n,r,o,s){super(e,n,o,s),this.provider=r,this.authWindow=null,this.pollId=null,i.currentPopupAction&&i.currentPopupAction.cancel(),i.currentPopupAction=this}executeNotNull(){return u(this,null,function*(){let e=yield this.execute();return x(e,this.auth,"internal-error"),e})}onExecution(){return u(this,null,function*(){ht(this.filter.length===1,"Popup operations only handle one event");let e=zs();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(xe(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(xe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,i.currentPopupAction=null}pollUserCancellation(){let e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xe(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zg.get())};e()}}i.currentPopupAction=null;return i})(),$g="pendingRedirect",ir=new Map,ws=class i extends mr{constructor(t,e,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,n),this.eventId=null}execute(){return u(this,null,function*(){let t=ir.get(this.auth._key());if(!t){try{let n=(yield Hg(this.resolver,this.auth))?yield Rt(i.prototype,this,"execute").call(this):null;t=()=>Promise.resolve(n)}catch(e){t=()=>Promise.reject(e)}ir.set(this.auth._key(),t)}return this.bypassAuthState||ir.set(this.auth._key(),()=>Promise.resolve(null)),t()})}onAuthEvent(t){return u(this,null,function*(){if(t.type==="signInViaRedirect")return Rt(i.prototype,this,"onAuthEvent").call(this,t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){let e=yield this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,Rt(i.prototype,this,"onAuthEvent").call(this,t);this.resolve(null)}})}onExecution(){return u(this,null,function*(){})}cleanUp(){}};function Hg(i,t){return u(this,null,function*(){let e=jg(t),n=Wg(i);if(!(yield n._isAvailable()))return!1;let r=(yield n._get(e))==="true";return yield n._remove(e),r})}function Bg(i,t){ir.set(i._key(),t)}function Wg(i){return ut(i._redirectPersistence)}function jg(i){return tr($g,i.config.apiKey,i.name)}function qg(i,t,e=!1){return u(this,null,function*(){if(Ke(i.app))return Promise.reject(Ot(i));let n=Qt(i),r=Td(n,t),s=yield new ws(n,r,e).execute();return s&&!e&&(delete s.user._redirectEventId,yield n._persistUserIfCurrent(s.user),yield n._setRedirectUser(null,t)),s})}var Kg=10*60*1e3,Is=class{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Gg(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var n;if(t.error&&!Sd(t)){let r=((n=t.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";e.onError(xe(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){let n=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Kg&&this.cachedEventUids.clear(),this.cachedEventUids.has(jc(t))}saveEventToCache(t){this.cachedEventUids.add(jc(t)),this.lastProcessedEventTime=Date.now()}};function jc(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function Sd({type:i,error:t}){return i==="unknown"&&t?.code==="auth/no-auth-event"}function Gg(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Sd(i);default:return!1}}function Qg(e){return u(this,arguments,function*(i,t={}){return rt(i,"GET","/v1/projects",t)})}var Yg=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zg=/^https?/;function Jg(i){return u(this,null,function*(){if(i.config.emulator)return;let{authorizedDomains:t}=yield Qg(i);for(let e of t)try{if(Xg(e))return}catch{}nt(i,"unauthorized-domain")})}function Xg(i){let t=ss(),{protocol:e,hostname:n}=new URL(t);if(i.startsWith("chrome-extension://")){let s=new URL(i);return s.hostname===""&&n===""?e==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&s.hostname===n}if(!Zg.test(e))return!1;if(Yg.test(i))return n===i;let r=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(n)}var e_=new Kt(3e4,6e4);function qc(){let i=oe().___jsl;if(i?.H){for(let t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let e=0;e<i.CP.length;e++)i.CP[e]=null}}function t_(i){return new Promise((t,e)=>{var n,r,o;function s(){qc(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{qc(),e(xe(i,"network-request-failed"))},timeout:e_.get()})}if(!((r=(n=oe().gapi)===null||n===void 0?void 0:n.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((o=oe().gapi)===null||o===void 0)&&o.load)s();else{let a=md("iframefcb");return oe()[a]=()=>{gapi.load?s():e(xe(i,"network-request-failed"))},fd(`${Jm()}?onload=${a}`).catch(l=>e(l))}}).catch(t=>{throw nr=null,t})}var nr=null;function i_(i){return nr=nr||t_(i),nr}var n_=new Kt(5e3,15e3),r_="__/auth/iframe",o_="emulator/auth/iframe",s_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},a_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function l_(i){let t=i.config;x(t.authDomain,i,"auth-domain-config-required");let e=t.emulator?xs(t,o_):`https://${i.config.authDomain}/${r_}`,n={apiKey:t.apiKey,appName:i.name,v:vi},r=a_.get(i.config.apiHost);r&&(n.eid=r);let o=i._getFrameworks();return o.length&&(n.fw=o.join(",")),`${e}?${$t(n).slice(1)}`}function c_(i){return u(this,null,function*(){let t=yield i_(i),e=oe().gapi;return x(e,i,"internal-error"),t.open({where:document.body,url:l_(i),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:s_,dontclear:!0},n=>new Promise((r,o)=>u(this,null,function*(){yield n.restyle({setHideOnLeave:!1});let s=xe(i,"network-request-failed"),a=oe().setTimeout(()=>{o(s)},n_.get());function l(){oe().clearTimeout(a),r(n)}n.ping(l).then(l,()=>{o(s)})})))})}var d_={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},u_=500,h_=600,p_="_blank",f_="http://localhost",gr=class{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function m_(i,t,e,n=u_,r=h_){let o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString(),a="",l=Object.assign(Object.assign({},d_),{width:n.toString(),height:r.toString(),top:o,left:s}),c=be().toLowerCase();e&&(a=ad(c)?p_:e),od(c)&&(t=t||f_,l.scrollbars="yes");let f=Object.entries(l).reduce((w,[I,v])=>`${w}${I}=${v},`,"");if(qm(c)&&a!=="_self")return g_(t||"",a),new gr(null);let _=window.open(t||"",a,f);x(_,i,"popup-blocked");try{_.focus()}catch{}return new gr(_)}function g_(i,t){let e=document.createElement("a");e.href=i,e.target=t;let n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(n)}var __="__/auth/handler",y_="emulator/auth/handler",v_=encodeURIComponent("fac");function Kc(i,t,e,n,r,o){return u(this,null,function*(){x(i.config.authDomain,i,"auth-domain-config-required"),x(i.config.apiKey,i,"invalid-api-key");let s={apiKey:i.config.apiKey,appName:i.name,authType:e,redirectUrl:n,v:vi,eventId:r};if(t instanceof nn){t.setDefaultLanguage(i.languageCode),s.providerId=t.providerId||"",sc(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(let[f,_]of Object.entries(o||{}))s[f]=_}if(t instanceof ur){let f=t.getScopes().filter(_=>_!=="");f.length>0&&(s.scopes=f.join(","))}i.tenantId&&(s.tid=i.tenantId);let a=s;for(let f of Object.keys(a))a[f]===void 0&&delete a[f];let l=yield i._getAppCheckToken(),c=l?`#${v_}=${encodeURIComponent(l)}`:"";return`${b_(i)}?${$t(a).slice(1)}${c}`})}function b_({config:i}){return i.emulator?xs(i,y_):`https://${i.authDomain}/${__}`}var os="webStorageSupport",Es=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vs,this._completeRedirectFn=qg,this._overrideRedirectResult=Bg}_openPopup(t,e,n,r){return u(this,null,function*(){var o;ht((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield Kc(t,e,n,ss(),r);return m_(t,s,zs())})}_openRedirect(t,e,n,r){return u(this,null,function*(){yield this._originValidation(t);let o=yield Kc(t,e,n,ss(),r);return _g(o),new Promise(()=>{})})}_initialize(t){let e=t._key();if(this.eventManagers[e]){let{manager:r,promise:o}=this.eventManagers[e];return r?Promise.resolve(r):(ht(o,"If manager is not set, promise should be"),o)}let n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n.catch(()=>{delete this.eventManagers[e]}),n}initAndGetManager(t){return u(this,null,function*(){let e=yield c_(t),n=new Is(t);return e.register("authEvent",r=>(x(r?.authEvent,t,"invalid-auth-event"),{status:n.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=e,n})}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(os,{type:os},r=>{var o;let s=(o=r?.[0])===null||o===void 0?void 0:o[os];s!==void 0&&e(!!s),nt(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){let e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=Jg(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return hd()||sd()||Ps()}},Cd=Es;var Gc="@firebase/auth",Qc="1.7.9";var Ts=class{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}getToken(t){return u(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(t)}:null})}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;let e=this.auth.onIdTokenChanged(n=>{t(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();let e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){x(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function w_(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function I_(i){yi(new et("auth",(t,{options:e})=>{let n=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=n.options;x(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});let l={apiKey:s,authDomain:a,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pd(i)},c=new hs(n,r,o,l);return Xm(c,e),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider("auth-internal").initialize()})),yi(new et("auth-internal",t=>{let e=Qt(t.getProvider("auth").getImmediate());return(n=>new Ts(n))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ce(Gc,Qc,w_(i)),Ce(Gc,Qc,"esm2017")}var E_=5*60,T_=xo("authIdTokenMaxAge")||E_,Yc=null,S_=i=>t=>u(void 0,null,function*(){let e=t&&(yield t.getIdTokenResult()),n=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(n&&n>T_)return;let r=e?.token;Yc!==r&&(Yc=r,yield fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function Bs(i=Nn()){let t=Ho(i,"auth");if(t.isInitialized())return t.getImmediate();let e=Ds(i,{popupRedirectResolver:Cd,persistence:[Id,vd,Vs]}),n=xo("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(n,location.origin);if(location.origin===o.origin){let s=S_(o.toString());Fs(e,s,()=>s(e.currentUser)),Ls(e,a=>s(a))}}let r=Jl("auth");return r&&Rs(e,`http://${r}`),e}function C_(){var i,t;return(t=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&t!==void 0?t:document}Ym({loadJS(i){return new Promise((t,e)=>{let n=document.createElement("script");n.setAttribute("src",i),n.onload=t,n.onerror=r=>{let o=xe("internal-error");o.customData=r,e(o)},n.type="text/javascript",n.charset="UTF-8",C_().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});I_("Browser");var xd="auth",Yt=class{constructor(t){return t}},Ws=class{constructor(){return ts(xd)}};var js=new gn("angularfire2.auth-instances");function _y(i,t){let e=Rc(xd,i,t);return e&&new Yt(e)}function yy(i){return(t,e)=>{let n=t.runOutsideAngular(()=>i(e));return new Yt(n)}}var vy={provide:Ws,deps:[[new Mt,js]]},by={provide:Yt,useFactory:_y,deps:[[new Mt,js],qt]},wy=(()=>{class i{constructor(){Ce("angularfire",Qi.full,"auth")}static \u0275fac=function(n){return new(n||i)};static \u0275mod=Te({type:i});static \u0275inj=Ie({providers:[by,vy]})}return i})();function Od(i,...t){return{ngModule:wy,providers:[{provide:js,useFactory:yy(i),multi:!0,deps:[_e,_n,Zn,Yi,[new Mt,Qn],...t]}]}}var Ad=xi(Bs,!0);var kd=xi($s,!0),Pd=xi(Hs,!0);function Ty(i,t){i&1&&(h(0,"p",13),y(1," Please enter a valid phone number or email "),d())}function Sy(i,t){i&1&&(h(0,"p",13),y(1," Password must be at least 6 characters "),d())}function Cy(i,t){if(i&1&&(h(0,"div",27),y(1),d()),i&2){let e=p();ii("bg-green-100",!e.loginError&&!e.otpError)("bg-red-100",e.loginError||e.otpError)("text-green-800",!e.loginError&&!e.otpError)("text-red-800",e.loginError||e.otpError),m(),he(" ",e.message," ")}}function xy(i,t){i&1&&(h(0,"div",15)(1,"strong",25),y(2,"Incorrect email or password."),M(3,"br"),d(),y(4," Please try again."),M(5,"br"),h(6,"span",28),y(7,"That doesn't look right. Doublecheck your email and password, or reset your password if you've forgotten it."),d(),h(8,"a",29),y(9,"Forgot Password?"),d()())}function Oy(i,t){if(i&1&&(h(0,"div",33)(1,"p",40)(2,"strong"),y(3,"User:"),d(),y(4),d(),h(5,"p",40)(6,"strong"),y(7,"Phone:"),d(),y(8),d(),h(9,"p",40)(10,"strong"),y(11,"Email:"),d(),y(12),d()()),i&2){let e=p(2);m(4),La(" ",e.currentUser.first_name," ",e.currentUser.last_name,""),m(4),he(" ",e.currentUser.phone,""),m(4),he(" ",e.currentUser.email||"Not provided","")}}function Ay(i,t){if(i&1&&(h(0,"div",36),y(1),d()),i&2){let e=p(2);m(),he(" ",e.message," ")}}function ky(i,t){if(i&1&&(h(0,"div",37),y(1),d()),i&2){let e=p(2);m(),he(" ",e.message," ")}}function Py(i,t){if(i&1){let e=$();h(0,"div",0)(1,"div",30)(2,"div",4)(3,"h2",31),y(4,"\u{1F510} SMS Verification"),d(),h(5,"p",32),y(6,"Complete the verification to receive SMS code"),d(),b(7,Oy,13,4,"div",33),d(),h(8,"div",34),M(9,"div",35),d(),b(10,Ay,2,1,"div",36)(11,ky,2,1,"div",37),h(12,"div",38)(13,"button",39),E("click",function(){T(e);let r=p();return S(r.closeRecaptcha())}),y(14," Cancel "),d()()()()}if(i&2){let e=p();m(7),X(e.currentUser?7:-1),m(3),X(e.message&&!e.loginError?10:-1),m(),X(e.message&&e.loginError?11:-1)}}function Dy(i,t){if(i&1&&(h(0,"div",51)(1,"p",54),y(2),d()()),i&2){let e=p(2);m(2),wt(e.message)}}function Ry(i,t){if(i&1&&(h(0,"div",51)(1,"p",55),y(2),d()()),i&2){let e=p(2);m(2),wt(e.message)}}function My(i,t){if(i&1){let e=$();h(0,"div",51)(1,"p",54),y(2,"SMS Code Expired!"),d(),h(3,"button",56),E("click",function(){T(e);let r=p(2);return S(r.resendOTP())}),y(4," Resend SMS Code "),d()()}if(i&2){let e=p(2);m(3),g("disabled",!e.otpResendEnabled)}}function Ny(i,t){if(i&1){let e=$();h(0,"div",51)(1,"p",41),y(2,"Didn't get a code? Click to resend"),d(),h(3,"button",57),E("click",function(){T(e);let r=p(2);return S(r.resendOTP())}),y(4),d()()}if(i&2){let e=p(2);m(3),g("disabled",!e.otpResendEnabled),m(),he(" Resend in ",e.resendCountdown,"s ")}}function Ly(i,t){i&1&&(h(0,"p",52),y(1," Please enter the complete SMS code "),d())}function Fy(i,t){if(i&1){let e=$();h(0,"div",0)(1,"div",1)(2,"div",4)(3,"h2",31),y(4,"\u{1F4F1} SMS Verification"),d(),h(5,"p",32),y(6,"Please check your phone"),d(),h(7,"p",41),y(8),d()(),h(9,"form",7),E("ngSubmit",function(){T(e);let r=p();return S(r.verifyOTP())}),h(10,"div",42)(11,"label",43),y(12,"SMS Code"),d(),h(13,"div",44)(14,"input",45),E("input",function(r){T(e);let o=p();return S(o.onOTPInputChange(r,"digit2"))}),d(),h(15,"input",46),E("input",function(r){T(e);let o=p();return S(o.onOTPInputChange(r,"digit3"))}),d(),h(16,"input",47),E("input",function(r){T(e);let o=p();return S(o.onOTPInputChange(r,"digit4"))}),d(),h(17,"input",48),E("input",function(r){T(e);let o=p();return S(o.onOTPInputChange(r,"digit5"))}),d(),h(18,"input",49),E("input",function(r){T(e);let o=p();return S(o.onOTPInputChange(r,"digit6"))}),d(),h(19,"input",50),E("input",function(r){T(e);let o=p();return S(o.onOTPInputChange(r))}),d()(),b(20,Dy,3,1,"div",51)(21,Ry,3,1,"div",51)(22,My,5,1,"div",51)(23,Ny,5,2,"div",51)(24,Ly,2,0,"p",52),d(),h(25,"div",38)(26,"button",39),E("click",function(){T(e);let r=p();return S(r.closeOTPModal())}),y(27," Cancel "),d(),h(28,"button",53),y(29," Verify Code "),d()()()()()}if(i&2){let e=p();m(8),he("We've sent a code to ",e.phoneNumber,""),m(),g("formGroup",e.otpForm),m(11),X(e.message&&(e.otpError||e.loginError)?20:-1),m(),X(e.message&&!e.otpError&&!e.loginError?21:-1),m(),X(e.otpExpired?22:-1),m(),X(!e.otpResendEnabled&&!e.otpExpired?23:-1),m(),X(e.otpForm.invalid&&e.otpForm.touched?24:-1),m(4),g("disabled",e.otpForm.invalid)}}var br=class i{constructor(t,e,n,r){this.fb=t;this.auth=e;this.cookieService=n;this.router=r;this.loginForm=this.fb.group({login:["",pe.required],password:["",[pe.minLength(6)]]}),this.otpForm=this.fb.group({digit1:["",[pe.required,pe.pattern(/^[0-9]$/)]],digit2:["",[pe.required,pe.pattern(/^[0-9]$/)]],digit3:["",[pe.required,pe.pattern(/^[0-9]$/)]],digit4:["",[pe.required,pe.pattern(/^[0-9]$/)]],digit5:["",[pe.required,pe.pattern(/^[0-9]$/)]],digit6:["",[pe.required,pe.pattern(/^[0-9]$/)]]})}authInstance=Ee(Yt);close=new B;loginForm;otpForm;showOTPModal=!1;loginError=!1;phoneNumber="";tokenExist="";otpExpired=!1;otpResendEnabled=!1;countdownInterval;resendCountdown=30;userLogin="";otpError=!1;recaptchaVerifier=null;confirmationResult=null;message="";recaptchaWidgetId=null;isPhoneLoginFlow=!1;recaptchaLoaded=!1;pendingUserId=null;currentUser=null;showRecaptcha=!1;ngOnInit(){this.onLoginInputChange(),this.loadRecaptcha()}loadRecaptcha(){if(document.querySelector('script[src*="recaptcha"]')){this.recaptchaLoaded=!0;return}let t=document.createElement("script");t.src="https://www.google.com/recaptcha/api.js?render=explicit",t.async=!0,t.defer=!0,t.onload=()=>{this.recaptchaLoaded=!0,console.log("reCAPTCHA script loaded")},t.onerror=()=>{console.error("Failed to load reCAPTCHA script"),this.message="Failed to load verification system"},document.head.appendChild(t)}initRecaptcha(){return u(this,null,function*(){try{let t=document.getElementById("recaptcha-container");if(!t)throw new Error("Recaptcha container not found");if(t.innerHTML="",this.recaptchaVerifier){try{this.recaptchaVerifier.clear()}catch{console.log("Previous verifier already cleared")}this.recaptchaVerifier=null}console.log("Initializing reCAPTCHA for phone:",this.phoneNumber),this.recaptchaVerifier=new on(this.authInstance,"recaptcha-container",{size:"normal",callback:e=>{console.log("reCAPTCHA verified, response:",e.substring(0,50)+"..."),this.sendFirebaseOTP()},"expired-callback":()=>{console.log("reCAPTCHA expired"),this.message="reCAPTCHA expired. Please try again.",this.loginError=!0},"error-callback":e=>{console.error("reCAPTCHA error:",e),this.message="reCAPTCHA error. Please try again.",this.loginError=!0}}),console.log("Rendering reCAPTCHA..."),yield this.recaptchaVerifier.render(),console.log("reCAPTCHA rendered successfully")}catch(t){throw console.error("Error initializing reCAPTCHA:",t),this.message="Failed to initialize verification. Please refresh the page.",this.loginError=!0,t}})}formatPhoneNumber(t){let e=t.replace(/\D/g,"");return t.startsWith("+")?t:e.startsWith("00")?"+"+e.substring(2):e.startsWith("0")&&e.length===10?"+212"+e.substring(1):e.length===9&&(e.startsWith("6")||e.startsWith("7"))?"+212"+e:t.startsWith("+")?t:"+"+e}onSubmit(){return u(this,null,function*(){if(this.loginForm.invalid){this.loginForm.markAllAsTouched();return}let t=this.loginForm.get("login")?.value?.trim()||"",e=this.loginForm.get("password")?.value?.trim()||"";this.isEmail(t)?this.auth.loginWithEmailPassword(t,e).subscribe({next:n=>{this.message="Connexion r\xE9ussie (email)",this.closeModal()},error:n=>{this.message=n.error?.message||"Erreur email",this.loginError=!0}}):this.isPhone(t)?yield this.handlePhonePasswordLogin(t,e):(this.message="Email ou num\xE9ro invalide",this.loginError=!0)})}handlePhonePasswordLogin(t,e){return u(this,null,function*(){try{let n=this.formatPhoneNumber(t);this.phoneNumber=n;let r=yield this.auth.loginWithPhonePassword(n,e).toPromise();r.requiresFirebaseOTP?(this.currentUser=r,this.pendingUserId=r.user_id,this.showRecaptcha=!0,this.message="Please complete the reCAPTCHA verification to receive SMS code",setTimeout(()=>{this.initRecaptcha()},100)):this.handleSuccessfulLogin(r.token,r.user)}catch(n){this.message=n.error?.message||"Login failed",this.loginError=!0}})}sendFirebaseOTP(){return u(this,null,function*(){try{if(!this.recaptchaVerifier)throw new Error("reCAPTCHA not initialized");if(!this.phoneNumber)throw new Error("Phone number not set");console.log("Sending Firebase OTP to:",this.phoneNumber),this.message="Sending SMS code...",this.loginError=!1,this.confirmationResult=yield kd(this.authInstance,this.phoneNumber,this.recaptchaVerifier),console.log("SMS sent successfully, confirmationResult:",this.confirmationResult),this.showRecaptcha=!1,this.showOTPModal=!0,this.startOTPCountdown(),this.message="SMS code sent successfully to "+this.phoneNumber}catch(t){if(console.error("Firebase SMS Error:",t),console.error("Error code:",t.code),console.error("Error message:",t.message),this.message=this.getFirebaseErrorMessage(t),this.loginError=!0,this.recaptchaVerifier){try{this.recaptchaVerifier.clear()}catch(e){console.log("Error clearing verifier:",e)}this.recaptchaVerifier=null}this.showRecaptcha=!1}})}verifyOTP(){return u(this,null,function*(){if(this.otpForm.invalid){this.otpForm.markAllAsTouched();return}let t=Object.values(this.otpForm.value).join("");this.message="Verifying OTP...";try{let e=yield this.auth.verifyOtp(this.pendingUserId,t).toPromise(),r=yield(yield this.confirmationResult.confirm(t)).user.getIdToken(),o=yield this.auth.completeFirebaseAuth(this.pendingUserId,r).toPromise();this.handleSuccessfulLogin(o.token,o.user),this.showOTPModal=!1,this.closeModal()}catch(e){console.error("OTP Verification Error:",e),e.code&&e.code.includes("auth/")?this.message=this.getFirebaseErrorMessage(e):this.message=e.error?.message||"OTP verification failed",this.otpError=!0}})}getFirebaseErrorMessage(t){switch(t.code){case"auth/invalid-phone-number":return"Invalid phone number format. Please use international format (+country code)";case"auth/too-many-requests":return"Too many attempts. Please try again later.";case"auth/captcha-check-failed":return"reCAPTCHA verification failed. Please try again.";case"auth/invalid-verification-code":return"Invalid OTP code. Please check and try again.";case"auth/code-expired":return"OTP code expired. Please request a new one.";case"auth/quota-exceeded":return"SMS quota exceeded. Please try again later.";default:return t.message||"An error occurred. Please try again."}}loginWithGoogle(){return u(this,null,function*(){let t=new Ms;try{let r=yield(yield Pd(this.authInstance,t)).user.getIdToken();this.auth.loginWithFirebaseToken(r).subscribe({next:o=>{o.token&&this.handleSuccessfulLogin(o.token,o.user)},error:o=>{console.error("Backend login error:",o),this.message="Google login failed"}})}catch(e){console.error("Google login error:",e),this.message="Google login error"}})}isEmail(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}isPhone(t){return/^[\+]?[0-9\s\-\(\)]{8,20}$/.test(t)}onLoginInputChange(){let t=this.loginForm.get("login")?.value,e=this.loginForm.get("password");this.isPhone(t)?(e?.clearValidators(),e?.setErrors(null)):e?.setValidators([pe.required,pe.minLength(6)]),e?.updateValueAndValidity()}handleSuccessfulLogin(t,e){this.cookieService.set("token",t,{secure:!1,sameSite:"Strict",path:"/",expires:7}),this.auth.saveToken(t),this.auth.setLoggedIn(!0),this.auth.fetchUserProfile&&this.auth.fetchUserProfile(),this.router.navigate(["/home"])}closeModal(){this.close.emit(),this.resetComponent()}closeOTPModal(){this.showOTPModal=!1,this.otpError=!1,this.clearOTPForm(),this.clearCountdown()}closeRecaptcha(){this.showRecaptcha=!1,this.recaptchaVerifier&&(this.recaptchaVerifier.clear(),this.recaptchaVerifier=null)}resetComponent(){this.showOTPModal=!1,this.showRecaptcha=!1,this.loginError=!1,this.otpError=!1,this.message="",this.currentUser=null,this.pendingUserId=null,this.phoneNumber="",this.clearOTPForm(),this.clearCountdown(),this.recaptchaVerifier&&(this.recaptchaVerifier.clear(),this.recaptchaVerifier=null)}clearOTPForm(){this.otpForm.reset()}clearCountdown(){this.countdownInterval&&clearInterval(this.countdownInterval)}startOTPCountdown(){this.otpResendEnabled=!1,this.resendCountdown=30,this.countdownInterval=setInterval(()=>{this.resendCountdown--,this.resendCountdown<=0&&(this.otpResendEnabled=!0,this.otpExpired=!0,this.clearCountdown())},1e3)}resendOTP(){return u(this,null,function*(){if(this.otpResendEnabled){this.otpExpired=!1,this.otpError=!1,this.clearOTPForm(),this.showOTPModal=!1,this.showRecaptcha=!0,this.message="Complete reCAPTCHA to resend SMS code";try{yield this.initRecaptcha()}catch(t){console.error("Error initializing reCAPTCHA for resend:",t),this.message="Error initializing verification. Please try again.",this.showRecaptcha=!1,this.showOTPModal=!0}}})}onOTPInputChange(t,e){let n=t.target,r=n.value;if(r&&!/^[0-9]$/.test(r)){n.value="";return}if(r&&e){let o=document.getElementById(e);o&&o.focus()}if(!r&&t.inputType==="deleteContentBackward"){let o=["digit1","digit2","digit3","digit4","digit5","digit6"],s=o.indexOf(n.id);if(s>0){let a=document.getElementById(o[s-1]);a&&a.focus()}}}ngOnDestroy(){this.clearCountdown(),this.recaptchaVerifier&&this.recaptchaVerifier.clear()}static \u0275fac=function(e){return new(e||i)(U(sl),U(Xe),U(mi),U(si))};static \u0275cmp=W({type:i,selectors:[["app-login-modal"]],outputs:{close:"close"},decls:41,vars:9,consts:[[1,"fixed","inset-0","z-50","bg-gray","bg-opacity-50","backdrop-blur-sm","flex","items-center","justify-center"],[1,"bg-white","rounded-xl","shadow-lg","w-full","max-w-sm","p-6"],[1,"flex","flex-col","items-center","mb-6"],["src","/pictures/dabapplogo.svg","alt","Dab",1,"w-12","h-12","mb-2"],[1,"text-center","mb-6"],[1,"text-base","font-medium","text-gray-800"],[1,"text-sm","text-gray-500","mt-1"],[3,"ngSubmit","formGroup"],[1,"mb-4"],[1,"block","text-sm","font-medium","text-gray-700"],["type","text","placeholder","+212612345678 or email@example.com","formControlName","login","required","",1,"w-full","mt-1","px-3","py-2","text-black","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-red-400",3,"input"],["class","text-sm text-red-600 mt-1",4,"ngIf"],["type","password","placeholder","Enter password","formControlName","password",1,"w-full","mt-1","px-3","py-2","text-black","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-red-400",3,"required"],[1,"text-sm","text-red-600","mt-1"],[1,"mb-4","p-3","rounded-lg","text-sm",3,"bg-green-100","bg-red-100","text-green-800","text-red-800"],[1,"bg-red-100","border","border-red-400","px-4","py-3","rounded-lg","mt-4","text-sm"],[1,"space-y-2"],["type","submit",1,"w-full","bg-red-500","hover:bg-red-600","disabled:bg-gray-300","text-white","font-semibold","py-2","px-4","rounded-lg",3,"disabled"],["type","button","routerLink","/register",1,"w-full","bg-gray-800","hover:bg-gray-900","text-white","font-semibold","py-2","px-4","rounded-lg",3,"click"],["type","button",1,"w-full","bg-white","border","border-gray-300","text-gray-800","hover:bg-gray-100","py-2","px-4","rounded-lg","flex","items-center","justify-center","gap-2",3,"click"],["viewBox","0 0 533.5 544.3","xmlns","http://www.w3.org/2000/svg",1,"w-5","h-5"],["fill","#4285f4","d","M533.5 278.4c0-17.4-1.6-34.1-4.6-50.4H272v95.3h146.9c-6.3 34-25.1 62.8-53.4 82.1v68h86.4c50.6-46.7 81.6-115.5 81.6-194.9z"],["fill","#34a853","d","M272 544.3c72.6 0 133.6-24 178.2-65.2l-86.4-68c-24 16-54.8 25.5-91.8 25.5-70.6 0-130.4-47.7-151.8-111.7h-89v69.9c44.5 88.1 136.3 149.5 240.8 149.5z"],["fill","#fbbc04","d","M120.2 324.9c-10.1-29.7-10.1-61.6 0-91.3v-69.9h-89c-38.2 75.6-38.2 165.5 0 241.1l89-69.9z"],["fill","#ea4335","d","M272 107.7c39.5 0 75 13.6 102.9 40.3l77.3-77.3C405.5 24 344.6 0 272 0c-104.5 0-196.3 61.4-240.8 149.5l89 69.9c21.3-64 81.1-111.7 151.8-111.7z"],[1,"font-medium"],["type","button",1,"w-full","bg-gray-100","hover:bg-gray-200","text-gray-800","font-semibold","py-2","px-4","rounded-lg",3,"click"],[1,"mb-4","p-3","rounded-lg","text-sm"],[1,"block","mt-1"],["href","#",1,"text-red-500","font-semibold","block","mt-2"],[1,"bg-white","rounded-xl","shadow-lg","w-full","max-w-md","p-6"],[1,"text-lg","font-semibold","text-gray-800"],[1,"text-sm","text-gray-600","mt-2"],[1,"mt-4","p-3","bg-blue-50","rounded-lg"],[1,"flex","justify-center","mb-6"],["id","recaptcha-container"],[1,"mb-4","p-3","bg-blue-100","text-blue-800","rounded-lg","text-sm","text-center"],[1,"mb-4","p-3","bg-red-100","text-red-800","rounded-lg","text-sm","text-center"],[1,"flex","space-x-3"],["type","button",1,"flex-1","bg-gray-100","hover:bg-gray-200","text-gray-800","font-semibold","py-2","px-4","rounded-lg","border","border-gray-300",3,"click"],[1,"text-sm","text-gray-700"],[1,"text-sm","text-gray-600"],[1,"mb-6"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"flex","justify-between","gap-2"],["id","digit1","type","text","maxlength","1","formControlName","digit1",1,"w-12","h-14","text-center","border","border-blue-500","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-red-400","text-black",3,"input"],["id","digit2","type","text","maxlength","1","formControlName","digit2",1,"w-12","h-14","text-center","border","border-blue-500","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-red-400","text-black",3,"input"],["id","digit3","type","text","maxlength","1","formControlName","digit3",1,"w-12","h-14","text-center","border","border-blue-500","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-red-400","text-black",3,"input"],["id","digit4","type","text","maxlength","1","formControlName","digit4",1,"w-12","h-14","text-center","border","border-blue-500","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-red-400","text-black",3,"input"],["id","digit5","type","text","maxlength","1","formControlName","digit5",1,"w-12","h-14","text-center","border","border-blue-500","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-red-400","text-black",3,"input"],["id","digit6","type","text","maxlength","1","formControlName","digit6",1,"w-12","h-14","text-center","border","border-blue-500","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-red-400","text-black",3,"input"],[1,"mt-4","text-center"],[1,"text-sm","text-red-600","mt-2","text-center"],["type","submit",1,"flex-1","bg-red-500","hover:bg-red-600","disabled:bg-gray-300","text-white","font-semibold","py-2","px-4","rounded-lg",3,"disabled"],[1,"text-sm","text-red-600"],[1,"text-sm","text-green-600"],["type","button",1,"text-sm","text-blue-600","hover:text-blue-800","disabled:text-gray-400",3,"click","disabled"],["type","button",1,"text-sm","font-semibold","text-gray-400","focus:outline-none",3,"click","disabled"]],template:function(e,n){if(e&1&&(h(0,"div",0)(1,"div",1)(2,"div",2),M(3,"img",3),d(),h(4,"div",4)(5,"h2",5),y(6,"Please Sign in or create an account"),d(),h(7,"p",6),y(8," To be able to sell or view information, you will"),M(9,"br"),y(10," need to have a Dabapp account "),d()(),h(11,"form",7),E("ngSubmit",function(){return n.onSubmit()}),h(12,"div",8)(13,"label",9),y(14,"Phone Number or Email"),d(),h(15,"input",10),E("input",function(){return n.onLoginInputChange()}),d(),b(16,Ty,2,0,"p",11),d(),h(17,"div",8)(18,"label",9),y(19,"Password"),d(),M(20,"input",12),b(21,Sy,2,0,"p",13),d(),b(22,Cy,2,9,"div",14)(23,xy,10,0,"div",15),h(24,"div",16)(25,"button",17),y(26," Sign in "),d(),h(27,"button",18),E("click",function(){return n.closeModal()}),y(28," Sign Up "),d(),h(29,"button",19),E("click",function(){return n.loginWithGoogle()}),_t(),h(30,"svg",20),M(31,"path",21)(32,"path",22)(33,"path",23)(34,"path",24),d(),ka(),h(35,"span",25),y(36,"Continue with Google"),d()(),h(37,"button",26),E("click",function(){return n.closeModal()}),y(38," Cancel "),d()()()(),b(39,Py,15,3,"div",0)(40,Fy,30,8,"div",0),d()),e&2){let r,o,s,a;m(11),g("formGroup",n.loginForm),m(5),g("ngIf",((r=n.loginForm.get("login"))==null?null:r.invalid)&&((r=n.loginForm.get("login"))==null?null:r.touched)),m(4),g("required",!n.isPhone((o=n.loginForm.get("login"))==null?null:o.value)),m(),X((s=n.loginForm.get("password"))!=null&&s.invalid&&((s=n.loginForm.get("password"))!=null&&s.touched)?21:-1),m(),X(n.message?22:-1),m(),X(n.loginError&&!n.isPhone((a=n.loginForm.get("login"))==null?null:a.value)?23:-1),m(2),g("disabled",n.loginForm.invalid),m(14),X(n.showRecaptcha?39:-1),m(),X(n.showOTPModal?40:-1)}},dependencies:[ve,De,li,Ja,In,En,Ya,rl,ol,al,Xa,el,ai],encapsulation:2})};var zy=(i,t)=>({"fa-bars":i,"fa-times":t}),Uy=i=>({hidden:i});function $y(i,t){if(i&1){let e=$();h(0,"div",16)(1,"div",17)(2,"a",18),E("click",function(r){return T(e),p(2).navigateToProfile(),S(r.preventDefault())}),y(3," Profile "),d(),h(4,"a",18),E("click",function(r){return T(e),p(2).logout(),S(r.preventDefault())}),y(5," Logout "),d()()()}}function Hy(i,t){if(i&1){let e=$();h(0,"ul",11)(1,"li")(2,"a",12),E("click",function(){T(e);let r=p();return r.selectMenu("home"),S(r.toggleMobileMenu())}),y(3,"Home"),d()(),h(4,"li")(5,"a",12),E("click",function(){T(e);let r=p();return r.selectMenu("marketplace"),S(r.toggleMobileMenu())}),y(6,"Marketplace"),d()(),h(7,"li")(8,"a",12),E("click",function(){T(e);let r=p();return r.selectMenu("usedParts"),S(r.toggleMobileMenu())}),y(9,"Used Parts"),d()(),h(10,"li")(11,"a",12),E("click",function(){T(e);let r=p();return r.selectMenu("services"),S(r.toggleMobileMenu())}),y(12,"Services"),d()(),h(13,"li")(14,"a",12),E("click",function(){T(e);let r=p();return r.selectMenu("guide"),S(r.toggleMobileMenu())}),y(15,"Guide"),d()(),h(16,"li")(17,"a",12),E("click",function(){T(e);let r=p();return r.selectMenu("contact-us"),S(r.toggleMobileMenu())}),y(18,"Contact Us"),d()(),h(19,"li")(20,"a",12),E("click",function(){T(e);let r=p();return r.selectMenu("about-us"),S(r.toggleMobileMenu())}),y(21,"About Us"),d()()(),h(22,"div",13)(23,"button",14),E("click",function(){T(e);let r=p();return S(r.toggleDropdown())}),y(24),M(25,"i",15),d(),b(26,$y,6,0,"div",16),d()}if(i&2){let e=p();m(24),he(" ",e.userName," "),m(2),X(e.showDropdown?26:-1)}}function By(i,t){if(i&1){let e=$();h(0,"app-login-modal",26),E("close",function(){T(e);let r=p(2);return S(r.showLoginModal=!1)}),d()}}function Wy(i,t){if(i&1){let e=$();h(0,"ul",11)(1,"li")(2,"a",19),E("click",function(){T(e);let r=p();return S(r.toggleMobileMenu())}),y(3,"Home"),d()(),h(4,"li")(5,"a",20),E("click",function(){T(e);let r=p();return S(r.toggleMobileMenu())}),y(6,"Motorcycles"),d()(),h(7,"li")(8,"a",21),E("click",function(){T(e);let r=p();return S(r.toggleMobileMenu())}),y(9,"Spare Parts"),d()(),h(10,"li")(11,"a",22),E("click",function(){T(e);let r=p();return S(r.toggleMobileMenu())}),y(12,"Plates"),d()()(),h(13,"div",23)(14,"button",24),E("click",function(){T(e);let r=p();return S(r.openLoginModal())}),y(15,"Sign In"),d(),b(16,By,1,0,"app-login-modal",25),d()}if(i&2){let e=p();m(16),g("ngIf",e.showLoginModal)}}function jy(i,t){if(i&1){let e=$();h(0,"div",28)(1,"div",17)(2,"a",18),E("click",function(r){return T(e),p(2).navigateToProfile(),S(r.preventDefault())}),y(3," Profile "),d(),h(4,"a",18),E("click",function(r){return T(e),p(2).logout(),S(r.preventDefault())}),y(5," Logout "),d()()()}}function qy(i,t){if(i&1){let e=$();h(0,"div",9)(1,"button",27),E("click",function(){T(e);let r=p();return S(r.toggleDropdown())}),y(2),M(3,"i",15),d(),b(4,jy,6,0,"div",28),d()}if(i&2){let e=p();m(2),he(" ",e.userName," "),m(2),X(e.showDropdown?4:-1)}}function Ky(i,t){if(i&1){let e=$();h(0,"app-login-modal",26),E("close",function(){T(e);let r=p(2);return S(r.showLoginModal=!1)}),d()}}function Gy(i,t){if(i&1){let e=$();h(0,"div",10)(1,"button",29),E("click",function(){T(e);let r=p();return S(r.openLoginModal())}),y(2,"Sign In"),d(),b(3,Ky,1,0,"app-login-modal",25),d()}if(i&2){let e=p();m(3),g("ngIf",e.showLoginModal)}}var Er=class i{constructor(t,e,n,r,o){this.router=t;this.auth=e;this.cookieService=n;this.translate=r;this.platformId=o;if(this.translate.setDefaultLang("en"),Se(this.platformId)){let s=localStorage.getItem("lang")||"en";this.translate.use(s)}}menuSelected=new B;subNavItems=st([]);userName="";cities;showDropdown=!1;mobileMenuOpen=!1;selectedCity;currentUser;isLoggedIn=!1;showLoginModal=!1;ngOnInit(){this.auth.isLoggedIn$.subscribe(t=>{this.isLoggedIn=t,t?(this.auth.fetchUserProfileOnce(),this.auth.userProfile$.subscribe(e=>{e&&e.user&&(this.currentUser=e.user,this.userName=e.user.first_name)})):(this.currentUser=void 0,this.userName="")}),this.cities=[{name:"Riyadh",code:"RYD"},{name:"Jeddah",code:"JED"},{name:"Dammam",code:"DAM"}]}switchLang(t){this.translate.use(t),Se(this.platformId)&&localStorage.setItem("lang",t)}selectMenu(t){this.menuSelected.emit(t)}navigateToProfile(){this.showDropdown=!1,this.router.navigate(["/account"])}toggleDropdown(){this.showDropdown=!this.showDropdown}toggleMobileMenu(){this.mobileMenuOpen=!this.mobileMenuOpen}openLoginModal(){this.showLoginModal=!0}onModalClose(){this.showLoginModal=!1}logout(){this.auth.logout().subscribe({next:()=>{this.cookieService.delete("token","/"),localStorage.clear(),sessionStorage.clear(),this.isLoggedIn=!1,this.showLoginModal=!0}})}static \u0275fac=function(e){return new(e||i)(U(si),U(Xe),U(mi),U(kn),U(yt))};static \u0275cmp=W({type:i,selectors:[["app-navbar"]],outputs:{menuSelected:"menuSelected"},decls:16,vars:9,consts:[[1,"bg-gray-900","text-white","p-4"],[1,"container","mx-auto","flex","flex-wrap","justify-between","items-center"],[1,"flex","items-center"],["routerLink","/home","src","/pictures/mainLogo.png","alt","Dab",1,"h-8","cursor-pointer"],[1,"flex","items-center","gap-2","ml-4"],[1,"text-sm","px-3","py-1","rounded","bg-gray-700","hover:bg-gray-600",3,"click"],[1,"md:hidden","text-white","focus:outline-none",3,"click"],[1,"fa-solid",3,"ngClass"],[1,"w-full","md:flex","md:w-auto","md:items-center","mt-4","md:mt-0",3,"ngClass"],[1,"hidden","md:block","relative","profile-dropdown"],[1,"hidden","md:block"],[1,"flex","flex-col","md:flex-row","md:space-x-4","space-y-2","md:space-y-0","mb-4","md:mb-0"],[1,"block","hover:text-gray-300","cursor-pointer",3,"click"],[1,"md:hidden","mb-4","profile-dropdown"],[1,"bg-white","px-4","py-2","rounded-lg","text-black","flex","items-center","gap-2","w-full","justify-center",3,"click"],[1,"fa-regular","fa-user"],[1,"mt-2","bg-white","rounded-md","shadow-lg","z-50"],[1,"py-1","cursor-pointer"],[1,"block","px-4","py-2","text-gray-800","hover:bg-gray-100",3,"click"],["routerLink","/home",1,"block","hover:text-gray-300",3,"click"],["routerLink","/motorcycles",1,"block","hover:text-gray-300",3,"click"],["routerLink","/spareparts",1,"block","hover:text-gray-300",3,"click"],["routerLink","/plates",1,"block","hover:text-gray-300",3,"click"],[1,"md:hidden","mb-4"],[3,"click"],[3,"close",4,"ngIf"],[3,"close"],[1,"bg-white","px-4","py-2","rounded-lg","text-black","flex","items-center","gap-2","cursor-pointer",2,"background-color","#fff",3,"click"],[1,"absolute","right-0","mt-2","w-48","bg-white","rounded-md","shadow-lg","z-50"],[1,"px-4","py-2","rounded-lg","text-white",2,"background-color","#F03D24",3,"click"]],template:function(e,n){e&1&&(h(0,"nav",0)(1,"div",1)(2,"div",2),M(3,"img",3),d(),h(4,"div",4)(5,"button",5),E("click",function(){return n.switchLang("en")}),y(6,"EN"),d(),h(7,"button",5),E("click",function(){return n.switchLang("ar")}),y(8,"AR"),d()(),h(9,"button",6),E("click",function(){return n.toggleMobileMenu()}),M(10,"i",7),d(),h(11,"div",8),b(12,Hy,27,2)(13,Wy,17,1),d(),b(14,qy,5,2,"div",9)(15,Gy,4,1,"div",10),d()()),e&2&&(m(10),g("ngClass",Je(4,zy,!n.mobileMenuOpen,n.mobileMenuOpen)),m(),g("ngClass",Y(7,Uy,!n.mobileMenuOpen)),m(),X(n.isLoggedIn?12:13),m(2),X(n.isLoggedIn?14:15))},dependencies:[ve,at,De,wn,ai,li,Pn,fi,br],styles:["nav[_ngcontent-%COMP%]{z-index:1000}@media (max-width: 768px){nav[_ngcontent-%COMP%]   div[class*=w-full][_ngcontent-%COMP%]{transition:max-height .3s ease-in-out;overflow:hidden}nav[_ngcontent-%COMP%]   div.hidden[_ngcontent-%COMP%]{max-height:0}nav[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:not(.hidden){max-height:100vh;padding-bottom:.5rem}}button[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #4299e180}.profile-dropdown[_ngcontent-%COMP%]{position:relative}.z-50[_ngcontent-%COMP%]{z-index:50}a[_ngcontent-%COMP%]:hover{transition:all .2s ease}"]})};var Tr=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=W({type:i,selectors:[["app-footer"]],decls:55,vars:0,consts:[[1,"footer"],[1,"footer-content"],[1,"footer-section"],["href","/"],["href","/products"],["href","/profile"],["href","/affiliate"],["href","/about-us"],["href","/contact-us"],["href","/privacy"],["href","/terms"],["href","/return-policy"],[1,"footer-bottom"],[1,"footer-logo"],["routerLink","/home","routerLinkActive","router-link-active","src","/pictures/footerLogo.png","alt","DabApp Logo"],[1,"social-icons"],["href","#",1,"facebook"],["href","#",1,"twitter"],["href","#",1,"youtube"],["href","#",1,"instagram"]],template:function(e,n){e&1&&(h(0,"footer",0)(1,"div",1)(2,"div",2)(3,"h3"),y(4,"DabApp"),d(),h(5,"ul")(6,"li")(7,"a",3),y(8,"Home"),d()(),h(9,"li")(10,"a",4),y(11,"Products"),d()(),h(12,"li")(13,"a",5),y(14,"Profile"),d()(),h(15,"li")(16,"a",6),y(17,"Become an Affiliate"),d()()()(),h(18,"div",2)(19,"h3"),y(20,"Company Info"),d(),h(21,"ul")(22,"li")(23,"a",7),y(24,"About Us"),d()(),h(25,"li")(26,"a",8),y(27,"Contact Us"),d()()()(),h(28,"div",2)(29,"h3"),y(30,"Legal"),d(),h(31,"ul")(32,"li")(33,"a",9),y(34,"Privacy Policy"),d()(),h(35,"li")(36,"a",10),y(37,"Terms of Service"),d()(),h(38,"li")(39,"a",11),y(40,"Return Policy"),d()()()()(),h(41,"div",12)(42,"div",13),M(43,"img",14),h(44,"p"),y(45,"\xA9 2025 DabApp Technologies - All rights reserved"),d(),h(46,"div",15)(47,"a",16),y(48,"Facebook"),d(),h(49,"a",17),y(50,"Twitter"),d(),h(51,"a",18),y(52,"YouTube"),d(),h(53,"a",19),y(54,"Instagram"),d()()()()())},styles:[".footer[_ngcontent-%COMP%]{background-color:#00263a;color:#fff;padding:40px 20px;font-family:Arial,sans-serif}.footer-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;max-width:1200px;margin:0 auto}.footer-section[_ngcontent-%COMP%]{text-align:left}.footer-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:15px;font-size:16px}.footer-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.footer-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px}.footer-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}.footer-bottom[_ngcontent-%COMP%]{text-align:center;margin-top:15px;padding-top:20px}.footer-logo[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.footer-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;margin-bottom:15px}.social-icons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px;margin-top:15px}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:20px}"]})};function Qy(i,t){if(i&1&&(h(0,"option",15),y(1),d()),i&2){let e=t.$implicit;g("value",e.name),m(),he(" ",e.name,`
`)}}function Yy(i,t){if(i&1&&(h(0,"li")(1,"a",19),y(2),d()()),i&2){let e=t.$implicit;m(),g("routerLink",e.path),q("data-id",e),m(),he(" ",e.name," ")}}function Zy(i,t){if(i&1&&(h(0,"div",16)(1,"ul",17),b(2,Yy,3,3,"li",18),d()()),i&2){let e=p();m(2),g("ngForOf",e.getSubMenuItems())}}var Sr=class i{constructor(t,e,n){this.authService=t;this.listingService=e;this.locationService=n}selectedMenu="";value="";selectedCountry="";countries=[];allCities=[];userSub;getSubMenuItems(){return{home:[{name:"Helmets",path:"/helmets"},{name:"Riding Gear",path:"/riding-gear"},{name:"Accessories",path:"/accessories"},{name:"Tires",path:"/tires"},{name:"Aftermarket",path:"/aftermarket"},{name:"Section 1",path:"/section-1"},{name:"Section 2",path:"/section-2"},{name:"Section 3",path:"/section-3"}],marketplace:[{name:"Marketplace 1",path:"/marketplace-1"},{name:"Marketplace 2",path:"/marketplace-2"},{name:"Marketplace 3",path:"/marketplace-3"},{name:"Marketplace 4",path:"/marketplace-4"}],usedParts:[{name:"Motorcycles",path:"/motorcycles"},{name:"Spare Parts",path:"/spare-parts"},{name:"Plates",path:"/plates"}],services:[{name:"Services 1",path:"/services-1"},{name:"Services 2",path:"/services-2"},{name:"Services 3",path:"/services-3"},{name:"Services 4",path:"/services-4"}],guide:[{name:"Guide 1",path:"/guide-1"},{name:"Guide 2",path:"/guide-2"},{name:"Guide 3",path:"/guide-3"},{name:"Guide 4",path:"/guide-4"}],"about-us":[{name:"About Us 1",path:"/about-us-1"},{name:"About Us 2",path:"/about-us-2"},{name:"About Us 3",path:"/about-us-3"},{name:"About Us 4",path:"/about-us-4"}],"contact-us":[{name:"Contact Us 1",path:"/contact-us-1"},{name:"Contact Us 2",path:"/contact-us-2"},{name:"Contact Us 3",path:"/contact-us-3"},{name:"Contact Us 4",path:"/contact-us-4"}]}[this.selectedMenu]||[]}ngOnInit(){this.loadCountries(),this.userSub=this.authService.currentUser$.subscribe(t=>{if(t?.country){let e=this.countries.find(n=>n.name.toLowerCase()===t.country.toLowerCase());e&&(this.selectedCountry=e.name,console.log(" this.selectedCountry: ",this.selectedCountry),console.log("User country matched:",e.name,"-> code:",e.code))}})}loadCountries(){this.listingService.getCityList().subscribe(t=>{this.countries=t.countries,console.log("this.countries: ",this.countries),this.allCities=t.cities})}onCountryChange(t){let e=t.target.value,n=this.countries.find(r=>r.name===e);n&&this.locationService.setSelectedCountry(n)}ngOnChanges(t){t.selectedMenu}ngOnDestroy(){this.userSub?.unsubscribe()}static \u0275fac=function(e){return new(e||i)(U(Xe),U(Rl),U(Ml))};static \u0275cmp=W({type:i,selectors:[["app-sub-nav"]],inputs:{selectedMenu:"selectedMenu"},features:[ti],decls:17,vars:4,consts:[[1,"bg-white","shadow-sm","border-b","border-gray-200"],[1,"container","mx-auto","px-4","py-2","flex","flex-col","md:flex-row","md:justify-between","md:items-center","gap-4"],[1,"flex","items-center","gap-1","w-8","text-sm"],[1,"pi","pi-map-marker","text-red-600","text-lg"],[1,"w-full","min-w-[200px]","p-2","rounded-md","hover:border-blue-500","focus:border-blue-500","focus:ring-blue-500","transition-colors","appearance-none","bg-white",3,"ngModelChange","change","ngModel"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"pi","pi-chevron-down","text-gray-500","ml-[-1.5rem]","pointer-events-none"],[1,"relative","w-full","max-w-sm"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","text-gray-500"],["type","text","pInputText","","placeholder","Search...",1,"w-full","pl-10","pr-4","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","placeholder-gray-400","text-sm",3,"ngModelChange","ngModel"],[1,"pi","pi-search"],["class","order-3 md:order-2 mt-2 md:mt-0 w-full md:w-auto overflow-x-auto",4,"ngIf"],[1,"md:order-4","mt-2","md:mt-0","w-full","md:w-auto"],["routerLink","/add-product",1,"bg-red-500","hover:bg-red-600","text-white","px-4","py-2","rounded-lg","text-sm","w-full","md:w-auto",2,"cursor","pointer"],[3,"value"],[1,"order-3","md:order-2","mt-2","md:mt-0","w-full","md:w-auto","overflow-x-auto"],[1,"flex","space-x-3","text-sm","text-gray-600","min-w-max"],[4,"ngFor","ngForOf"],[1,"hover:text-red-500","transition","whitespace-nowrap","py-1","px-1",3,"routerLink"]],template:function(e,n){if(e&1&&(h(0,"div",0)(1,"div",1)(2,"div",2),M(3,"i",3),h(4,"select",4),Fi("ngModelChange",function(o){return Li(n.selectedCountry,o)||(n.selectedCountry=o),o}),E("change",function(o){return n.onCountryChange(o)}),h(5,"option",5),y(6,"Select a Country"),d(),b(7,Qy,2,2,"option",6),d(),M(8,"i",7),d(),h(9,"div",8)(10,"span",9)(11,"input",10),Fi("ngModelChange",function(o){return Li(n.value,o)||(n.value=o),o}),d(),M(12,"i",11),d()(),b(13,Zy,3,1,"div",12),h(14,"div",13)(15,"button",14),y(16," Sell an item "),d()()()()),e&2){let r;m(4),Ni("ngModel",n.selectedCountry),m(3),g("ngForOf",n.countries),m(4),Ni("ngModel",n.value),m(2),g("ngIf",(r=n.getSubMenuItems())==null?null:r.length)}},dependencies:[ve,oi,De,wn,ai,li,il,nl,In,tl,En,Za,Pn,On,xn],styles:['.overflow-x-auto[_ngcontent-%COMP%]{-webkit-overflow-scrolling:touch;scrollbar-width:thin;scrollbar-color:rgba(156,163,175,.5) transparent}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar{height:4px}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#9ca3af80;border-radius:2px}.overflow-x-auto[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.5rem .75rem;display:inline-block}[_nghost-%COMP%]     .p-dropdown{width:100%}[_nghost-%COMP%]     .p-dropdown-panel .p-dropdown-items{padding:.5rem 0}[_nghost-%COMP%]     .p-dropdown-panel .p-dropdown-items .p-dropdown-item{padding:.5rem 1rem}@media (max-width: 768px){[_nghost-%COMP%]     .p-dropdown{width:100%;max-width:none}.container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:.5rem}}.text-red-500[_ngcontent-%COMP%], a.active[_ngcontent-%COMP%]{position:relative}.text-red-500[_ngcontent-%COMP%]:after, a.active[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-2px;left:0;width:100%;height:2px;background-color:#ef4444}select[_ngcontent-%COMP%]{background-image:none;padding-right:2rem}select[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #3b82f633}']})};var Cr=class i{constructor(t,e,n){this.auth=t;this.translate=e;this.platformId=n;if(this.translate.setDefaultLang("en"),Se(this.platformId)){let r=this.auth.getToken();this.auth.setLoggedIn(!!r)}}selectedMenu="";handleMenuSelection(t){this.selectedMenu=t}ngOnInit(){}static \u0275fac=function(e){return new(e||i)(U(Xe),U(kn),U(yt))};static \u0275cmp=W({type:i,selectors:[["app-root"]],decls:8,vars:1,consts:[[1,"flex","flex-col","min-h-screen"],[3,"menuSelected"],[3,"selectedMenu"],[1,"flex-grow"]],template:function(e,n){e&1&&(h(0,"div",0)(1,"header")(2,"app-navbar",1),E("menuSelected",function(o){return n.handleMenuSelection(o)}),d(),M(3,"app-sub-nav",2),d(),h(4,"main",3),M(5,"router-outlet"),d(),h(6,"footer"),M(7,"app-footer"),d()()),e&2&&(m(3),g("selectedMenu",n.selectedMenu))},dependencies:[Ka,Er,Tr,Sr,fi],styles:[".main-container[_ngcontent-%COMP%]{margin-top:60px;padding:0 20px}.location-sell[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:15px 0}.location[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;font-weight:500}.location[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#f44336}.sell-btn[_ngcontent-%COMP%]{background:#f44336;color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;font-weight:500}.categories[_ngcontent-%COMP%]{display:flex;gap:20px;padding:15px 0;border-top:1px solid #eee;border-bottom:1px solid #eee;margin-bottom:20px}.category[_ngcontent-%COMP%]{text-decoration:none;color:#333;font-weight:500;padding:5px 0}.category.active[_ngcontent-%COMP%]{color:#f44336;border-bottom:2px solid #f44336}.content-container[_ngcontent-%COMP%]{display:flex;gap:50px;justify-content:space-around}@media (max-width: 992px){.content-container[_ngcontent-%COMP%]{flex-direction:column}}"]})};function Dd(i){return new F(3e3,!1)}function Jy(){return new F(3100,!1)}function Xy(){return new F(3101,!1)}function e0(i){return new F(3001,!1)}function t0(i){return new F(3003,!1)}function i0(i){return new F(3004,!1)}function Md(i,t){return new F(3005,!1)}function Nd(){return new F(3006,!1)}function Ld(){return new F(3007,!1)}function Fd(i,t){return new F(3008,!1)}function Vd(i){return new F(3002,!1)}function zd(i,t,e,n,r){return new F(3010,!1)}function Ud(){return new F(3011,!1)}function $d(){return new F(3012,!1)}function Hd(){return new F(3200,!1)}function Bd(){return new F(3202,!1)}function Wd(){return new F(3013,!1)}function jd(i){return new F(3014,!1)}function qd(i){return new F(3015,!1)}function Kd(i){return new F(3016,!1)}function Gd(i,t){return new F(3404,!1)}function n0(i){return new F(3502,!1)}function Qd(i){return new F(3503,!1)}function Yd(){return new F(3300,!1)}function Zd(i){return new F(3504,!1)}function Jd(i){return new F(3301,!1)}function Xd(i,t){return new F(3302,!1)}function eu(i){return new F(3303,!1)}function tu(i,t){return new F(3400,!1)}function iu(i){return new F(3401,!1)}function nu(i){return new F(3402,!1)}function ru(i,t){return new F(3505,!1)}function ft(i){switch(i.length){case 0:return new Ut;case 1:return i[0];default:return new An(i)}}function Ys(i,t,e=new Map,n=new Map){let r=[],o=[],s=-1,a=null;if(t.forEach(l=>{let c=l.get("offset"),f=c==s,_=f&&a||new Map;l.forEach((w,I)=>{let v=I,A=w;if(I!=="offset")switch(v=i.normalizePropertyName(v,r),A){case $i:A=e.get(I);break;case je:A=n.get(I);break;default:A=i.normalizeStyleValue(I,v,A,r);break}_.set(v,A)}),f||o.push(_),a=_,s=c}),r.length)throw n0(r);return o}function xr(i,t,e,n){switch(t){case"start":i.onStart(()=>n(e&&Ks(e,"start",i)));break;case"done":i.onDone(()=>n(e&&Ks(e,"done",i)));break;case"destroy":i.onDestroy(()=>n(e&&Ks(e,"destroy",i)));break}}function Ks(i,t,e){let n=e.totalTime,r=!!e.disabled,o=Or(i.element,i.triggerName,i.fromState,i.toState,t||i.phaseName,n??i.totalTime,r),s=i._data;return s!=null&&(o._data=s),o}function Or(i,t,e,n,r="",o=0,s){return{element:i,triggerName:t,fromState:e,toState:n,phaseName:r,totalTime:o,disabled:!!s}}function Oe(i,t,e){let n=i.get(t);return n||i.set(t,n=e),n}function Zs(i){let t=i.indexOf(":"),e=i.substring(1,t),n=i.slice(t+1);return[e,n]}var r0=typeof document>"u"?null:document.documentElement;function Ar(i){let t=i.parentNode||i.host||null;return t===r0?null:t}function o0(i){return i.substring(1,6)=="ebkit"}var Zt=null,Rd=!1;function ou(i){Zt||(Zt=s0()||{},Rd=Zt.style?"WebkitAppearance"in Zt.style:!1);let t=!0;return Zt.style&&!o0(i)&&(t=i in Zt.style,!t&&Rd&&(t="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in Zt.style)),t}function s0(){return typeof document<"u"?document.body:null}function Js(i,t){for(;t;){if(t===i)return!0;t=Ar(t)}return!1}function Xs(i,t,e){if(e)return Array.from(i.querySelectorAll(t));let n=i.querySelector(t);return n?[n]:[]}var a0=1e3,ea="{{",l0="}}",ta="ng-enter",kr="ng-leave",an="ng-trigger",ln=".ng-trigger",ia="ng-animating",Pr=".ng-animating";function ot(i){if(typeof i=="number")return i;let t=i.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Gs(parseFloat(t[1]),t[2])}function Gs(i,t){switch(t){case"s":return i*a0;default:return i}}function cn(i,t,e){return i.hasOwnProperty("duration")?i:c0(i,t,e)}function c0(i,t,e){let n=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,o=0,s="";if(typeof i=="string"){let a=i.match(n);if(a===null)return t.push(Dd(i)),{duration:0,delay:0,easing:""};r=Gs(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(o=Gs(parseFloat(l),a[4]));let c=a[5];c&&(s=c)}else r=i;if(!e){let a=!1,l=t.length;r<0&&(t.push(Jy()),a=!0),o<0&&(t.push(Xy()),a=!0),a&&t.splice(l,0,Dd(i))}return{duration:r,delay:o,easing:s}}function su(i){return i.length?i[0]instanceof Map?i:i.map(t=>new Map(Object.entries(t))):[]}function Qe(i,t,e){t.forEach((n,r)=>{let o=Dr(r);e&&!e.has(r)&&e.set(r,i.style[o]),i.style[o]=n})}function At(i,t){t.forEach((e,n)=>{let r=Dr(n);i.style[r]=""})}function Pi(i){return Array.isArray(i)?i.length==1?i[0]:kl(i):i}function au(i,t,e){let n=t.params||{},r=na(i);r.length&&r.forEach(o=>{n.hasOwnProperty(o)||e.push(e0(o))})}var Qs=new RegExp(`${ea}\\s*(.+?)\\s*${l0}`,"g");function na(i){let t=[];if(typeof i=="string"){let e;for(;e=Qs.exec(i);)t.push(e[1]);Qs.lastIndex=0}return t}function Di(i,t,e){let n=`${i}`,r=n.replace(Qs,(o,s)=>{let a=t[s];return a==null&&(e.push(t0(s)),a=""),a.toString()});return r==n?i:r}var d0=/-+([a-z0-9])/g;function Dr(i){return i.replace(d0,(...t)=>t[1].toUpperCase())}function lu(i,t){return i===0||t===0}function cu(i,t,e){if(e.size&&t.length){let n=t[0],r=[];if(e.forEach((o,s)=>{n.has(s)||r.push(s),n.set(s,o)}),r.length)for(let o=1;o<t.length;o++){let s=t[o];r.forEach(a=>s.set(a,Rr(i,a)))}}return t}function Ae(i,t,e){switch(t.type){case N.Trigger:return i.visitTrigger(t,e);case N.State:return i.visitState(t,e);case N.Transition:return i.visitTransition(t,e);case N.Sequence:return i.visitSequence(t,e);case N.Group:return i.visitGroup(t,e);case N.Animate:return i.visitAnimate(t,e);case N.Keyframes:return i.visitKeyframes(t,e);case N.Style:return i.visitStyle(t,e);case N.Reference:return i.visitReference(t,e);case N.AnimateChild:return i.visitAnimateChild(t,e);case N.AnimateRef:return i.visitAnimateRef(t,e);case N.Query:return i.visitQuery(t,e);case N.Stagger:return i.visitStagger(t,e);default:throw i0(t.type)}}function Rr(i,t){return window.getComputedStyle(i)[t]}var ba=(()=>{class i{validateStyleProperty(e){return ou(e)}containsElement(e,n){return Js(e,n)}getParentElement(e){return Ar(e)}query(e,n,r){return Xs(e,n,r)}computeStyle(e,n,r){return r||""}animate(e,n,r,o,s,a=[],l){return new Ut(r,o)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=J({token:i,factory:i.\u0275fac})}return i})(),Xt=class{static NOOP=new ba},ei=class{};var u0=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Vr=class extends ei{normalizePropertyName(t,e){return Dr(t)}normalizeStyleValue(t,e,n,r){let o="",s=n.toString().trim();if(u0.has(e)&&n!==0&&n!=="0")if(typeof n=="number")o="px";else{let a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(Md(t,n))}return s+o}};var zr="*";function h0(i,t){let e=[];return typeof i=="string"?i.split(/\s*,\s*/).forEach(n=>p0(n,e,t)):e.push(i),e}function p0(i,t,e){if(i[0]==":"){let l=f0(i,e);if(typeof l=="function"){t.push(l);return}i=l}let n=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(n==null||n.length<4)return e.push(qd(i)),t;let r=n[1],o=n[2],s=n[3];t.push(du(r,s));let a=r==zr&&s==zr;o[0]=="<"&&!a&&t.push(du(s,r))}function f0(i,t){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,n)=>parseFloat(n)>parseFloat(e);case":decrement":return(e,n)=>parseFloat(n)<parseFloat(e);default:return t.push(Kd(i)),"* => *"}}var Mr=new Set(["true","1"]),Nr=new Set(["false","0"]);function du(i,t){let e=Mr.has(i)||Nr.has(i),n=Mr.has(t)||Nr.has(t);return(r,o)=>{let s=i==zr||i==r,a=t==zr||t==o;return!s&&e&&typeof r=="boolean"&&(s=r?Mr.has(i):Nr.has(i)),!a&&n&&typeof o=="boolean"&&(a=o?Mr.has(t):Nr.has(t)),s&&a}}var bu=":self",m0=new RegExp(`s*${bu}s*,?`,"g");function wu(i,t,e,n){return new ca(i).build(t,e,n)}var uu="",ca=class{_driver;constructor(t){this._driver=t}build(t,e,n){let r=new da(e);return this._resetContextStyleTimingState(r),Ae(this,Pi(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector=uu,t.collectedStyles=new Map,t.collectedStyles.set(uu,new Map),t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0,o=[],s=[];return t.name.charAt(0)=="@"&&e.errors.push(Nd()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),a.type==N.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(f=>{l.name=f,o.push(this.visitState(l,e))}),l.name=c}else if(a.type==N.Transition){let l=this.visitTransition(a,e);n+=l.queryCount,r+=l.depCount,s.push(l)}else e.errors.push(Ld())}),{type:N.Trigger,name:t.name,states:o,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){let n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){let o=new Set,s=r||{};n.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{na(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&e.errors.push(Fd(t.name,[...o.values()]))}return{type:N.State,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let n=Ae(this,Pi(t.animation),e),r=h0(t.expr,e.errors);return{type:N.Transition,matchers:r,animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Jt(t.options)}}visitSequence(t,e){return{type:N.Sequence,steps:t.steps.map(n=>Ae(this,n,e)),options:Jt(t.options)}}visitGroup(t,e){let n=e.currentTime,r=0,o=t.steps.map(s=>{e.currentTime=n;let a=Ae(this,s,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:N.Group,steps:o,options:Jt(t.options)}}visitAnimate(t,e){let n=v0(t.timings,e.errors);e.currentAnimateTimings=n;let r,o=t.styles?t.styles:pi({});if(o.type==N.Keyframes)r=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;let c={};n.easing&&(c.easing=n.easing),s=pi(c)}e.currentTime+=n.duration+n.delay;let l=this.visitStyle(s,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:N.Animate,timings:n,style:r,options:null}}visitStyle(t,e){let n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){let n=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)typeof a=="string"?a===je?n.push(a):e.errors.push(Vd(a)):n.push(new Map(Object.entries(a)));let o=!1,s=null;return n.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let l of a.values())if(l.toString().indexOf(ea)>=0){o=!0;break}}}),{type:N.Style,styles:n,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){let n=e.currentAnimateTimings,r=e.currentTime,o=e.currentTime;n&&o>0&&(o-=n.duration+n.delay),t.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,l)=>{let c=e.collectedStyles.get(e.currentQuerySelector),f=c.get(l),_=!0;f&&(o!=r&&o>=f.startTime&&r<=f.endTime&&(e.errors.push(zd(l,f.startTime,f.endTime,o,r)),_=!1),o=f.startTime),_&&c.set(l,{startTime:o,endTime:r}),e.options&&au(a,e.options,e.errors)})})}visitKeyframes(t,e){let n={type:N.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(Ud()),n;let r=1,o=0,s=[],a=!1,l=!1,c=0,f=t.steps.map(P=>{let R=this._makeStyleAst(P,e),V=R.offset!=null?R.offset:y0(R.styles),z=0;return V!=null&&(o++,z=R.offset=V),l=l||z<0||z>1,a=a||z<c,c=z,s.push(z),R});l&&e.errors.push($d()),a&&e.errors.push(Hd());let _=t.steps.length,w=0;o>0&&o<_?e.errors.push(Bd()):o==0&&(w=r/(_-1));let I=_-1,v=e.currentTime,A=e.currentAnimateTimings,O=A.duration;return f.forEach((P,R)=>{let V=w>0?R==I?1:w*R:s[R],z=V*O;e.currentTime=v+A.delay+z,A.duration=z,this._validateStyleAst(P,e),P.offset=V,n.styles.push(P)}),n}visitReference(t,e){return{type:N.Reference,animation:Ae(this,Pi(t.animation),e),options:Jt(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:N.AnimateChild,options:Jt(t.options)}}visitAnimateRef(t,e){return{type:N.AnimateRef,animation:this.visitReference(t.animation,e),options:Jt(t.options)}}visitQuery(t,e){let n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;let[o,s]=g0(t.selector);e.currentQuerySelector=n.length?n+" "+o:o,Oe(e.collectedStyles,e.currentQuerySelector,new Map);let a=Ae(this,Pi(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:N.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:Jt(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(Wd());let n=t.timings==="full"?{duration:0,delay:0,easing:"full"}:cn(t.timings,e.errors,!0);return{type:N.Stagger,animation:Ae(this,Pi(t.animation),e),timings:n,options:null}}};function g0(i){let t=!!i.split(/\s*,\s*/).find(e=>e==bu);return t&&(i=i.replace(m0,"")),i=i.replace(/@\*/g,ln).replace(/@\w+/g,e=>ln+"-"+e.slice(1)).replace(/:animating/g,Pr),[i,t]}function _0(i){return i?Z({},i):null}var da=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(t){this.errors=t}};function y0(i){if(typeof i=="string")return null;let t=null;if(Array.isArray(i))i.forEach(e=>{if(e instanceof Map&&e.has("offset")){let n=e;t=parseFloat(n.get("offset")),n.delete("offset")}});else if(i instanceof Map&&i.has("offset")){let e=i;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function v0(i,t){if(i.hasOwnProperty("duration"))return i;if(typeof i=="number"){let o=cn(i,t).duration;return ra(o,0,"")}let e=i;if(e.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=ra(0,0,"");return o.dynamic=!0,o.strValue=e,o}let r=cn(e,t);return ra(r.duration,r.delay,r.easing)}function Jt(i){return i?(i=Z({},i),i.params&&(i.params=_0(i.params))):i={},i}function ra(i,t,e){return{duration:i,delay:t,easing:e}}function wa(i,t,e,n,r,o,s=null,a=!1){return{type:1,element:i,keyframes:t,preStyleProps:e,postStyleProps:n,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}var un=class{_map=new Map;get(t){return this._map.get(t)||[]}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},b0=1,w0=":enter",I0=new RegExp(w0,"g"),E0=":leave",T0=new RegExp(E0,"g");function Iu(i,t,e,n,r,o=new Map,s=new Map,a,l,c=[]){return new ua().buildKeyframes(i,t,e,n,r,o,s,a,l,c)}var ua=class{buildKeyframes(t,e,n,r,o,s,a,l,c,f=[]){c=c||new un;let _=new ha(t,e,c,r,o,f,[]);_.options=l;let w=l.delay?ot(l.delay):0;_.currentTimeline.delayNextStep(w),_.currentTimeline.setStyles([s],null,_.errors,l),Ae(this,n,_);let I=_.timelines.filter(v=>v.containsAnimation());if(I.length&&a.size){let v;for(let A=I.length-1;A>=0;A--){let O=I[A];if(O.element===e){v=O;break}}v&&!v.allowOnlyTimelineStyles()&&v.setStyles([a],null,_.errors,l)}return I.length?I.map(v=>v.buildKeyframes()):[wa(e,[],[],[],0,w,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let n=e.subInstructions.get(e.element);if(n){let r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){let n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,n),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,n){for(let r of t){let o=r?.delay;if(o){let s=typeof o=="number"?o:ot(Di(o,r?.params??{},e.errors));n.delayNextStep(s)}}}_visitSubInstructions(t,e,n){let o=e.currentTimeline.currentTime,s=n.duration!=null?ot(n.duration):null,a=n.delay!=null?ot(n.delay):null;return s!==0&&t.forEach(l=>{let c=e.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Ae(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let n=e.subContextCount,r=e,o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==N.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Ur);let s=ot(o.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>Ae(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let n=[],r=e.currentTimeline.currentTime,o=t.options&&t.options.delay?ot(t.options.delay):0;t.steps.forEach(s=>{let a=e.createSubContext(t.options);o&&a.delayNextStep(o),Ae(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),n.push(a.currentTimeline)}),n.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let n=t.strValue,r=e.params?Di(n,e.params,e.errors):n;return cn(r,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());let o=t.style;o.type==N.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(n.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.hasCurrentStyleProperties()&&n.forwardFrame();let o=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(o):n.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let n=e.currentAnimateTimings,r=e.currentTimeline.duration,o=n.duration,a=e.createSubContext().currentTimeline;a.easing=n.easing,t.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*o),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){let n=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?ot(r.delay):0;o&&(e.previousNode.type===N.Style||n==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Ur);let s=n,a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,f)=>{e.currentQueryIndex=f;let _=e.createSubContext(t.options,c);o&&_.delayNextStep(o),c===e.element&&(l=_.currentTimeline),Ae(this,t.animation,_),_.currentTimeline.applyStylesToKeyframe();let w=_.currentTimeline.currentTime;s=Math.max(s,w)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let n=e.parentContext,r=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1),l=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=n.currentStaggerTime;break}let f=e.currentTimeline;l&&f.delayNextStep(l);let _=f.currentTime;Ae(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-_+(r.startTime-n.currentTimeline.startTime)}},Ur={},ha=class i{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Ur;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(t,e,n,r,o,s,a,l){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=l||new $r(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let n=t,r=this.options;n.duration!=null&&(r.duration=ot(n.duration)),n.delay!=null&&(r.delay=ot(n.delay));let o=n.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=Di(o[a],s,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let n=t.params={};Object.keys(e).forEach(r=>{n[r]=e[r]})}}return t}createSubContext(t=null,e,n){let r=e||this.element,o=new i(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=Ur,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){let r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(n??0)+t.delay,easing:""},o=new pa(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,o,s){let a=[];if(r&&a.push(this.element),t.length>0){t=t.replace(I0,"."+this._enterClassName),t=t.replace(T0,"."+this._leaveClassName);let l=n!=1,c=this._driver.query(this.element,t,l);n!==0&&(c=n<0?c.slice(c.length+n,c.length):c.slice(0,n)),a.push(...c)}return!o&&a.length==0&&s.push(jd(e)),a}},$r=class i{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new i(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=b0,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,n]of this._globalTimelineStyles)this._backFill.set(e,n||je),this._currentKeyframe.set(e,je);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&this._previousKeyframe.set("easing",e);let o=r&&r.params||{},s=S0(t,this._globalTimelineStyles);for(let[a,l]of s){let c=Di(l,o,n);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??je),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,n)=>{let r=this._styleSummary.get(n);(!r||e.time>r.time)&&this._updateStyle(n,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,n=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((f,_)=>{f===$i?t.add(_):f===je&&e.add(_)}),n||c.set("offset",l/this.duration),r.push(c)});let o=[...t.values()],s=[...e.values()];if(n){let a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return wa(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}},pa=class extends $r{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(t,e,n,r,o,s,a=!1){super(t,e,s.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){let o=[],s=n+e,a=e/s,l=new Map(t[0]);l.set("offset",0),o.push(l);let c=new Map(t[0]);c.set("offset",hu(a)),o.push(c);let f=t.length-1;for(let _=1;_<=f;_++){let w=new Map(t[_]),I=w.get("offset"),v=e+I*n;w.set("offset",hu(v/s)),o.push(w)}n=s,e=0,r="",t=o}return wa(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}};function hu(i,t=3){let e=Math.pow(10,t-1);return Math.round(i*e)/e}function S0(i,t){let e=new Map,n;return i.forEach(r=>{if(r==="*"){n??=t.keys();for(let o of n)e.set(o,je)}else for(let[o,s]of r)e.set(o,s)}),e}function pu(i,t,e,n,r,o,s,a,l,c,f,_,w){return{type:0,element:i,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:n,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:f,totalTime:_,errors:w}}var oa={},Hr=class{_triggerName;ast;_stateStyles;constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return C0(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){let r=this._stateStyles.get("*");return t!==void 0&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,n):new Map}build(t,e,n,r,o,s,a,l,c,f){let _=[],w=this.ast.options&&this.ast.options.params||oa,I=a&&a.params||oa,v=this.buildStyles(n,I,_),A=l&&l.params||oa,O=this.buildStyles(r,A,_),P=new Set,R=new Map,V=new Map,z=r==="void",de={params:Eu(A,w),delay:this.ast.options?.delay},se=f?[]:Iu(t,e,this.ast.animation,o,s,v,O,de,c,_),le=0;return se.forEach(fe=>{le=Math.max(fe.duration+fe.delay,le)}),_.length?pu(e,this._triggerName,n,r,z,v,O,[],[],R,V,le,_):(se.forEach(fe=>{let Ve=fe.element,mt=Oe(R,Ve,new Set);fe.preStyleProps.forEach(kt=>mt.add(kt));let Ia=Oe(V,Ve,new Set);fe.postStyleProps.forEach(kt=>Ia.add(kt)),Ve!==e&&P.add(Ve)}),pu(e,this._triggerName,n,r,z,v,O,se,[...P.values()],R,V,le))}};function C0(i,t,e,n,r){return i.some(o=>o(t,e,n,r))}function Eu(i,t){let e=Z({},t);return Object.entries(i).forEach(([n,r])=>{r!=null&&(e[n]=r)}),e}var fa=class{styles;defaultParams;normalizer;constructor(t,e,n){this.styles=t,this.defaultParams=e,this.normalizer=n}buildStyles(t,e){let n=new Map,r=Eu(t,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=Di(s,r,e));let l=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,l,s,e),n.set(a,s)})}),n}};function x0(i,t,e){return new ma(i,t,e)}var ma=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(t,e,n){this.name=t,this.ast=e,this._normalizer=n,e.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new fa(r.style,o,n))}),fu(this.states,"true","1"),fu(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new Hr(t,r,this.states))}),this.fallbackTransition=O0(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(s=>s.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}};function O0(i,t,e){let n=[(s,a)=>!0],r={type:N.Sequence,steps:[],options:null},o={type:N.Transition,animation:r,matchers:n,options:null,queryCount:0,depCount:0};return new Hr(i,o,t)}function fu(i,t,e){i.has(t)?i.has(e)||i.set(e,i.get(t)):i.has(e)&&i.set(t,i.get(e))}var A0=new un,ga=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n}register(t,e){let n=[],r=[],o=wu(this._driver,e,n,r);if(n.length)throw Qd(n);this._animations.set(t,o)}_buildPlayer(t,e,n){let r=t.element,o=Ys(this._normalizer,t.keyframes,e,n);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){let r=[],o=this._animations.get(t),s,a=new Map;if(o?(s=Iu(this._driver,e,o,ta,kr,new Map,new Map,n,A0,r),s.forEach(f=>{let _=Oe(a,f.element,new Map);f.postStyleProps.forEach(w=>_.set(w,null))})):(r.push(Yd()),s=[]),r.length)throw Zd(r);a.forEach((f,_)=>{f.forEach((w,I)=>{f.set(I,this._driver.computeStyle(_,I,je))})});let l=s.map(f=>{let _=a.get(f.element);return this._buildPlayer(f,new Map,_)}),c=ft(l);return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw Jd(t);return e}listen(t,e,n,r){let o=Or(e,"","","");return xr(this._getPlayer(t),n,o,r),()=>{}}command(t,e,n,r){if(n=="register"){this.register(t,r[0]);return}if(n=="create"){let s=r[0]||{};this.create(t,e,s);return}let o=this._getPlayer(t);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t);break}}},mu="ng-animate-queued",k0=".ng-animate-queued",sa="ng-animate-disabled",P0=".ng-animate-disabled",D0="ng-star-inserted",R0=".ng-star-inserted",M0=[],Tu={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},N0={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ye="__ng_removed",hn=class{namespaceId;value;options;get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let n=t&&t.hasOwnProperty("value"),r=n?t.value:t;if(this.value=F0(r),n){let o=t,{value:s}=o,a=Ca(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let n=this.options.params;Object.keys(e).forEach(r=>{n[r]==null&&(n[r]=e[r])})}}},dn="void",aa=new hn(dn),_a=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this._hostClassName="ng-tns-"+t,Fe(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.has(e))throw Xd(n,e);if(n==null||n.length==0)throw eu(e);if(!V0(n))throw tu(n,e);let o=Oe(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};o.push(s);let a=Oe(this._engine.statesByElement,t,new Map);return a.has(e)||(Fe(t,an),Fe(t,an+"-"+e),a.set(e,aa)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw iu(t);return e}trigger(t,e,n,r=!0){let o=this._getTrigger(e),s=new pn(this.id,e,t),a=this._engine.statesByElement.get(t);a||(Fe(t,an),Fe(t,an+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e),c=new hn(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=aa),!(c.value===dn)&&l.value===c.value){if(!$0(l.params,c.params)){let A=[],O=o.matchStyles(l.value,l.params,A),P=o.matchStyles(c.value,c.params,A);A.length?this._engine.reportError(A):this._engine.afterFlush(()=>{At(t,O),Qe(t,P)})}return}let w=Oe(this._engine.playersByElement,t,[]);w.forEach(A=>{A.namespaceId==this.id&&A.triggerName==e&&A.queued&&A.destroy()});let I=o.matchTransition(l.value,c.value,t,c.params),v=!1;if(!I){if(!r)return;I=o.fallbackTransition,v=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:I,fromState:l,toState:c,player:s,isFallbackTransition:v}),v||(Fe(t,mu),s.onStart(()=>{Ri(t,mu)})),s.onDone(()=>{let A=this.players.indexOf(s);A>=0&&this.players.splice(A,1);let O=this._engine.playersByElement.get(t);if(O){let P=O.indexOf(s);P>=0&&O.splice(P,1)}}),this.players.push(s),w.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(n=>n.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let n=this._engine.driver.query(t,ln,!0);n.forEach(r=>{if(r[Ye])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,n,r){let o=this._engine.statesByElement.get(t),s=new Map;if(o){let a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){let f=this.trigger(t,c,dn,r);f&&a.push(f)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),n&&ft(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){let r=new Set;e.forEach(o=>{let s=o.name;if(r.has(s))return;r.add(s);let l=this._triggers.get(s).fallbackTransition,c=n.get(s)||aa,f=new hn(dn),_=new pn(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:l,fromState:c,toState:f,player:_,isFallbackTransition:!0})})}}removeNode(t,e){let n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){let o=n.players.length?n.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let s=t;for(;s=s.parentNode;)if(n.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{let o=t[Ye];(!o||o===Tu)&&(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Fe(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(n=>{let r=n.player;if(r.destroyed)return;let o=n.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==n.triggerName){let l=Or(o,n.triggerName,n.fromState.value,n.toState.value);l._data=t,xr(n.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((n,r)=>{let o=n.transition.ast.depCount,s=r.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(n.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},ya=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(t,e)=>{};_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(n=>{n.queued&&t.push(n)})}),t}createNamespace(t,e){let n=new _a(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){let n=this._namespaceList,r=this.namespacesByHostElement;if(n.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){let l=r.get(a);if(l){let c=n.indexOf(l);n.splice(c+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||n.unshift(t)}else n.push(t);return r.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let n=this._fetchNamespace(t);this.namespacesByHostElement.delete(n.hostElement);let r=this._namespaceList.indexOf(n);r>=0&&this._namespaceList.splice(r,1),n.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,n=this.statesByElement.get(t);if(n){for(let r of n.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}}return e}trigger(t,e,n,r){if(Lr(e)){let o=this._fetchNamespace(t);if(o)return o.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!Lr(e))return;let o=e[Ye];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){let s=this._fetchNamespace(t);s&&s.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Fe(t,sa)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Ri(t,sa))}removeNode(t,e,n){if(Lr(e)){let r=t?this._fetchNamespace(t):null;r?r.removeNode(e,n):this.markElementAsRemoved(t,e,!1,n);let o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,n)}else this._onRemovalComplete(e,n)}markElementAsRemoved(t,e,n,r,o){this.collectedLeaveElements.push(e),e[Ye]={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,n,r,o){return Lr(e)?this._fetchNamespace(t).listen(e,n,r,o):()=>{}}_buildInstruction(t,e,n,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,ln,!0);e.forEach(n=>this.destroyActiveAnimationsForElement(n)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,Pr,!0),e.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return ft(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[Ye];if(e&&e.setForRemoval){if(t[Ye]=Tu,e.namespaceId){this.destroyInnerAnimations(t);let n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(sa)&&this.markElementAsDisabled(t,!1),this.driver.query(t,P0,!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,r)=>this._balanceNamespaceList(n,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++){let r=this.collectedEnterElements[n];Fe(r,D0)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let n=[];try{e=this._flushAnimations(n,t)}finally{for(let r=0;r<n.length;r++)n[r]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++){let r=this.collectedLeaveElements[n];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){let n=this._whenQuietFns;this._whenQuietFns=[],e.length?ft(e).onDone(()=>{n.forEach(r=>r())}):n.forEach(r=>r())}}reportError(t){throw nu(t)}_flushAnimations(t,e){let n=new un,r=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,f=new Set;this.disabledNodes.forEach(C=>{f.add(C);let k=this.driver.query(C,k0,!0);for(let D=0;D<k.length;D++)f.add(k[D])});let _=this.bodyNode,w=Array.from(this.statesByElement.keys()),I=yu(w,this.collectedEnterElements),v=new Map,A=0;I.forEach((C,k)=>{let D=ta+A++;v.set(k,D),C.forEach(L=>Fe(L,D))});let O=[],P=new Set,R=new Set;for(let C=0;C<this.collectedLeaveElements.length;C++){let k=this.collectedLeaveElements[C],D=k[Ye];D&&D.setForRemoval&&(O.push(k),P.add(k),D.hasAnimation?this.driver.query(k,R0,!0).forEach(L=>P.add(L)):R.add(k))}let V=new Map,z=yu(w,Array.from(P));z.forEach((C,k)=>{let D=kr+A++;V.set(k,D),C.forEach(L=>Fe(L,D))}),t.push(()=>{I.forEach((C,k)=>{let D=v.get(k);C.forEach(L=>Ri(L,D))}),z.forEach((C,k)=>{let D=V.get(k);C.forEach(L=>Ri(L,D))}),O.forEach(C=>{this.processLeaveNode(C)})});let de=[],se=[];for(let C=this._namespaceList.length-1;C>=0;C--)this._namespaceList[C].drainQueuedTransitions(e).forEach(D=>{let L=D.player,ce=D.element;if(de.push(L),this.collectedEnterElements.length){let me=ce[Ye];if(me&&me.setForMove){if(me.previousTriggersValues&&me.previousTriggersValues.has(D.triggerName)){let Pt=me.previousTriggersValues.get(D.triggerName),Me=this.statesByElement.get(D.element);if(Me&&Me.has(D.triggerName)){let fn=Me.get(D.triggerName);fn.value=Pt,Me.set(D.triggerName,fn)}}L.destroy();return}}let Ze=!_||!this.driver.containsElement(_,ce),ke=V.get(ce),gt=v.get(ce),Q=this._buildInstruction(D,n,gt,ke,Ze);if(Q.errors&&Q.errors.length){se.push(Q);return}if(Ze){L.onStart(()=>At(ce,Q.fromStyles)),L.onDestroy(()=>Qe(ce,Q.toStyles)),r.push(L);return}if(D.isFallbackTransition){L.onStart(()=>At(ce,Q.fromStyles)),L.onDestroy(()=>Qe(ce,Q.toStyles)),r.push(L);return}let Sa=[];Q.timelines.forEach(me=>{me.stretchStartingKeyframe=!0,this.disabledNodes.has(me.element)||Sa.push(me)}),Q.timelines=Sa,n.append(ce,Q.timelines);let Pu={instruction:Q,player:L,element:ce};s.push(Pu),Q.queriedElements.forEach(me=>Oe(a,me,[]).push(L)),Q.preStyleProps.forEach((me,Pt)=>{if(me.size){let Me=l.get(Pt);Me||l.set(Pt,Me=new Set),me.forEach((fn,Qr)=>Me.add(Qr))}}),Q.postStyleProps.forEach((me,Pt)=>{let Me=c.get(Pt);Me||c.set(Pt,Me=new Set),me.forEach((fn,Qr)=>Me.add(Qr))})});if(se.length){let C=[];se.forEach(k=>{C.push(ru(k.triggerName,k.errors))}),de.forEach(k=>k.destroy()),this.reportError(C)}let le=new Map,fe=new Map;s.forEach(C=>{let k=C.element;n.has(k)&&(fe.set(k,k),this._beforeAnimationBuild(C.player.namespaceId,C.instruction,le))}),r.forEach(C=>{let k=C.element;this._getPreviousPlayers(k,!1,C.namespaceId,C.triggerName,null).forEach(L=>{Oe(le,k,[]).push(L),L.destroy()})});let Ve=O.filter(C=>vu(C,l,c)),mt=new Map;_u(mt,this.driver,R,c,je).forEach(C=>{vu(C,l,c)&&Ve.push(C)});let kt=new Map;I.forEach((C,k)=>{_u(kt,this.driver,new Set(C),l,$i)}),Ve.forEach(C=>{let k=mt.get(C),D=kt.get(C);mt.set(C,new Map([...k?.entries()??[],...D?.entries()??[]]))});let Gr=[],Ea=[],Ta={};s.forEach(C=>{let{element:k,player:D,instruction:L}=C;if(n.has(k)){if(f.has(k)){D.onDestroy(()=>Qe(k,L.toStyles)),D.disabled=!0,D.overrideTotalTime(L.totalTime),r.push(D);return}let ce=Ta;if(fe.size>1){let ke=k,gt=[];for(;ke=ke.parentNode;){let Q=fe.get(ke);if(Q){ce=Q;break}gt.push(ke)}gt.forEach(Q=>fe.set(Q,ce))}let Ze=this._buildAnimation(D.namespaceId,L,le,o,kt,mt);if(D.setRealPlayer(Ze),ce===Ta)Gr.push(D);else{let ke=this.playersByElement.get(ce);ke&&ke.length&&(D.parentPlayer=ft(ke)),r.push(D)}}else At(k,L.fromStyles),D.onDestroy(()=>Qe(k,L.toStyles)),Ea.push(D),f.has(k)&&r.push(D)}),Ea.forEach(C=>{let k=o.get(C.element);if(k&&k.length){let D=ft(k);C.setRealPlayer(D)}}),r.forEach(C=>{C.parentPlayer?C.syncPlayerEvents(C.parentPlayer):C.destroy()});for(let C=0;C<O.length;C++){let k=O[C],D=k[Ye];if(Ri(k,kr),D&&D.hasAnimation)continue;let L=[];if(a.size){let Ze=a.get(k);Ze&&Ze.length&&L.push(...Ze);let ke=this.driver.query(k,Pr,!0);for(let gt=0;gt<ke.length;gt++){let Q=a.get(ke[gt]);Q&&Q.length&&L.push(...Q)}}let ce=L.filter(Ze=>!Ze.destroyed);ce.length?z0(this,k,ce):this.processLeaveNode(k)}return O.length=0,Gr.forEach(C=>{this.players.push(C),C.onDone(()=>{C.destroy();let k=this.players.indexOf(C);this.players.splice(k,1)}),C.play()}),Gr}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,o){let s=[];if(e){let a=this.playersByQueriedElement.get(t);a&&(s=a)}else{let a=this.playersByElement.get(t);if(a){let l=!o||o==dn;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||s.push(c)})}}return(n||r)&&(s=s.filter(a=>!(n&&n!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(t,e,n){let r=e.triggerName,o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:r;for(let l of e.timelines){let c=l.element,f=c!==o,_=Oe(n,c,[]);this._getPreviousPlayers(c,f,s,a,e.toState).forEach(I=>{let v=I.getRealPlayer();v.beforeDestroy&&v.beforeDestroy(),I.destroy(),_.push(I)})}At(o,e.fromStyles)}_buildAnimation(t,e,n,r,o,s){let a=e.triggerName,l=e.element,c=[],f=new Set,_=new Set,w=e.timelines.map(v=>{let A=v.element;f.add(A);let O=A[Ye];if(O&&O.removedBeforeQueried)return new Ut(v.duration,v.delay);let P=A!==l,R=U0((n.get(A)||M0).map(le=>le.getRealPlayer())).filter(le=>{let fe=le;return fe.element?fe.element===A:!1}),V=o.get(A),z=s.get(A),de=Ys(this._normalizer,v.keyframes,V,z),se=this._buildPlayer(v,de,R);if(v.subTimeline&&r&&_.add(A),P){let le=new pn(t,a,A);le.setRealPlayer(se),c.push(le)}return se});c.forEach(v=>{Oe(this.playersByQueriedElement,v.element,[]).push(v),v.onDone(()=>L0(this.playersByQueriedElement,v.element,v))}),f.forEach(v=>Fe(v,ia));let I=ft(w);return I.onDestroy(()=>{f.forEach(v=>Ri(v,ia)),Qe(l,e.toStyles)}),_.forEach(v=>{Oe(r,v,[]).push(I)}),I}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Ut(t.duration,t.delay)}},pn=class{namespaceId;triggerName;element;_player=new Ut;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,n)=>{e.forEach(r=>xr(t,n,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Oe(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function L0(i,t,e){let n=i.get(t);if(n){if(n.length){let r=n.indexOf(e);n.splice(r,1)}n.length==0&&i.delete(t)}return n}function F0(i){return i??null}function Lr(i){return i&&i.nodeType===1}function V0(i){return i=="start"||i=="done"}function gu(i,t){let e=i.style.display;return i.style.display=t??"none",e}function _u(i,t,e,n,r){let o=[];e.forEach(l=>o.push(gu(l)));let s=[];n.forEach((l,c)=>{let f=new Map;l.forEach(_=>{let w=t.computeStyle(c,_,r);f.set(_,w),(!w||w.length==0)&&(c[Ye]=N0,s.push(c))}),i.set(c,f)});let a=0;return e.forEach(l=>gu(l,o[a++])),s}function yu(i,t){let e=new Map;if(i.forEach(a=>e.set(a,[])),t.length==0)return e;let n=1,r=new Set(t),o=new Map;function s(a){if(!a)return n;let l=o.get(a);if(l)return l;let c=a.parentNode;return e.has(c)?l=c:r.has(c)?l=n:l=s(c),o.set(a,l),l}return t.forEach(a=>{let l=s(a);l!==n&&e.get(l).push(a)}),e}function Fe(i,t){i.classList?.add(t)}function Ri(i,t){i.classList?.remove(t)}function z0(i,t,e){ft(e).onDone(()=>i.processLeaveNode(t))}function U0(i){let t=[];return Su(i,t),t}function Su(i,t){for(let e=0;e<i.length;e++){let n=i[e];n instanceof An?Su(n.players,t):t.push(n)}}function $0(i,t){let e=Object.keys(i),n=Object.keys(t);if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let o=e[r];if(!t.hasOwnProperty(o)||i[o]!==t[o])return!1}return!0}function vu(i,t,e){let n=e.get(i);if(!n)return!1;let r=t.get(i);return r?n.forEach(o=>r.add(o)):t.set(i,n),e.delete(i),!0}var Mi=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(t,e)=>{};constructor(t,e,n){this._driver=e,this._normalizer=n,this._transitionEngine=new ya(t.body,e,n),this._timelineEngine=new ga(t.body,e,n),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,n,r,o){let s=t+"-"+r,a=this._triggerCache[s];if(!a){let l=[],c=[],f=wu(this._driver,o,l,c);if(l.length)throw Gd(r,l);a=x0(r,f,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n){this._transitionEngine.removeNode(t,e,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if(n.charAt(0)=="@"){let[o,s]=Zs(n),a=r;this._timelineEngine.command(o,e,s,a)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,o){if(n.charAt(0)=="@"){let[s,a]=Zs(n);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,n,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function H0(i,t){let e=null,n=null;return Array.isArray(t)&&t.length?(e=la(t[0]),t.length>1&&(n=la(t[t.length-1]))):t instanceof Map&&(e=la(t)),e||n?new B0(i,e,n):null}var B0=(()=>{class i{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r;let o=i.initialStylesByElement.get(e);o||i.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Qe(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Qe(this._element,this._initialStyles),this._endStyles&&(Qe(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(At(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(At(this._element,this._endStyles),this._endStyles=null),Qe(this._element,this._initialStyles),this._state=3)}}return i})();function la(i){let t=null;return i.forEach((e,n)=>{W0(n)&&(t=t||new Map,t.set(n,e))}),t}function W0(i){return i==="display"||i==="position"}var Br=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(n=>{e.push(Object.fromEntries(n))}),e}_triggerWebAnimation(t,e,n){return t.animate(this._convertKeyframesToObject(e),n)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,r)=>{r!=="offset"&&t.set(r,this._finished?n:Rr(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},Wr=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return Js(t,e)}getParentElement(t){return Ar(t)}query(t,e,n){return Xs(t,e,n)}computeStyle(t,e,n){return Rr(t,e)}animate(t,e,n,r,o,s=[]){let a=r==0?"both":"forwards",l={duration:n,delay:r,fill:a};o&&(l.easing=o);let c=new Map,f=s.filter(I=>I instanceof Br);lu(n,r)&&f.forEach(I=>{I.currentSnapshot.forEach((v,A)=>c.set(A,v))});let _=su(e).map(I=>new Map(I));_=cu(t,_,c);let w=H0(t,_);return new Br(t,_,l,w)}};var Fr="@",Cu="@.disabled",jr=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(t,e,n,r){this.namespaceId=t,this.delegate=e,this.engine=n,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==Fr&&e==Cu?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n,r){return this.delegate.listen(t,e,n,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},va=class extends jr{factory;constructor(t,e,n,r,o){super(e,n,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==Fr?e.charAt(1)=="."&&e==Cu?(n=n===void 0?!0:!!n,this.disableAnimations(t,n)):this.engine.process(this.namespaceId,t,e.slice(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n,r){if(e.charAt(0)==Fr){let o=j0(t),s=e.slice(1),a="";return s.charAt(0)!=Fr&&([s,a]=q0(s)),this.engine.listen(this.namespaceId,o,s,a,l=>{let c=l._data||-1;this.factory.scheduleListenerCallback(c,n,l)})}return this.delegate.listen(t,e,n,r)}};function j0(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}function q0(i){let t=i.indexOf("."),e=i.substring(0,t),n=i.slice(t+1);return[e,n]}var qr=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,e.onRemovalComplete=(r,o)=>{o?.removeChild(null,r)}}createRenderer(t,e){let n="",r=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let c=this._rendererCache,f=c.get(r);if(!f){let _=()=>c.delete(r);f=new jr(n,r,this.engine,_),c.set(r,f)}return f}let o=e.id,s=e.id+"-"+this._currentId;this._currentId++,this.engine.register(s,t);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(o,s,t,c.name,c)};return e.data.animation.forEach(a),new va(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(n));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([e,n])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(t){this.engine.flush(),this.delegate.componentReplaced?.(t)}};var G0=(()=>{class i extends Mi{constructor(e,n,r){super(e,n,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(n){return new(n||i)(ge($a),ge(Xt),ge(ei))};static \u0275prov=J({token:i,factory:i.\u0275fac})}return i})();function Q0(){return new Vr}function Y0(i,t,e){return new qr(i,t,e)}var xu=[{provide:ei,useFactory:Q0},{provide:Mi,useClass:G0},{provide:Ra,useFactory:Y0,deps:[Ha,Mi,_e]}],RS=[{provide:Xt,useClass:ba},{provide:Jr,useValue:"NoopAnimations"},...xu],Z0=[{provide:Xt,useFactory:()=>new Wr},{provide:Jr,useFactory:()=>"BrowserAnimations"},...xu];function Ou(){return Pa("NgEagerAnimations"),[...Z0]}var Au=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",loadComponent:()=>import("./chunk-EHTNNP5B.js").then(i=>i.HomePageComponent)},{path:"plates",loadComponent:()=>import("./chunk-UYQMUYXH.js").then(i=>i.ProductsComponent)},{path:"spare-parts",loadComponent:()=>import("./chunk-XULWHDUB.js").then(i=>i.SparePlatesDetailsComponent)},{path:"motorcycles",loadComponent:()=>import("./chunk-PEEF6WXB.js").then(i=>i.MotorcyclesDetailsComponent)},{path:"accessories",loadComponent:()=>import("./chunk-3VDG5RIK.js").then(i=>i.AccessoriesComponent)},{path:"register",loadComponent:()=>import("./chunk-WY2P3Q4H.js").then(i=>i.RegisterComponent)},{path:"account",loadComponent:()=>import("./chunk-PZMLUYCC.js").then(i=>i.AccountComponent)},{path:"add-product",loadComponent:()=>import("./chunk-AQLA3EOK.js").then(i=>i.ProductFormComponent)},{path:"listing/:id",loadComponent:()=>import("./chunk-VZTOG7NM.js").then(i=>i.MainProductsPageComponent)}];var Kr=class i{constructor(t,e,n){this.authService=t;this.router=e;this.platformId=n}intercept(t,e){let n=t;if(Se(this.platformId)){let r=this.authService.getToken();r&&(n=t.clone({setHeaders:{Authorization:`Bearer ${r}`}}))}return e.handle(n).pipe(Zr(r=>{let o=t.url.includes("/refresh"),s=t.url.includes("/login")||t.url.includes("/register")||t.url.includes("/verify-otp");return r.status===401&&!o&&!s&&this.authService.getToken()?this.authService.refreshToken().pipe(xa(a=>{console.log("refresh token",a),this.authService.saveToken(a.token);let l=t.clone({setHeaders:{Authorization:`Bearer ${a.token}`}});return e.handle(l)}),Zr(a=>(this.authService.logoutAndClearData(),this.authService.triggerLoginModal(),Yr(()=>a)))):Yr(()=>r)}))}static \u0275fac=function(e){return new(e||i)(ge(Xe),ge(si),ge(yt))};static \u0275prov=J({token:i,factory:i.\u0275fac})};var ku=(()=>{class i{http;prefix;suffix;constructor(e,n="/assets/i18n/",r=".json"){this.http=e,this.prefix=n,this.suffix=r}getTranslation(e){return this.http.get(`${this.prefix}${e}${this.suffix}`)}static \u0275fac=function(n){return new(n||i)(ge(bn),ge(String),ge(String))};static \u0275prov=J({token:i,factory:i.\u0275fac})}return i})();function J0(i){return new ku(i,"./assets/i18n/",".json")}var X0={apiKey:"AIzaSyCPGsHiy6Eq2J8bnHi2xo9rx-1nIXM-p-o",authDomain:"dabapp-3d853.firebaseapp.com",projectId:"dabapp-3d853",storageBucket:"dabapp-3d853.firebasestorage.app",messagingSenderId:"988124060172",appId:"1:988124060172:web:6a7b2aeb937a44fa196c29",measurementId:"G-RELFGL4QX8"};Ba(Cr,{providers:[Ga(Au),Ou(),ja(qa()),mi,{provide:Wa,useClass:Kr,multi:!0},Aa(Mc(()=>Nc(X0)),Od(()=>Ad()),fi.forRoot({loader:{provide:Dl,useFactory:J0,deps:[bn]}}))]}).catch(i=>console.error(i));export{J0 as HttpLoaderFactory};
