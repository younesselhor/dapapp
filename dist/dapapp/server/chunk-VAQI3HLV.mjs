import './polyfills.server.mjs';
import{b as je,c as Ue,d as Ye}from"./chunk-VVJ52F2Z.mjs";import{b as $e}from"./chunk-AOJJUPG4.mjs";import{a as We}from"./chunk-BYFKFZ7M.mjs";import{l as Se,o as we}from"./chunk-GCKS7BR5.mjs";import{$c as Te,Ab as ue,Ac as ve,Ba as Q,Bb as te,Bc as fe,Cb as c,Cc as he,Db as C,Dc as ye,Eb as S,Ec as xe,Fa as a,Fb as K,Fc as be,Hb as ge,Ib as L,Jb as R,Ka as A,Kb as q,Lc as Fe,Mb as Y,Nb as ie,O as oe,Ob as E,Pa as ae,Pc as Ce,Qb as ne,Sa as de,Sb as y,Tb as x,Ua as p,Vc as Pe,Wc as _,Xc as Ee,Yc as Ie,Zc as re,_c as M,aa as u,ab as ee,ad as Ve,ba as g,bb as s,bd as ke,ca as w,cb as se,cd as Me,da as V,db as U,ed as Oe,gd as De,hd as Ne,id as Be,jd as Ae,lb as o,mb as l,nb as v,ob as ce,od as Le,pb as me,pd as Re,qd as qe,rb as P,rd as Ge,sa as le,sb as h,tb as m,wb as J,yb as pe,zb as _e}from"./chunk-FQXLIQ4O.mjs";import{a as T,b as O,h as z}from"./chunk-S6KH3LOX.mjs";var Z=class i{transform(t){return t?t.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):""}static \u0275fac=function(e){return new(e||i)};static \u0275pipe=de({name:"formatFieldName",type:i,pure:!0})};var X=class i{constructor(){}step1Data=null;step2Data=null;setStep1Data(t){this.step1Data=t}getStep1Data(){return this.step1Data}setStep2Data(t){this.step2Data=t}getStep2Data(){return this.step2Data}getCombinedData(){return T(T({},this.step1Data),this.step2Data)}resetFormData(){this.step1Data=null,this.step2Data=null}static \u0275fac=function(e){return new(e||i)};static \u0275prov=oe({token:i,factory:i.\u0275fac,providedIn:"root"})};var Xe=["fileInput"],et=(i,t)=>({"bg-red-500 text-white":i,"bg-white text-gray-500 border border-gray-300":t}),tt=(i,t)=>({"font-semibold text-red-500":i,"font-semibold":t}),k=(i,t)=>({"border-red-500 bg-red-50":i,"border-gray-200":t}),$=()=>({standalone:!0}),ze=(i,t,e,n)=>({"border-red-500 bg-red-50":i,"border-gray-200":t,"opacity-50 cursor-not-allowed":e,"cursor-pointer":n}),Ke=i=>({"text-gray-400":i}),Je=(i,t)=>({"border-gray-300":i,"border-gray-200":t});function it(i,t){if(i&1&&(o(0,"div",18),v(1,"div",19),l()),i&2){let e=m().index,n=m();a(),se("width",n.currentStep>e+1?"100%":n.currentStep===e+1?"50%":"0%")}}function nt(i,t){if(i&1&&(ce(0),o(1,"div",12)(2,"div",13),c(3),l(),o(4,"div",14)(5,"p",15),c(6),l(),o(7,"p",16),c(8),l()()(),p(9,it,2,2,"div",17),me()),i&2){let e=t.$implicit,n=t.index,r=m();a(2),s("ngClass",E(6,et,r.currentStep>=n+1,r.currentStep<n+1)),a(),S(" ",n+1," "),a(2),s("ngClass",E(9,tt,r.currentStep===n+1,r.currentStep!==n+1)),a(),S(" ",e.title," "),a(2),C(e.subtitle),a(),s("ngIf",n<r.steps.length-1)}}function rt(i,t){i&1&&(o(0,"div",33),w(),o(1,"svg",34),v(2,"path",35),l()())}function ot(i,t){if(i&1){let e=P();o(0,"div",26),h("click",function(){let r=u(e).$implicit,d=m(2);return g(d.selectVehicleType(r.category_id))}),p(1,rt,3,0,"div",27),o(2,"div",28)(3,"div",29),v(4,"img",30),o(5,"span",31),c(6),l(),o(7,"span",32),c(8),l()()()()}if(i&2){let e=t.$implicit,n=m(2);s("ngClass",E(6,k,n.selectedVehicleType===e.category_id,n.selectedVehicleType!==e.category_id)),a(),s("ngIf",n.selectedVehicleType===e.category_id),a(3),J("alt",e.name),s("src",e.imageUrl,Q),a(2),C(e.name),a(2),C(e.note)}}function lt(i,t){if(i&1){let e=P();o(0,"div",72),v(1,"img",73),o(2,"button",74),h("click",function(){let r=u(e).index,d=m(3);return g(d.removeImage(r))}),c(3," \u2715 "),l()()}if(i&2){let e=t.$implicit,n=t.index;a(),s("src",e.preview,Q)("alt","Uploaded image "+n)}}function at(i,t){if(i&1){let e=P();o(0,"div",75),h("click",function(){u(e);let r=te(4);return g(r.click())}),w(),o(1,"svg",76),v(2,"path",77),l(),V(),o(3,"input",78,0),h("change",function(r){u(e);let d=m(3);return g(d.handleFileInput(r))}),l()()}}function dt(i,t){i&1&&(o(0,"span",79),c(1,"Please upload at least 4 images."),l())}function st(i,t){if(i&1){let e=P();o(0,"div",82),h("click",function(){let r=u(e).$implicit,d=m(4);return g(d.selectBrand(r))}),c(1),l()}if(i&2){let e=t.$implicit;a(),S(" ",e.name," ")}}function ct(i,t){if(i&1&&(o(0,"div",80),p(1,st,2,1,"div",81),l()),i&2){let e=m(3);a(),s("ngForOf",e.filteredBrands)}}function mt(i,t){i&1&&(o(0,"div",83),c(1," Brand is required. "),l())}function pt(i,t){if(i&1){let e=P();o(0,"div",82),h("click",function(){let r=u(e).$implicit,d=m(4);return g(d.selectModel(r))}),c(1),l()}if(i&2){let e=t.$implicit;a(),S(" ",e.name," ")}}function _t(i,t){if(i&1&&(o(0,"div",80),p(1,pt,2,1,"div",81),l()),i&2){let e=m(3);a(),s("ngForOf",e.filteredModels)}}function ut(i,t){if(i&1){let e=P();o(0,"div",82),h("click",function(){let r=u(e).$implicit,d=m(4);return g(d.selectYear(r))}),c(1),l()}if(i&2){let e=t.$implicit;a(),S(" ",e.year," ")}}function gt(i,t){if(i&1&&(o(0,"div",80),p(1,ut,2,1,"div",81),l()),i&2){let e=m(3);a(),s("ngForOf",e.filteredYears)}}function vt(i,t){i&1&&(o(0,"div",84),w(),o(1,"svg",85),v(2,"path",35),l()())}function ft(i,t){i&1&&(o(0,"div"),v(1,"img",86),l())}function ht(i,t){if(i&1){let e=P();o(0,"div",61),h("click",function(){let r=u(e).$implicit,d=m(3);return g(d.selectBodyCondition(r))}),o(1,"div",62)(2,"span"),c(3),l(),p(4,vt,3,0,"div",63)(5,ft,2,0,"div",7),l()()}if(i&2){let e,n,r,d=t.$implicit,f=m(3);s("ngClass",E(4,k,((e=f.vehicleForm.get("body_condition"))==null?null:e.value)===d,((e=f.vehicleForm.get("body_condition"))==null?null:e.value)!==d)),a(3),C(d),a(),s("ngIf",((n=f.vehicleForm.get("body_condition"))==null?null:n.value)===d),a(),s("ngIf",((r=f.vehicleForm.get("body_condition"))==null?null:r.value)!==d)}}function yt(i,t){i&1&&(o(0,"div",84),w(),o(1,"svg",85),v(2,"path",35),l()())}function xt(i,t){i&1&&(o(0,"div"),v(1,"img",86),l())}function bt(i,t){i&1&&(o(0,"div",84),w(),o(1,"svg",85),v(2,"path",35),l()())}function Ft(i,t){i&1&&(o(0,"div",84),w(),o(1,"svg",85),v(2,"path",35),l()())}function Ct(i,t){i&1&&(o(0,"div",84),w(),o(1,"svg",85),v(2,"path",35),l()())}function St(i,t){i&1&&(o(0,"div",84),w(),o(1,"svg",85),v(2,"path",35),l()())}function wt(i,t){i&1&&(o(0,"div",84),w(),o(1,"svg",85),v(2,"path",35),l()())}function Pt(i,t){i&1&&(o(0,"div",84),w(),o(1,"svg",85),v(2,"path",35),l()())}function Et(i,t){if(i&1){let e=P();o(0,"div",61),h("click",function(){let r=u(e).$implicit,d=m(3);return g(d.selectVehicleCare(r))}),o(1,"div",62)(2,"span"),c(3),l(),p(4,Pt,3,0,"div",63),l()()}if(i&2){let e,n,r=t.$implicit,d=m(3);s("ngClass",E(3,k,((e=d.vehicleForm.get("vehicle_care"))==null?null:e.value)===r,((e=d.vehicleForm.get("vehicle_care"))==null?null:e.value)!==r)),a(3),C(r),a(),s("ngIf",((n=d.vehicleForm.get("vehicle_care"))==null?null:n.value)===r)}}function It(i,t){i&1&&(o(0,"div",84),w(),o(1,"svg",85),v(2,"path",35),l()())}function Tt(i,t){if(i&1){let e=P();o(0,"div",61),h("click",function(){let r=u(e).$implicit,d=m(3);return g(d.selectTransmission(r))}),o(1,"div",62)(2,"span"),c(3),l(),p(4,It,3,0,"div",63),l()()}if(i&2){let e,n,r=t.$implicit,d=m(3);s("ngClass",E(3,k,((e=d.vehicleForm.get("transmission"))==null?null:e.value)===r,((e=d.vehicleForm.get("transmission"))==null?null:e.value)!==r)),a(3),C(r),a(),s("ngIf",((n=d.vehicleForm.get("transmission"))==null?null:n.value)===r)}}function Vt(i,t){if(i&1){let e=P();o(0,"form",36)(1,"div",37)(2,"h3",38),c(3),y(4,"translate"),l(),o(5,"div",39)(6,"p",40),c(7),y(8,"translate"),l(),o(9,"div",41),p(10,lt,4,2,"div",42)(11,at,5,0,"div",43),l(),o(12,"p",44),c(13," Only SVG, PNG, JPG or GIF (max. 2000x2000px)"),v(14,"br"),p(15,dt,2,0,"span",45),l()(),o(16,"div",46)(17,"div")(18,"label",47),c(19),y(20,"translate"),l(),o(21,"div",48)(22,"input",49),y(23,"translate"),q("ngModelChange",function(r){u(e);let d=m(2);return R(d.brandSearchTerm,r)||(d.brandSearchTerm=r),g(r)}),h("input",function(){u(e);let r=m(2);return g(r.filterBrands())})("focus",function(){u(e);let r=m(2);return g(r.showBrandDropdown=!0)}),l(),o(24,"div",50),w(),o(25,"svg",51),v(26,"path",52),l()(),p(27,ct,2,1,"div",53),l(),p(28,mt,2,0,"div",54),l(),V(),o(29,"div")(30,"label",47),c(31),y(32,"translate"),l(),o(33,"div",48)(34,"input",55),y(35,"translate"),q("ngModelChange",function(r){u(e);let d=m(2);return R(d.modelSearchTerm,r)||(d.modelSearchTerm=r),g(r)}),h("input",function(){u(e);let r=m(2);return g(r.filterModels())})("focus",function(){u(e);let r=m(2);return g(r.showModelDropdown=!0)}),l(),o(36,"div",50),w(),o(37,"svg",51),v(38,"path",52),l()(),p(39,_t,2,1,"div",53),l()(),V(),o(40,"div")(41,"label",47),c(42,"Year"),l(),o(43,"div",48)(44,"input",56),q("ngModelChange",function(r){u(e);let d=m(2);return R(d.yearSearchTerm,r)||(d.yearSearchTerm=r),g(r)}),h("input",function(){u(e);let r=m(2);return g(r.filterYears())})("focus",function(){u(e);let r=m(2);return g(r.showYearDropdown=!0)}),l(),o(45,"div",50),w(),o(46,"svg",51),v(47,"path",52),l()(),p(48,gt,2,1,"div",53),l()()(),V(),o(49,"div",39)(50,"label",57),c(51,"Vehicle Body Condition"),l(),o(52,"div",58),p(53,ht,6,7,"div",59),l()(),o(54,"div",39)(55,"label",57),c(56,"Modified?"),l(),o(57,"div",60)(58,"div",61),h("click",function(){u(e);let r=m(2);return g(r.selectModified("Yes"))}),o(59,"div",62)(60,"span"),c(61,"Yes"),l(),p(62,yt,3,0,"div",63)(63,xt,2,0,"div",7),l()(),o(64,"div",61),h("click",function(){u(e);let r=m(2);return g(r.selectModified("No"))}),o(65,"div",62)(66,"span"),c(67,"No"),l(),p(68,bt,3,0,"div",63),l()()()(),o(69,"div",39)(70,"label",57),c(71,"Warranty ?"),l(),o(72,"div",60)(73,"div",61),h("click",function(){u(e);let r=m(2);return g(r.selectInsurance("Yes"))}),o(74,"div",62)(75,"span"),c(76,"Yes"),l(),p(77,Ft,3,0,"div",63),l()(),o(78,"div",61),h("click",function(){u(e);let r=m(2);return g(r.selectInsurance("No"))}),o(79,"div",62)(80,"span"),c(81,"No"),l(),p(82,Ct,3,0,"div",63),l()()()(),o(83,"div",39)(84,"label",57),c(85,"Condition"),l(),o(86,"div",60)(87,"div",61),h("click",function(){u(e);let r=m(2);return g(r.selectCondition("New"))}),o(88,"div",62)(89,"span"),c(90,"New"),l(),p(91,St,3,0,"div",63),l()(),o(92,"div",61),h("click",function(){u(e);let r=m(2);return g(r.selectCondition("Used"))}),o(93,"div",62)(94,"span"),c(95,"Used"),l(),p(96,wt,3,0,"div",63),l()()()(),o(97,"div",39)(98,"label",57),c(99,"Vehicle Care"),l(),o(100,"div",64),p(101,Et,5,6,"div",59),l()(),o(102,"div",65)(103,"div")(104,"label",57),c(105,"Engine Capacity"),l(),o(106,"div",66)(107,"span",67),c(108," CC "),l(),v(109,"input",68),l()(),o(110,"div")(111,"label",57),c(112,"Kilometer"),l(),o(113,"div",66)(114,"span",67),c(115," KM "),l(),v(116,"input",69),l()()(),o(117,"div",39)(118,"label",57),c(119,"Transmission"),l(),o(120,"div",58),p(121,Tt,5,6,"div",59),l()()(),o(122,"div",70)(123,"button",71),h("click",function(){u(e);let r=m(2);return g(r.goToNextStep())}),c(124," Next "),l()()()}if(i&2){let e,n,r,d,f,I,D,N,G,W,B,H,j,b,F=m(2);s("formGroup",F.vehicleForm),a(3),C(x(4,39,"FORM.BIKE_DETAILS")),a(4),C(x(8,41,"FORM.ADD_IMAGES")),a(3),s("ngForOf",F.uploadedImages),a(),s("ngIf",F.uploadedImages.length<F.maxImages),a(4),s("ngIf",F.uploadedImages.length<4),a(4),C(x(20,43,"FORM.BRAND")),a(3),L("ngModel",F.brandSearchTerm),s("ngModelOptions",Y(51,$))("placeholder",x(23,45,"FORM.SELECT_BRAND")),a(5),s("ngIf",F.showBrandDropdown&&F.filteredBrands.length>0),a(),s("ngIf",((e=F.vehicleForm.get("brand_id"))==null?null:e.touched)&&((e=F.vehicleForm.get("brand_id"))==null?null:e.invalid)),a(3),C(x(32,47,"FORM.MODEL")),a(3),L("ngModel",F.modelSearchTerm),s("ngModelOptions",Y(52,$))("placeholder",x(35,49,"FORM.SELECT_MODEL"))("disabled",F.models.length===0),a(5),s("ngIf",F.showModelDropdown&&F.filteredModels.length>0),a(5),L("ngModel",F.yearSearchTerm),s("ngModelOptions",Y(53,$))("disabled",F.years.length===0),a(4),s("ngIf",F.showYearDropdown&&F.filteredYears.length>0),a(5),s("ngForOf",F.bodyConditions),a(5),s("ngClass",E(54,k,((n=F.vehicleForm.get("modified"))==null?null:n.value)==="Yes",((n=F.vehicleForm.get("modified"))==null?null:n.value)!=="Yes")),a(4),s("ngIf",((r=F.vehicleForm.get("modified"))==null?null:r.value)==="Yes"),a(),s("ngIf",((d=F.vehicleForm.get("modified"))==null?null:d.value)==="No"),a(),s("ngClass",E(57,k,((f=F.vehicleForm.get("modified"))==null?null:f.value)==="No",((f=F.vehicleForm.get("modified"))==null?null:f.value)!=="No")),a(4),s("ngIf",((I=F.vehicleForm.get("modified"))==null?null:I.value)==="No"),a(5),s("ngClass",E(60,k,((D=F.vehicleForm.get("insurance"))==null?null:D.value)==="Yes",((D=F.vehicleForm.get("insurance"))==null?null:D.value)!=="Yes")),a(4),s("ngIf",((N=F.vehicleForm.get("insurance"))==null?null:N.value)==="Yes"),a(),s("ngClass",E(63,k,((G=F.vehicleForm.get("insurance"))==null?null:G.value)==="No",((G=F.vehicleForm.get("insurance"))==null?null:G.value)!=="No")),a(4),s("ngIf",((W=F.vehicleForm.get("insurance"))==null?null:W.value)==="No"),a(5),s("ngClass",E(66,k,((B=F.vehicleForm.get("general_condition"))==null?null:B.value)==="New",((B=F.vehicleForm.get("general_condition"))==null?null:B.value)!=="New")),a(4),s("ngIf",((H=F.vehicleForm.get("general_condition"))==null?null:H.value)==="New"),a(),s("ngClass",E(69,k,((j=F.vehicleForm.get("general_condition"))==null?null:j.value)==="Used",((j=F.vehicleForm.get("general_condition"))==null?null:j.value)!=="Used")),a(4),s("ngIf",((b=F.vehicleForm.get("general_condition"))==null?null:b.value)==="Used"),a(5),s("ngForOf",F.vehicleCareOptions),a(20),s("ngForOf",F.transmissionTypes),a(2),s("disabled",F.vehicleForm.invalid||F.uploadedImages.length<4)}}function kt(i,t){if(i&1){let e=P();o(0,"div",72),v(1,"img",73),o(2,"button",74),h("click",function(){let r=u(e).index,d=m(3);return g(d.removeImage(r))}),c(3," \u2715 "),l()()}if(i&2){let e=t.$implicit,n=t.index;a(),s("src",e.preview,Q)("alt","Uploaded image "+n)}}function Mt(i,t){if(i&1){let e=P();o(0,"div",75),h("click",function(){u(e);let r=te(4);return g(r.click())}),w(),o(1,"svg",76),v(2,"path",77),l(),V(),o(3,"input",78,0),h("change",function(r){u(e);let d=m(3);return g(d.handleFileInput(r))}),l()()}}function Ot(i,t){i&1&&(o(0,"span",79),c(1,"Please upload at least 4 images."),l())}function Dt(i,t){if(i&1&&(o(0,"option",100),c(1),l()),i&2){let e=t.$implicit;s("value",e.id),a(),S(" ",e.name," ")}}function Nt(i,t){i&1&&(o(0,"div",83),c(1," Brand is required. "),l())}function Bt(i,t){if(i&1&&(o(0,"option",100),c(1),l()),i&2){let e=t.$implicit;s("value",e.id),a(),S(" ",e.name," ")}}function At(i,t){if(i&1){let e=P();o(0,"div",82),h("click",function(){let r=u(e).$implicit,d=m(4);return g(d.selectBrand(r))}),c(1),l()}if(i&2){let e=t.$implicit;a(),S(" ",e.name," ")}}function Lt(i,t){if(i&1&&(o(0,"div",80),p(1,At,2,1,"div",81),l()),i&2){let e=m(3);a(),s("ngForOf",e.filteredBrands)}}function Rt(i,t){i&1&&(o(0,"div",83),c(1," Brand is required. "),l())}function qt(i,t){if(i&1){let e=P();o(0,"div",82),h("click",function(){let r=u(e).$implicit,d=m(4);return g(d.selectModel(r))}),c(1),l()}if(i&2){let e=t.$implicit;a(),S(" ",e.name," ")}}function Gt(i,t){if(i&1&&(o(0,"div",80),p(1,qt,2,1,"div",81),l()),i&2){let e=m(3);a(),s("ngForOf",e.filteredModels)}}function jt(i,t){if(i&1){let e=P();o(0,"div",82),h("click",function(){let r=u(e).$implicit,d=m(4);return g(d.selectYear(r))}),c(1),l()}if(i&2){let e=t.$implicit;a(),S(" ",e.year," ")}}function Ut(i,t){if(i&1&&(o(0,"div",80),p(1,jt,2,1,"div",81),l()),i&2){let e=m(3);a(),s("ngForOf",e.filteredYears)}}function Yt(i,t){i&1&&(o(0,"div",84),w(),o(1,"svg",85),v(2,"path",35),l()())}function $t(i,t){if(i&1){let e=P();o(0,"div",61),h("click",function(){let r=u(e).$implicit,d=m(3);return g(d.selectBodyCondition(r))}),o(1,"div",62)(2,"span"),c(3),l(),p(4,Yt,3,0,"div",63),l()()}if(i&2){let e,n,r=t.$implicit,d=m(3);s("ngClass",E(3,k,((e=d.vehicleForm.get("body_condition"))==null?null:e.value)===r,((e=d.vehicleForm.get("body_condition"))==null?null:e.value)!==r)),a(3),C(r),a(),s("ngIf",((n=d.vehicleForm.get("body_condition"))==null?null:n.value)===r)}}function Wt(i,t){i&1&&(o(0,"span"),c(1),y(2,"translate"),l()),i&2&&(a(),S(" ",x(2,1,"FORM.DESCRIPTION_REQUIRED")," "))}function Ht(i,t){i&1&&(o(0,"span"),c(1),y(2,"translate"),l()),i&2&&(a(),S(" ",x(2,1,"FORM.DESCRIPTION_TOO_SHORT")," "))}function zt(i,t){if(i&1&&(o(0,"div",101),p(1,Wt,3,3,"span",7)(2,Ht,3,3,"span",7),l()),i&2){let e,n,r=m(3);a(),s("ngIf",(e=r.bikeForm.get("description"))==null||e.errors==null?null:e.errors.required),a(),s("ngIf",(n=r.bikeForm.get("description"))==null||n.errors==null?null:n.errors.minlength)}}function Kt(i,t){if(i&1){let e=P();o(0,"form",36)(1,"div",37)(2,"h3",38),c(3,"Part Details"),l(),o(4,"div",39)(5,"p",40),c(6,"Add images"),l(),o(7,"div",41),p(8,kt,4,2,"div",42)(9,Mt,5,0,"div",43),l(),o(10,"p",44),c(11," Only SVG, PNG, JPG or GIF (max. 2000x2000px)"),v(12,"br"),p(13,Ot,2,0,"span",45),l()(),o(14,"div",65)(15,"div")(16,"label",47),c(17,"Brand of part"),l(),o(18,"select",87)(19,"option",88),c(20),y(21,"translate"),l(),p(22,Dt,2,2,"option",89),l(),p(23,Nt,2,0,"div",54),l(),o(24,"div")(25,"label",47),c(26),y(27,"translate"),l(),o(28,"select",90)(29,"option",88),c(30),y(31,"translate"),l(),p(32,Bt,2,2,"option",89),l()()(),o(33,"div",46)(34,"div",91)(35,"div",92)(36,"p",93)(37,"span",31),c(38,"Compatibility Information:"),l(),c(39," please choose the brand compatible with this part. "),l()()(),o(40,"div")(41,"label",47),c(42),y(43,"translate"),l(),o(44,"div",48)(45,"input",49),y(46,"translate"),q("ngModelChange",function(r){u(e);let d=m(2);return R(d.brandSearchTerm,r)||(d.brandSearchTerm=r),g(r)}),h("input",function(){u(e);let r=m(2);return g(r.filterBrands())})("focus",function(){u(e);let r=m(2);return g(r.showBrandDropdown=!0)}),l(),o(47,"div",50),w(),o(48,"svg",51),v(49,"path",52),l()(),p(50,Lt,2,1,"div",53),l(),p(51,Rt,2,0,"div",54),l(),V(),o(52,"div")(53,"label",47),c(54),y(55,"translate"),l(),o(56,"div",48)(57,"input",55),y(58,"translate"),q("ngModelChange",function(r){u(e);let d=m(2);return R(d.modelSearchTerm,r)||(d.modelSearchTerm=r),g(r)}),h("input",function(){u(e);let r=m(2);return g(r.filterModels())})("focus",function(){u(e);let r=m(2);return g(r.showModelDropdown=!0)}),l(),o(59,"div",50),w(),o(60,"svg",51),v(61,"path",52),l()(),p(62,Gt,2,1,"div",53),l()(),V(),o(63,"div")(64,"label",47),c(65,"Year"),l(),o(66,"div",48)(67,"input",56),q("ngModelChange",function(r){u(e);let d=m(2);return R(d.yearSearchTerm,r)||(d.yearSearchTerm=r),g(r)}),h("input",function(){u(e);let r=m(2);return g(r.filterYears())})("focus",function(){u(e);let r=m(2);return g(r.showYearDropdown=!0)}),l(),o(68,"div",50),w(),o(69,"svg",51),v(70,"path",52),l()(),p(71,Ut,2,1,"div",53),l()()(),V(),o(72,"div",39)(73,"label",57),c(74,"Condition"),l(),o(75,"div",60),p(76,$t,5,6,"div",59),l()(),o(77,"div",39)(78,"label",94),c(79," Description "),o(80,"span",95),w(),o(81,"svg",96),v(82,"path",97),l()()(),V(),v(83,"textarea",98),l(),p(84,zt,3,2,"div",99),l(),o(85,"div",70)(86,"button",71),h("click",function(){u(e);let r=m(2);return g(r.goToNextStep())}),c(87," Next "),l()()()}if(i&2){let e,n,r,d=m(2);s("formGroup",d.bikeForm),a(8),s("ngForOf",d.uploadedImages),a(),s("ngIf",d.uploadedImages.length<d.maxImages),a(4),s("ngIf",d.uploadedImages.length<4),a(7),C(x(21,30,"FORM.SELECT_BRAND")),a(2),s("ngForOf",d.brandsPart),a(),s("ngIf",((e=d.vehicleForm.get("bike_part_brand_id"))==null?null:e.touched)&&((e=d.vehicleForm.get("bike_part_brand_id"))==null?null:e.invalid)),a(3),C(x(27,32,"FORM.MODELB")),a(2),s("disabled",d.models.length===0),a(2),C(x(31,34,"FORM.SELECT_MODEL")),a(2),s("ngForOf",d.partCategory),a(10),C(x(43,36,"FORM.BRAND")),a(3),L("ngModel",d.brandSearchTerm),s("ngModelOptions",Y(44,$))("placeholder",x(46,38,"FORM.SELECT_BRAND")),a(5),s("ngIf",d.showBrandDropdown&&d.filteredBrands.length>0),a(),s("ngIf",((n=d.vehicleForm.get("brand_id"))==null?null:n.touched)&&((n=d.vehicleForm.get("brand_id"))==null?null:n.invalid)),a(3),C(x(55,40,"FORM.MODEL")),a(3),L("ngModel",d.modelSearchTerm),s("ngModelOptions",Y(45,$))("placeholder",x(58,42,"FORM.SELECT_MODEL"))("disabled",d.models.length===0),a(5),s("ngIf",d.showModelDropdown&&d.filteredModels.length>0),a(5),L("ngModel",d.yearSearchTerm),s("ngModelOptions",Y(46,$))("disabled",d.years.length===0),a(4),s("ngIf",d.showYearDropdown&&d.filteredYears.length>0),a(5),s("ngForOf",d.partsConditions),a(8),s("ngIf",((r=d.bikeForm.get("description"))==null?null:r.touched)&&((r=d.bikeForm.get("description"))==null?null:r.errors)),a(2),s("disabled",d.bikeForm.invalid||d.uploadedImages.length<4)}}function Qt(i,t){if(i&1&&(o(0,"option",100),c(1),l()),i&2){let e=t.$implicit;s("value",e.id),a(),S(" ",e.name," ")}}function Jt(i,t){i&1&&(o(0,"div",83),c(1," Country is required "),l())}function Zt(i,t){if(i&1&&(o(0,"option",100),c(1),l()),i&2){let e=t.$implicit;s("value",e.id),a(),S(" ",e.name," ")}}function Xt(i,t){i&1&&(o(0,"div",83),c(1," City is required "),l())}function ei(i,t){i&1&&(o(0,"span",79),c(1,"*"),l())}function ti(i,t){if(i&1){let e=P();o(0,"input",117),y(1,"formatFieldName"),h("keypress",function(r){u(e);let d=m().$implicit,f=m(4);return g(f.allowOnlyDigits(r,d.writing_system))}),l()}if(i&2){let e=m().$implicit;s("id",e.controlName)("formControlName",e.controlName)("pattern",e.writing_system==="arabic"?"[\u0660-\u0669\u06F0-\u06F90-9]+":"[0-9]+")("placeholder","Enter "+x(1,5,e.field_name)),ee("maxlength",e.max_length)}}function ii(i,t){if(i&1){let e=P();o(0,"input",118),y(1,"formatFieldName"),h("keypress",function(r){u(e);let d=m().$implicit,f=m(4);return g(f.allowOnlyLetters(r,d.writing_system))}),l()}if(i&2){let e=m().$implicit;s("id",e.controlName)("formControlName",e.controlName)("placeholder","Enter "+x(1,4,e.field_name)),ee("maxlength",e.max_length)}}function ni(i,t){if(i&1&&(o(0,"div",112)(1,"label",113),c(2),y(3,"formatFieldName"),p(4,ei,2,0,"span",45),l(),p(5,ti,2,7,"input",114)(6,ii,2,6,"input",115),o(7,"div",116),c(8),y(9,"formatFieldName"),l()()),i&2){let e=t.$implicit;a(),s("for",e.controlName),a(),S(" ",x(3,9,e.field_name)," "),a(2),s("ngIf",e.is_required),a(),s("ngIf",e.character_type==="digit"),a(),s("ngIf",e.character_type==="letter"),a(2),ge(" Position: ",x(9,11,e.position)," | Type: ",e.character_type==="digit"?"Numbers":"Letters"," | Length: ",e.min_length,"-",e.max_length," characters ")}}function ri(i,t){if(i&1&&(o(0,"div",39)(1,"h4",109),c(2,"Plate Information"),l(),o(3,"div",110),p(4,ni,10,13,"div",111),l()()),i&2){let e=m(3);a(4),s("ngForOf",e.dynamicFields)}}function oi(i,t){i&1&&(o(0,"div",119)(1,"div",16),c(2,"Loading plate format..."),l()())}function li(i,t){i&1&&(o(0,"div",119)(1,"div",16),c(2,"No plate format available for selected city"),l()())}function ai(i,t){if(i&1){let e=P();o(0,"form",36)(1,"div",37)(2,"h3",38),c(3,"License Plate Details"),l(),o(4,"div",39)(5,"label",57),c(6,"Country"),l(),o(7,"select",102)(8,"option",88),c(9,"Select the country"),l(),p(10,Qt,2,2,"option",89),l(),p(11,Jt,2,0,"div",54),l(),o(12,"div",39)(13,"label",103),c(14,"City"),l(),o(15,"div",104)(16,"select",105)(17,"option",88),c(18,"Select a City"),l(),p(19,Zt,2,2,"option",89),l()(),p(20,Xt,2,0,"div",54),l(),p(21,ri,5,1,"div",106)(22,oi,3,0,"div",107)(23,li,3,0,"div",107),l(),o(24,"div",70)(25,"button",108),h("click",function(){u(e);let r=m(2);return g(r.goToNextStep())}),c(26," Next "),l()()()}if(i&2){let e,n,r,d,f=m(2);s("formGroup",f.platesForm),a(10),s("ngForOf",f.countries),a(),s("ngIf",((e=f.platesForm.get("country_id_lp"))==null?null:e.invalid)&&((e=f.platesForm.get("country_id_lp"))==null?null:e.touched)),a(5),s("disabled",!f.filteredCities.length),a(3),s("ngForOf",f.filteredCities),a(),s("ngIf",((n=f.platesForm.get("city_id_lp"))==null?null:n.invalid)&&((n=f.platesForm.get("city_id_lp"))==null?null:n.touched)),a(),s("ngIf",f.dynamicFields.length>0),a(),s("ngIf",((r=f.platesForm.get("city_id_lp"))==null?null:r.value)&&!f.dynamicFields.length&&!f.selectedPlateFormat),a(),s("ngIf",((d=f.platesForm.get("city_id_lp"))==null?null:d.value)&&f.dynamicFields.length===0&&f.selectedPlateFormat===null)}}function di(i,t){i&1&&(o(0,"div",37)(1,"p",120),c(2," Please select a vehicle type above to continue "),l()())}function si(i,t){if(i&1&&(o(0,"div")(1,"h2",20),c(2,"What are you selling?"),l(),o(3,"div",21),p(4,ot,9,9,"div",22),l(),o(5,"div",23),p(6,Vt,125,72,"form",24)(7,Kt,88,47,"form",24)(8,ai,27,9,"form",24)(9,di,3,0,"div",25),l()()),i&2){let e=m();a(4),s("ngForOf",e.vehicleOptions),a(),s("ngSwitch",e.selectedVehicleType),a(),s("ngSwitchCase",1),a(),s("ngSwitchCase",2),a(),s("ngSwitchCase",3)}}function ci(i,t){i&1&&(o(0,"span"),c(1),y(2,"translate"),l()),i&2&&(a(),S(" ",x(2,1,"FORM.DESCRIPTION_REQUIRED")," "))}function mi(i,t){i&1&&(o(0,"span"),c(1),y(2,"translate"),l()),i&2&&(a(),S(" ",x(2,1,"FORM.DESCRIPTION_TOO_SHORT")," "))}function pi(i,t){if(i&1&&(o(0,"div",101),p(1,ci,3,3,"span",7)(2,mi,3,3,"span",7),l()),i&2){let e,n,r=m(2);a(),s("ngIf",(e=r.adDetailsForm.get("description"))==null||e.errors==null?null:e.errors.required),a(),s("ngIf",(n=r.adDetailsForm.get("description"))==null||n.errors==null?null:n.errors.minlength)}}function _i(i,t){i&1&&(o(0,"div",84),w(),o(1,"svg",85),v(2,"path",35),l()())}function ui(i,t){i&1&&v(0,"div",152)}function gi(i,t){i&1&&(o(0,"div",84),w(),o(1,"svg",85),v(2,"path",35),l()())}function vi(i,t){i&1&&v(0,"div",152)}function fi(i,t){i&1&&(o(0,"div",84),w(),o(1,"svg",85),v(2,"path",35),l()())}function hi(i,t){if(i&1&&v(0,"div",153),i&2){let e=m(2);s("ngClass",E(1,Je,!e.isSoomSelected(),e.isSoomSelected()))}}function yi(i,t){i&1&&(o(0,"div",84),w(),o(1,"svg",85),v(2,"path",35),l()())}function xi(i,t){if(i&1&&v(0,"div",153),i&2){let e=m(2);s("ngClass",E(1,Je,!e.isSoomSelected(),e.isSoomSelected()))}}function bi(i,t){i&1&&(o(0,"div",154)(1,"h4",155),c(2),y(3,"translate"),l(),o(4,"p",156),c(5),y(6,"translate"),l(),o(7,"div",157)(8,"label",158),c(9),y(10,"translate"),l(),o(11,"div",159)(12,"div",160)(13,"span",161),c(14),y(15,"translate"),l()(),v(16,"input",162),l()()()),i&2&&(a(2),C(x(3,4,"FORM.SOOM_SETTINGS")),a(3),S(" ",x(6,6,"FORM.SOOM_DESCRIPTION")," "),a(4),S(" ",x(10,8,"FORM.AUTO_DECLINE")," "),a(5),C(x(15,10,"COMMON.CURRENCY")))}function Fi(i,t){i&1&&(o(0,"div",39)(1,"label",163),c(2),y(3,"translate"),l(),o(4,"div",159)(5,"div",160)(6,"span",161),c(7),y(8,"translate"),l()(),v(9,"input",164),l()()),i&2&&(a(2),C(x(3,2,"COMMON.PRICE")),a(5),C(x(8,4,"COMMON.CURRENCY")))}function Ci(i,t){if(i&1&&(o(0,"option",100),c(1),l()),i&2){let e=t.$implicit;s("value",e.id),a(),S(" ",e.name," ")}}function Si(i,t){if(i&1&&(o(0,"option",100),c(1),l()),i&2){let e=t.$implicit;s("value",e.id),a(),S(" ",e.name," ")}}function wi(i,t){if(i&1){let e=P();o(0,"button",165),h("click",function(){u(e);let r=m(2);return g(r.previousStep())}),c(1),y(2,"translate"),l()}i&2&&(a(),S(" ",x(2,1,"FORM.BACK")," "))}function Pi(i,t){if(i&1){let e=P();o(0,"div",121)(1,"div",37)(2,"h2",122),c(3),y(4,"translate"),l(),o(5,"form",36)(6,"div",123)(7,"div",124)(8,"label",125),c(9),y(10,"translate"),l(),o(11,"div",126),c(12),l()(),o(13,"div",124)(14,"label",125),c(15),y(16,"translate"),o(17,"span",127),c(18),y(19,"translate"),l()(),o(20,"div",126),c(21),l()()(),o(22,"div",39)(23,"label",128),c(24),y(25,"translate"),l(),v(26,"input",129),y(27,"translate"),l(),o(28,"div",39)(29,"label",94),c(30),y(31,"translate"),o(32,"span",95),w(),o(33,"svg",96),v(34,"path",97),l()()(),V(),v(35,"textarea",130),y(36,"translate"),p(37,pi,3,2,"div",99),l(),o(38,"div",39)(39,"label",57),c(40),y(41,"translate"),l(),o(42,"div",131)(43,"div",132)(44,"div",133),h("click",function(){let r;u(e);let d=m();return g((r=d.adDetailsForm.get("allow_submission"))==null?null:r.setValue("false"))}),o(45,"div",134)(46,"span",135),c(47),y(48,"translate"),l(),p(49,_i,3,0,"div",63)(50,ui,1,0,"div",136),l()()(),o(51,"div",132)(52,"div",133),h("click",function(){let r;u(e);let d=m();return g((r=d.adDetailsForm.get("allow_submission"))==null?null:r.setValue("true"))}),o(53,"div",134)(54,"span",135),c(55),y(56,"translate"),l(),p(57,gi,3,0,"div",63)(58,vi,1,0,"div",136),l()()()()(),o(59,"div",39)(60,"label",57),c(61),y(62,"translate"),l(),o(63,"div",131)(64,"div",132)(65,"div",137),h("click",function(){let r;u(e);let d=m();return g(!d.isSoomSelected()&&((r=d.adDetailsForm.get("contacting_channel"))==null?null:r.setValue("phone")))}),o(66,"div",134)(67,"span",138),c(68),y(69,"translate"),l(),p(70,fi,3,0,"div",63)(71,hi,1,4,"div",139),l()()(),o(72,"div",132)(73,"div",137),h("click",function(){let r;u(e);let d=m();return g(!d.isSoomSelected()&&((r=d.adDetailsForm.get("contacting_channel"))==null?null:r.setValue("whatsapp")))}),o(74,"div",134)(75,"span",138),c(76),y(77,"translate"),l(),p(78,yi,3,0,"div",63)(79,xi,1,4,"div",139),l()()()(),p(80,bi,17,12,"div",140),l(),p(81,Fi,10,6,"div",106),o(82,"div",39)(83,"label",57),c(84),y(85,"translate"),l(),o(86,"select",141),h("change",function(r){u(e);let d=m();return g(d.onCountryChangecities(r))}),o(87,"option",142),c(88),y(89,"translate"),l(),p(90,Ci,2,2,"option",89),l()(),o(91,"div",39)(92,"label",143),c(93),y(94,"translate"),l(),o(95,"div",104)(96,"select",144)(97,"option",142),c(98),y(99,"translate"),l(),p(100,Si,2,2,"option",89),l()()(),o(101,"div",39)(102,"label",145),c(103),y(104,"translate"),l(),o(105,"div",131)(106,"div",146)(107,"span",135),c(108),y(109,"translate"),l(),v(110,"input",147),l(),o(111,"div",146)(112,"span",135),c(113),y(114,"translate"),l(),v(115,"input",148),l()()(),o(116,"div",149),p(117,wi,3,3,"button",150),o(118,"button",151),h("click",function(){u(e);let r=m();return g(r.goToNextStep())}),c(119),y(120,"translate"),l()()()()()}if(i&2){let e,n,r,d,f,I,D,N,G,W,B,H,j,b=m();a(3),S("2. ",x(4,46,"FORM.AD_DETAILS"),""),a(2),s("formGroup",b.adDetailsForm),a(4),C(x(10,48,"FORM.YOUR_NAME")),a(3),K("",b.user==null?null:b.user.first_name," ",b.user==null?null:b.user.last_name,""),a(3),S("",x(16,50,"FORM.PHONE_NUMBER")," "),a(3),S("(",x(19,52,"FORM.HELPS_CONTACT"),")"),a(3),C(b.user==null?null:b.user.phone),a(3),C(x(25,54,"FORM.AD_NAME")),a(2),J("placeholder",x(27,56,"FORM.AD_NAME_PLACEHOLDER")),a(4),S(" ",x(31,58,"FORM.DESCRIPTION")," "),a(5),J("placeholder",x(36,60,"FORM.DESCRIPTION_PLACEHOLDER")),a(2),s("ngIf",((e=b.adDetailsForm.get("description"))==null?null:e.touched)&&((e=b.adDetailsForm.get("description"))==null?null:e.errors)),a(3),C(x(41,62,"FORM.CONTACT_METHOD")),a(4),s("ngClass",E(90,k,((n=b.adDetailsForm.get("allow_submission"))==null?null:n.value)==="false",((n=b.adDetailsForm.get("allow_submission"))==null?null:n.value)!=="false")),a(3),C(x(48,64,"FORM.DIRECT")),a(2),s("ngIf",((r=b.adDetailsForm.get("allow_submission"))==null?null:r.value)==="false"),a(),s("ngIf",((d=b.adDetailsForm.get("allow_submission"))==null?null:d.value)!=="false"),a(2),s("ngClass",E(93,k,((f=b.adDetailsForm.get("allow_submission"))==null?null:f.value)==="true",((f=b.adDetailsForm.get("allow_submission"))==null?null:f.value)!=="true")),a(3),C(x(56,66,"FORM.SOOM")),a(2),s("ngIf",((I=b.adDetailsForm.get("allow_submission"))==null?null:I.value)==="true"),a(),s("ngIf",((D=b.adDetailsForm.get("allow_submission"))==null?null:D.value)!=="true"),a(3),C(x(62,68,"FORM.CONTACT_CHANNELS")),a(4),s("ngClass",ne(96,ze,((N=b.adDetailsForm.get("contacting_channel"))==null?null:N.value)==="phone",((N=b.adDetailsForm.get("contacting_channel"))==null?null:N.value)!=="phone",b.isSoomSelected(),!b.isSoomSelected())),a(2),s("ngClass",ie(101,Ke,b.isSoomSelected())),a(),C(x(69,70,"FORM.PHONE")),a(2),s("ngIf",((G=b.adDetailsForm.get("contacting_channel"))==null?null:G.value)==="phone"&&!b.isSoomSelected()),a(),s("ngIf",((W=b.adDetailsForm.get("contacting_channel"))==null?null:W.value)!=="phone"||b.isSoomSelected()),a(2),s("ngClass",ne(103,ze,((B=b.adDetailsForm.get("contacting_channel"))==null?null:B.value)==="whatsapp",((B=b.adDetailsForm.get("contacting_channel"))==null?null:B.value)!=="whatsapp",b.isSoomSelected(),!b.isSoomSelected())),a(2),s("ngClass",ie(108,Ke,b.isSoomSelected())),a(),C(x(77,72,"FORM.WHATSAPP")),a(2),s("ngIf",((H=b.adDetailsForm.get("contacting_channel"))==null?null:H.value)==="whatsapp"&&!b.isSoomSelected()),a(),s("ngIf",((j=b.adDetailsForm.get("contacting_channel"))==null?null:j.value)!=="whatsapp"||b.isSoomSelected()),a(),s("ngIf",b.isSoomSelected()),a(),s("ngIf",!b.isSoomSelected()),a(3),C(x(85,74,"FORM.COUNTRY")),a(4),C(x(89,76,"FORM.SELECT_COUNTRY")),a(2),s("ngForOf",b.countries),a(3),C(x(94,78,"FORM.CITY")),a(5),C(x(99,80,"FORM.SELECT_CITY")),a(2),s("ngForOf",b.filteredCities),a(3),C(x(104,82,"FORM.SELLER_TYPE")),a(5),C(x(109,84,"FORM.MIDDLEMAN")),a(5),C(x(114,86,"FORM.OWNER")),a(4),s("ngIf",b.currentStep>1),a(2),S(" ",x(120,88,"FORM.NEXT")," ")}}function Ei(i,t){if(i&1&&(o(0,"span",195),c(1),l()),i&2){let e=m(2);a(),K(" ",e.pricingInfo.converted_price," ",e.pricingInfo.currency_symbol," ")}}function Ii(i,t){if(i&1&&(o(0,"span",196),c(1),l()),i&2){let e=m(2);a(),K(" ",e.discountedPrice," ",e.pricingInfo.currency_symbol," ")}}function Ti(i,t){if(i&1&&(o(0,"span",197),c(1),l()),i&2){let e=m(2);a(),K(" ",e.pricingInfo.converted_price," ",e.pricingInfo.currency_symbol," ")}}function Vi(i,t){i&1&&(o(0,"span"),c(1,"Apply"),l())}function ki(i,t){i&1&&(o(0,"span"),c(1,"Applying..."),l())}function Mi(i,t){if(i&1){let e=P();o(0,"button",198),h("click",function(){u(e);let r=m(2);return g(r.applyPromoCode())}),p(1,Vi,2,0,"span",7)(2,ki,2,0,"span",7),l()}if(i&2){let e=m(2);s("disabled",e.promoLoading||!e.promoCode),a(),s("ngIf",!e.promoLoading),a(),s("ngIf",e.promoLoading)}}function Oi(i,t){if(i&1){let e=P();o(0,"button",199),h("click",function(){u(e);let r=m(2);return g(r.removePromoCode())}),c(1," Remove "),l()}}function Di(i,t){i&1&&(o(0,"div",200)(1,"div",201)(2,"span"),c(3,"Promocode applied!"),l(),w(),o(4,"svg",202),v(5,"path",203),l()(),V(),o(6,"button",204),c(7," Applied "),l()())}function Ni(i,t){if(i&1&&(o(0,"div",205),c(1),l()),i&2){let e=m(2);a(),S(" ",e.promoError," ")}}function Bi(i,t){i&1&&v(0,"div",217)}function Ai(i,t){i&1&&v(0,"img",218)}function Li(i,t){i&1&&v(0,"img",219)}function Ri(i,t){i&1&&(o(0,"span",220),c(1," Default "),l())}function qi(i,t){if(i&1){let e=P();o(0,"div",209),h("click",function(){let r=u(e).$implicit,d=m(3);return g(d.selectPaymentMethod("card",r.id))}),o(1,"div",210)(2,"div",211)(3,"div",190),p(4,Bi,1,0,"div",191),l(),o(5,"div")(6,"div",31),c(7),l(),o(8,"div",212),c(9),l(),o(10,"div",213),c(11),l()()(),o(12,"div",189),p(13,Ai,1,0,"img",214)(14,Li,1,0,"img",215)(15,Ri,2,0,"span",216),l()()()}if(i&2){let e=t.$implicit,n=m(3);U("border-red-500",(n.selectedPaymentMethod==null?null:n.selectedPaymentMethod.type)==="card"&&(n.selectedPaymentMethod==null?null:n.selectedPaymentMethod.id)===e.id)("bg-red-50",(n.selectedPaymentMethod==null?null:n.selectedPaymentMethod.type)==="card"&&(n.selectedPaymentMethod==null?null:n.selectedPaymentMethod.id)===e.id),a(3),U("border-red-500",(n.selectedPaymentMethod==null?null:n.selectedPaymentMethod.type)==="card"&&(n.selectedPaymentMethod==null?null:n.selectedPaymentMethod.id)===e.id)("border-gray-300",!((n.selectedPaymentMethod==null?null:n.selectedPaymentMethod.type)==="card"&&(n.selectedPaymentMethod==null?null:n.selectedPaymentMethod.id)===e.id)),a(),s("ngIf",(n.selectedPaymentMethod==null?null:n.selectedPaymentMethod.type)==="card"&&(n.selectedPaymentMethod==null?null:n.selectedPaymentMethod.id)===e.id),a(3),C(e.card_holder_name),a(2),S("\u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 ",e.card_number.slice(-4),""),a(2),S("Expires: ",e.expiration_date,""),a(2),s("ngIf",e.card_type_id===1||e.card_number.startsWith("4")),a(),s("ngIf",e.card_type_id===2||e.card_number.startsWith("5")),a(),s("ngIf",e.is_default)}}function Gi(i,t){if(i&1&&(o(0,"div",112)(1,"h4",206),c(2,"Your Saved Cards"),l(),o(3,"div",207),p(4,qi,16,15,"div",208),l()()),i&2){let e=m(2);a(4),s("ngForOf",e.user.bank_cards)}}function ji(i,t){i&1&&v(0,"div",217)}function Ui(i,t){i&1&&v(0,"div",217)}function Yi(i,t){i&1&&(o(0,"div",221)(1,"p",222),c(2,"No saved cards found. Please add a new card or choose an alternative payment method."),l()())}function $i(i,t){if(i&1){let e=P();o(0,"button",165),h("click",function(){u(e);let r=m(2);return g(r.previousStep())}),c(1," Back "),l()}}function Wi(i,t){if(i&1){let e=P();o(0,"div",166)(1,"h2",167),c(2,"3. Checkout"),l(),o(3,"div",168)(4,"div",169)(5,"span",31),c(6,"Ad Fees"),l(),o(7,"div"),p(8,Ei,2,2,"span",170)(9,Ii,2,2,"span",171)(10,Ti,2,2,"span",172),l()(),o(11,"p",32),c(12,"One time fees, if you delete the ad you will be charged again"),l()(),o(13,"div",39)(14,"div",173)(15,"div",174)(16,"input",175),q("ngModelChange",function(r){u(e);let d=m();return R(d.promoCode,r)||(d.promoCode=r),g(r)}),l()(),p(17,Mi,3,3,"button",176)(18,Oi,2,0,"button",177),l(),p(19,Di,8,0,"div",178)(20,Ni,2,1,"div",179),l(),o(21,"div",39)(22,"h3",180),c(23,"Payment"),l(),o(24,"p",181),c(25,"All transactions are secure and encrypted"),l(),p(26,Gi,5,1,"div",182),o(27,"div",183),h("click",function(){u(e);let r=m();return g(r.addNewCard())}),o(28,"div",184),w(),o(29,"svg",185),v(30,"path",186),l(),V(),o(31,"span"),c(32,"Add new credit/debit card"),l()()(),o(33,"div",187)(34,"div",188),h("click",function(){u(e);let r=m();return g(r.selectPaymentMethod("tamara"))}),o(35,"div",189)(36,"div",190),p(37,ji,1,0,"div",191),l(),o(38,"span"),c(39,"Tamara"),l()(),o(40,"div",192),c(41,"tamara"),l()(),o(42,"div",188),h("click",function(){u(e);let r=m();return g(r.selectPaymentMethod("tabby"))}),o(43,"div",189)(44,"div",190),p(45,Ui,1,0,"div",191),l(),o(46,"span"),c(47,"Tabby"),l()(),o(48,"div",193),c(49,"tabby"),l()()(),p(50,Yi,3,0,"div",194),l(),o(51,"div",149),p(52,$i,2,0,"button",150),o(53,"button",151),h("click",function(){u(e);let r=m();return g(r.goToNextStep())}),c(54," Next "),l()()()}if(i&2){let e=m();a(8),s("ngIf",e.isPromoApplied),a(),s("ngIf",e.isPromoApplied),a(),s("ngIf",!e.isPromoApplied),a(6),L("ngModel",e.promoCode),s("readonly",e.isPromoApplied),a(),s("ngIf",!e.isPromoApplied),a(),s("ngIf",e.isPromoApplied),a(),s("ngIf",e.isPromoApplied),a(),s("ngIf",e.promoError),a(6),s("ngIf",e.user==null||e.user.bank_cards==null?null:e.user.bank_cards.length),a(8),U("border-red-500",(e.selectedPaymentMethod==null?null:e.selectedPaymentMethod.type)==="tamara")("bg-red-50",(e.selectedPaymentMethod==null?null:e.selectedPaymentMethod.type)==="tamara"),a(2),U("border-red-500",(e.selectedPaymentMethod==null?null:e.selectedPaymentMethod.type)==="tamara")("border-gray-300",(e.selectedPaymentMethod==null?null:e.selectedPaymentMethod.type)!=="tamara"),a(),s("ngIf",(e.selectedPaymentMethod==null?null:e.selectedPaymentMethod.type)==="tamara"),a(5),U("border-red-500",(e.selectedPaymentMethod==null?null:e.selectedPaymentMethod.type)==="tabby")("bg-red-50",(e.selectedPaymentMethod==null?null:e.selectedPaymentMethod.type)==="tabby"),a(2),U("border-red-500",(e.selectedPaymentMethod==null?null:e.selectedPaymentMethod.type)==="tabby")("border-gray-300",(e.selectedPaymentMethod==null?null:e.selectedPaymentMethod.type)!=="tabby"),a(),s("ngIf",(e.selectedPaymentMethod==null?null:e.selectedPaymentMethod.type)==="tabby"),a(5),s("ngIf",!(!(e.user==null||e.user.bank_cards==null)&&e.user.bank_cards.length)&&(e.selectedPaymentMethod==null?null:e.selectedPaymentMethod.type)==="card"),a(2),s("ngIf",e.currentStep>1)}}function Hi(i,t){i&1&&(o(0,"div",223),c(1,` Listing submitted successfully!
`),l())}function zi(i,t){if(i&1&&(o(0,"div",224),c(1),l()),i&2){let e=m();a(),S(" ",e.errorMessage,`
`)}}var Qe=class i{constructor(t,e,n,r,d,f,I,D){this.fb=t;this.listingService=e;this.sharedFormDataService=n;this.translate=r;this.router=d;this.route=f;this.userService=I;this.platformId=D;this.translate.setDefaultLang("en"),Ce(this.platformId)&&this.translate.use("en"),this.postingAnAd=this.fb.group({}),this.vehicleForm=this.fb.group({category_id:[1,_.required],vehicleType:["motorcycle",_.required],images:[],brand_id:["",_.required],model_id:["",_.required],year_id:["",_.required],body_condition:["As New",_.required],modified:["No",_.required],insurance:["Yes",_.required],general_condition:["Used",_.required],vehicle_care:["Wakeel",_.required],engine:["",[_.required,_.min(1)]],mileage:["",[_.required,_.min(0)]],transmission:["Automatic",_.required]}),this.bikeForm=this.fb.group({category_id:[2,_.required],images:[[]],bike_part_brand_id:["",_.required],bike_part_category_id:["",_.required],brand_id:["",_.required],model_id:["",_.required],year_id:[""],condition:["new",_.required],description:["",[_.required,_.minLength(20)]]}),this.platesForm=this.fb.group({type_id:[1,_.required],category_id:[3,_.required],plateFormat:["numbers-alphabets",_.required],country_id_lp:[,_.required],city_id_lp:[,_.required],firstAlphabet:[null],secondAlphabet:[null],thirdAlphabet:[null]}),this.adDetailsForm=this.fb.group({title:["",[_.required,_.minLength(5),_.maxLength(100)]],description:["",[_.required,_.minLength(20)]],allow_submission:["",_.required],contacting_channel:[""],price:[null],country:["",_.required],city:["",_.required],seller_type:["",_.required],minimum_bid:[0]}),this.checkoutForm=this.fb.group({agreeToTerms:[!1,_.requiredTrue]})}currentStep=1;fileInput;uploadedImages=[];uploadedImageUrls=[];maxImages=10;requiredImages=4;pricingInfo=null;promoCode="";isPromoApplied=!1;promoLoading=!1;promoError=null;discountedPrice=null;vehicleFormData=null;vehicleForm;adDetailsForm;checkoutForm;bikeForm;postingAnAd;maxSteps=3;isSubmitting=!1;submissionSuccess=!1;submissionError=!1;errorMessage="";vehicleOptions=[{category_id:1,id:"motorcycle",name:"Motorcycle",icon:"motorcycle-icon",note:"Fees depend on the type",imageUrl:"/pictures/motoIconPostingAdd.svg"},{category_id:2,id:"bike-part",name:"Bike Part",icon:"bike-part-icon",note:"Fees depend on the type",imageUrl:"/pictures/Remarquespart.svg"},{category_id:3,id:"license-plate",name:"License Plate",icon:"license-plate-icon",note:"SAR 300",imageUrl:"/pictures/licensePlate.svg"}];uploadedFiles=[];iconPath=[{id:"motorcycle",path:"assets/icons/motorcycle.svg"},{id:"bike-part",path:"assets/icons/Remarquespart.svg"},{id:"license-plate",path:"assets/licensePlate.svg"}];plateFormatOptions=[{type_id:1,id:"numbers-alphabets",label:"Numbers & Alphabets",selected:!0},{type_id:2,id:"numbers-only",label:"Numbers Only",selected:!1}];brandsPart=[];partCategory=[];selectedVehicleType=1;brands=[];models=[];years=[];cities=[];bodyConditions=["As New","Remarques","Needs some fixes"];partsConditions=["New","Used"];vehicleCareOptions=["Wakeel","USA","Europe","GCC","Customs License"];transmissionTypes=["Automatic","Manual","Semi-Automatic"];steps=[{title:"Filling Product Details",subtitle:"Please provide your name and email"},{title:"Ad & Contact Details",subtitle:"Details needed for customers to contact you"},{title:"Checkout",subtitle:"Start collaborating with your team"}];sellerTypeOptions=[{value:"middleman",label:"Middleman"},{value:"owner",label:"Selling your own vehicle"}];selectedType=null;cardDetails={name:"Olivia Rhye",expiry:"06 2024",number:"1234 1234 1234 1234",cvv:"***"};adFees={original:100,discounted:90};promocode="WELCOME10";promocodeApplied=!0;paymentMethods=[{id:"card",name:"Credit/Debit Card",selected:!0},{id:"tamara",name:"Tamara",selected:!1,badge:"tamara"},{id:"tabby",name:"Tabby",selected:!1,badge:"tabby"}];draftLicensePlateFieldValues=[];platesForm;countries=[];allCities=[];filteredCities=[];dynamicFields=[];selectedPlateFormat=null;listingId=null;user=null;isLoadingDraft=!1;selectedPaymentMethod=null;showAddCardForm=!1;brandSearchTerm="";modelSearchTerm="";yearSearchTerm="";filteredBrands=[];filteredModels=[];filteredYears=[];showBrandDropdown=!1;showModelDropdown=!1;showYearDropdown=!1;ngOnInit(){this.adDetailsForm.get("allow_submission")?.valueChanges.subscribe(e=>{e==="true"?(this.adDetailsForm.get("contacting_channel")?.setValue(""),this.adDetailsForm.get("contacting_channel")?.clearValidators(),this.adDetailsForm.get("contacting_channel")?.updateValueAndValidity()):(this.adDetailsForm.get("contacting_channel")?.setValidators([_.required]),this.adDetailsForm.get("contacting_channel")?.updateValueAndValidity())}),this.userService.userProfile$.subscribe(e=>{e&&(this.user=e.user)});let t=this.route.snapshot.queryParamMap.get("draftId");t&&this.loadDraftData(+t),this.loadBrands(),this.getPartCategoryList(),this.getBrandPartList(),this.initForm(),this.loadCities(),this.setupFormListeners(),this.loadCitys(),this.platesForm.get("country_id_lp")?.valueChanges.subscribe(e=>{this.isLoadingDraft||this.onCountryChange(e)}),this.platesForm.get("city_id_lp")?.valueChanges.subscribe(e=>{this.isLoadingDraft||this.onCitySelected(e)})}validateContactChannelForDirect(){let t=this.adDetailsForm.get("allow_submission")?.value,e=this.adDetailsForm.get("contacting_channel")?.value;return t==="true"?!0:t==="false"&&!e?(this.adDetailsForm.get("contacting_channel")?.setErrors({required:!0}),!1):!0}getDefaultBankCardId(){if(!this.user||!this.user.bank_cards||this.user.bank_cards.length===0)return console.warn("No bank cards found for user"),null;let t=this.user.bank_cards.find(e=>e.is_default);return t?t.id:this.user.bank_cards[0].id}selectPaymentMethod(t,e){if(this.selectedPaymentMethod={type:t,id:e},t==="card"&&!e&&this.user?.bank_cards?.length){let n=this.user.bank_cards.find(r=>r.is_default);n?this.selectedPaymentMethod.id=n.id:this.selectedPaymentMethod.id=this.user.bank_cards[0].id}}addNewCard(){this.router.navigate(["/payment-methods/add"])}loadDraftData(t){this.listingService.getSingleDraft(t).subscribe({next:e=>{let n=e?.data;if(n){if(this.selectVehicleType(n.category_id),n.license_plate){let r=n.license_plate;this.isLoadingDraft=!0,this.platesForm.patchValue({country_id_lp:n.license_plate.country_id,city_id_lp:n.license_plate.city_id,plate_format_id:n.license_plate.plate_format_id}),setTimeout(()=>{this.patchDynamicFieldValues(n.license_plate.field_values.map(f=>({id:f.id,controlName:f.field_value})))},300),this.dynamicFields=n.license_plate.field_values.map(f=>{let I=f.format_field;return O(T({},I),{controlName:`${I.field_name}_${I.id}`})}),this.addDynamicFieldsToForm();let d=r.field_values;d?.length&&(this.addDynamicFieldsToForm(),Promise.resolve().then(()=>{this.patchDynamicFieldValues(d)}))}if(n.motorcycle){let{brand_id:r,model_id:d,year_id:f}=n.motorcycle;this.vehicleForm.patchValue({brand_id:r,model_id:d,year_id:f,engine:parseInt(n.motorcycle.engine),mileage:n.motorcycle.mileage,body_condition:n.motorcycle.body_condition,modified:n.motorcycle.modified?"Yes":"No",insurance:n.motorcycle.insurance?"Yes":"No",general_condition:n.motorcycle.general_condition,vehicle_care:n.motorcycle.vehicle_care,transmission:n.motorcycle.transmission}),this.uploadedImageUrls=n.images.map(I=>I.image_url),this.listingService.getMotorcycleFilters({brand_id:r}).subscribe(I=>{this.models=I.data.models||[],this.listingService.getMotorcycleFilters({brand_id:r,model_id:d}).subscribe(D=>{this.years=D.data.years.map(N=>({id:N.id,year:N.year}))})})}if(n.spare_part){let r=n.spare_part.motorcycles?.[0];this.bikeForm.patchValue({brand_id:r?.brand_id||"",model_id:r?.model_id||"",year_id:r?.year_id||"",bike_part_brand_id:n.spare_part.bike_part_brand_id,bike_part_category_id:n.spare_part.bike_part_category_id,general_condition:n.spare_part.condition,description:n.description}),this.uploadedImageUrls=n.images.map(d=>d.image_url),r?.brand_id&&this.listingService.getMotorcycleFilters({brand_id:r.brand_id}).subscribe(d=>{this.models=d.data.models||[],r?.model_id&&this.listingService.getMotorcycleFilters({brand_id:r.brand_id,model_id:r.model_id}).subscribe(f=>{this.years=f.data.years||[]})})}this.adDetailsForm.patchValue({title:n.title,description:n.description,price:n.price,city:n.city_id,country:n.country_id,listing_type_id:n.listing_type_id,contacting_channel:n.contacting_channel,seller_type:n.seller_type,allow_submission:n.allow_submission?"true":"false",minimum_bid:n.minimum_bid}),this.uploadedImages=(n.images||[]).map(r=>({preview:r.image_url,serverUrl:r.image_url,file:void 0})),this.currentStep=n.step||1}},error:e=>{console.error("\u274C Failed to load draft:",e)}})}patchDynamicFieldValues(t){t.forEach(e=>{let n=this.dynamicFields.find(r=>r.id===e.plate_format_field_id);if(n){let r=n.controlName;this.platesForm.get(r)?.patchValue(e.field_value)}else console.warn(`\u26A0\uFE0F No dynamic field found for id ${e.plate_format_field_id}`)})}initForm(){this.platesForm=this.fb.group({country_id_lp:[null,_.required],city_id_lp:[null,_.required],plate_format_id:[null,_.required]})}allowOnlyDigits(t,e="latin"){let n=t.key;e==="arabic"?/^[\u0660-\u0669]+$/.test(n)||t.preventDefault():/^[0-9]+$/.test(n)||t.preventDefault()}allowOnlyLetters(t,e="latin"){let n=t.key;e==="arabic"?/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\s]+$/.test(n)||t.preventDefault():/^[a-zA-Z\s]+$/.test(n)||t.preventDefault()}logFormStatus(){Object.keys(this.platesForm.controls).forEach(t=>{let e=this.platesForm.get(t)})}loadCities(){this.listingService.getCityList().subscribe(t=>{this.countries=t.countries,this.allCities=t.cities})}setupFormListeners(){this.platesForm.get("country_id_lp")?.valueChanges.subscribe(t=>{this.onCountryChange(t)}),this.platesForm.get("city_id_lp")?.valueChanges.subscribe(t=>{t&&this.onCitySelected(t)})}onCountryChange(t){t&&(this.filteredCities=this.allCities.filter(e=>e.country_id===+t),this.platesForm.patchValue({city_id_lp:null}),this.clearDynamicFields())}getControlName(t){return`${t.field_name}_${t.id}`}getValidatorsForField(t){let e=[];return t.is_required&&e.push(_.required),t.min_length&&e.push(_.minLength(t.min_length)),t.max_length&&e.push(_.maxLength(t.max_length)),t.character_type==="letter"?t.writing_system==="latin"?e.push(_.pattern(/^[a-zA-Z]+$/)):t.writing_system==="arabic"&&e.push(_.pattern(/^[\u0600-\u06FF\s]+$/)):t.character_type==="digit"&&(t.writing_system==="latin"?e.push(_.pattern(/^[0-9]+$/)):t.writing_system==="arabic"&&e.push(_.pattern(/^[\u0660-\u0669]+$/))),t.validation_pattern&&e.push(_.pattern(t.validation_pattern)),e}clearDynamicFields(){Object.keys(this.platesForm.controls).forEach(t=>{["country_id_lp","city_id_lp","plate_format_id","type_id"].includes(t)||this.platesForm.removeControl(t)}),this.dynamicFields=[],this.selectedPlateFormat=null}onCitySelected(t){if(this.clearDynamicFields(),!t){this.platesForm.get("city_id_lp")?.markAsTouched();return}this.listingService.getPlateFormat(t).subscribe({next:e=>{e.formats?.length>0?(this.selectedPlateFormat=e.formats[0],this.dynamicFields=this.selectedPlateFormat.fields,this.platesForm.patchValue({plate_format_id:this.selectedPlateFormat.id,type_id:this.selectedPlateFormat.type_id||1}),this.addDynamicFieldsToForm(),this.platesForm.updateValueAndValidity()):(this.selectedPlateFormat=null,this.platesForm.get("city_id_lp")?.setErrors({noFormat:!0}))},error:e=>{console.error("Error fetching plate formats:",e),this.selectedPlateFormat=null,this.platesForm.get("city_id_lp")?.setErrors({apiError:!0})}})}addDynamicFieldsToForm(){this.dynamicFields.forEach(t=>{let e=`field_${t.id}`;t.controlName=e;let n=this.getValidatorsForField(t);this.platesForm.contains(e)||this.platesForm.addControl(e,new M("",n))})}allRequiredFieldsFilled(){return!this.platesForm.get("country_id_lp")?.value||!this.platesForm.get("city_id_lp")?.value?!1:this.dynamicFields.every(t=>{if(!t.is_required)return!0;let e=this.platesForm.get(t.controlName)?.value;return e!=null&&e!==""})}loadCitys(){this.listingService.getCityList().subscribe(t=>{this.countries=t.countries,this.allCities=t.cities})}onCountryChangecities(t){let e=Number(t.target.value);this.filteredCities=this.allCities.filter(n=>n.country_id===e)}updatePlateFormWithDynamicFields(t){this.platesForm.contains("type_id")||this.platesForm.addControl("type_id",new M("",_.required)),this.platesForm.contains("plateFormat")||this.platesForm.addControl("plateFormat",new M("",_.required)),this.platesForm.patchValue({plateFormat:this.selectedPlateFormat.id,type_id:this.selectedPlateFormat.type_id}),this.dynamicFields=t.map(e=>{let n=`${e.field_name}_${e.id}`;return this.platesForm.contains(n)||this.platesForm.addControl(n,new M("",this.getValidatorsForField(e))),O(T({},e),{controlName:n})}),this.draftLicensePlateFieldValues?.length&&this.patchDynamicFieldValues(this.draftLicensePlateFieldValues)}generateDynamicPlateForm(t){let e={type_id:new M(this.selectedPlateFormat?.type_id||null,_.required),country_id_lp:new M(this.platesForm.get("country_id_lp")?.value,_.required),city_id_lp:new M(this.platesForm.get("city_id_lp")?.value,_.required),category_id:new M(3,_.required),plateFormat:new M(this.selectedPlateFormat?.id,_.required)};t.forEach(n=>{let r=[];n.is_required&&r.push(_.required),n.min_length&&r.push(_.minLength(n.min_length)),n.max_length&&r.push(_.maxLength(n.max_length)),n.validation_pattern&&r.push(_.pattern(n.validation_pattern)),e[n.field_name]=new M("",r)}),this.platesForm=new re(e),this.platesForm.get("city_id_lp")?.valueChanges.subscribe(n=>{n&&n!==this.platesForm.get("city_id_lp")?.value&&this.onCitySelected(n)})}loadPlateForm(t){let e={};t.forEach(n=>{let r=[];n.is_required&&r.push(_.required),n.min_length&&r.push(_.minLength(n.min_length)),n.max_length&&r.push(_.maxLength(n.max_length)),n.validation_pattern&&r.push(_.pattern(n.validation_pattern)),e[n.field_name]=new M("",r)}),this.platesForm=new re(e)}getBrandPartList(){this.listingService.getBrandPartList().subscribe(t=>{this.brandsPart=t.bike_part_brands})}getPartCategoryList(){this.listingService.getPartCategoryList().subscribe(t=>{this.partCategory=t.bike_part_categories})}isSoomSelected(){return this.adDetailsForm.get("allow_submission")?.value==="true"}selectType(t){this.selectedType=t}highlightInvalidControls(t){Object.keys(t.controls).forEach(e=>{let n=t.get(e);n&&n.invalid&&console.warn(`Invalid control: ${e}`,n.errors)})}goToStep(t){this.currentStep=t}createCheckoutForm(){this.checkoutForm=this.fb.group({agreeToTerms:[!1,_.requiredTrue]})}atLeastOneContactMethodValidator(t){let e=t.get("direct")?.value,n=t.get("soom")?.value,r=t.get("phone")?.value,d=t.get("whatsapp")?.value;return e||n||r||d?null:{noContactMethod:!0}}loadBrands(){this.listingService.getMotorcycleBrands().subscribe(t=>{this.brands=t.data})}filterBrands(){this.filteredBrands=this.brands.filter(t=>t.name.toLowerCase().includes(this.brandSearchTerm.toLowerCase())),this.showBrandDropdown=!0}filterModels(){this.filteredModels=this.models.filter(t=>t.name.toLowerCase().includes(this.modelSearchTerm.toLowerCase())),this.showModelDropdown=!0}filterYears(){this.filteredYears=this.years.filter(t=>t.year.toString().includes(this.yearSearchTerm)),this.showYearDropdown=!0}selectBrand(t){this.brandSearchTerm=t.name,this.vehicleForm.patchValue({brand_id:t.id}),this.bikeForm.patchValue({brand_id:t.id}),this.showBrandDropdown=!1,this.onBrandChange(t.id)}selectModel(t){this.modelSearchTerm=t.name,this.vehicleForm.patchValue({model_id:t.id}),this.bikeForm.patchValue({model_id:t.id}),this.showModelDropdown=!1,this.onModelChange(t.id)}selectYear(t){this.yearSearchTerm=t.year.toString(),this.vehicleForm.patchValue({year_id:t.id}),this.bikeForm.patchValue({year_id:t.id}),this.showYearDropdown=!1}onBrandChange(t){this.models=[],this.years=[],this.modelSearchTerm="",this.yearSearchTerm="",this.filteredModels=[],this.filteredYears=[],this.vehicleForm.patchValue({model_id:"",year_id:""}),this.bikeForm.patchValue({model_id:"",year_id:""}),t&&this.listingService.getMotorcycleModels(t).subscribe(e=>{this.models=e.data,this.filteredModels=e.data})}onModelChange(t){this.years=[],this.yearSearchTerm="",this.filteredYears=[],this.vehicleForm.patchValue({year_id:""}),this.bikeForm.patchValue({year_id:""}),t&&this.listingService.getMotorcycleYears(t).subscribe(e=>{this.years=e.data,this.filteredYears=e.data})}get contactMethodsFormGroup(){return this.adDetailsForm.get("contactMethods")}handleFileInput(t){let e=t.target;if(!e.files)return;Array.from(e.files).slice(0,this.maxImages-this.uploadedImages.length).forEach(r=>{if(r.size>5*1024*1024){alert(`File ${r.name} is too large. Maximum size is 5MB.`);return}let d=new FileReader;d.onload=()=>{let f={preview:d.result,serverUrl:null,file:r};this.uploadedImages.push(f),this.uploadImage(f,this.uploadedImages.length-1)},d.readAsDataURL(r)}),e.value=""}uploadImage(t,e){if(!t.file)return;let n=new FormData;n.append("images[]",t.file),this.listingService.uploadImage(n).subscribe({next:r=>{r.paths?.length&&(this.uploadedImages[e].serverUrl=r.paths[0],this.uploadedImageUrls=this.uploadedImages.filter(d=>d.serverUrl).map(d=>d.serverUrl),this.vehicleForm.patchValue({images:this.uploadedImageUrls}))},error:r=>{console.error("Upload error:",r),this.uploadedImages.splice(e,1)}})}removeImage(t){this.uploadedImages.splice(t,1),this.uploadedImageUrls=this.uploadedImages.filter(e=>e.serverUrl).map(e=>e.serverUrl),this.vehicleForm.patchValue({images:this.uploadedImageUrls})}selectVehicleType(t){this.selectedVehicleType=t,this.vehicleForm?.patchValue({category_id:t}),this.vehicleForm?.patchValue({vehicleType:t}),this.selectedVehicleType===1?(this.bikeForm?.reset(),this.adDetailsForm?.reset(),this.platesForm?.reset(),this.checkoutForm?.reset()):this.selectedVehicleType===2?(this.vehicleForm?.reset(),this.adDetailsForm?.reset(),this.platesForm?.reset(),this.checkoutForm?.reset()):(this.bikeForm?.reset(),this.adDetailsForm?.reset(),this.vehicleForm?.reset(),this.checkoutForm?.reset())}selectBodyCondition(t){this.vehicleForm.patchValue({body_condition:t})}selectModified(t){this.vehicleForm.patchValue({modified:t})}selectInsurance(t){this.vehicleForm.patchValue({insurance:t})}selectCondition(t){this.vehicleForm.patchValue({general_condition:t})}selectVehicleCare(t){this.vehicleForm.patchValue({vehicle_care:t})}selectTransmission(t){this.vehicleForm.patchValue({transmission:t})}selectSellerType(t){this.adDetailsForm.patchValue({seller_type:t})}toggleContactMethod(t){let e=this.adDetailsForm.get("contactMethods"),n=e?.get(t)?.value;e?.get(t)?.setValue(!n)}previousStep(){this.currentStep>1&&this.currentStep--}selectPlateFormat(t,e){this.platesForm.get("plateFormat")?.setValue(t),this.platesForm.get("type_id")?.setValue(e);let n=["firstAlphabet","secondAlphabet","thirdAlphabet"];t==="numbers-only"?n.forEach(r=>{this.platesForm.get(r)?.reset(),this.platesForm.get(r)?.clearValidators(),this.platesForm.get(r)?.updateValueAndValidity()}):n.forEach(r=>{this.platesForm.get(r)?.setValidators(_.required),this.platesForm.get(r)?.updateValueAndValidity()})}onProductDetailsSubmit(t){this.vehicleFormData=t,this.vehicleForm&&this.vehicleForm.patchValue(t)}getPricing(){let t={country_id:this.adDetailsForm.value.country_id};switch(this.selectedVehicleType){case 1:t.model_id=this.vehicleForm.value.model_id,t.category_id=1;break;case 2:t.bike_part_category_id=this.bikeForm.value.bike_part_category_id,t.category_id=2;break;case 3:t.category_id=3;break}this.listingService.getPricing(t).subscribe({next:e=>{this.pricingInfo=e},error:e=>{console.error("Error fetching pricing:",e)}})}markCurrentFormTouched(){(this.currentStep===1?this.vehicleForm:this.currentStep===2?this.adDetailsForm:this.checkoutForm).markAllAsTouched()}goToNextStep(){return z(this,null,function*(){try{switch(this.currentStep){case 1:yield this.handleStep1();break;case 2:yield this.handleStep2();break;case 3:yield this.handleStep3();break}}catch(t){console.error("Error in goToNextStep:",t),alert("An error occurred. Please try again.")}})}logFormValues(){this.dynamicFields.forEach(t=>{let e=this.platesForm.get(t.controlName)?.value})}handleStep1(){return z(this,null,function*(){if(!this.validateStep1())return;let t=this.prepareStep1Data();if(t){t.step=1;try{let e=yield this.listingService.addPost(t).toPromise();this.listingId=e?.listing_id,this.sharedFormDataService.setStep1Data(O(T({},t),{listing_id:this.listingId})),this.currentStep++}catch(e){console.error("Error creating listing (step 1):",e),alert("Failed to create listing. Please try again.")}}})}validateStep1(){switch(this.selectedVehicleType){case 1:if(!this.vehicleForm.valid)return this.vehicleForm.markAllAsTouched(),!1;break;case 2:if(!this.bikeForm.valid)return this.bikeForm.markAllAsTouched(),!1;break;case 3:if(!this.platesForm.valid)return this.platesForm.markAllAsTouched(),this.logFormErrors(this.platesForm),!1;break}return!0}prepareStep1Data(){switch(this.selectedVehicleType){case 1:return{category_id:1,step:1,vehicleType:"motorcycle",brand_id:parseInt(this.vehicleForm.value.brand_id),model_id:parseInt(this.vehicleForm.value.model_id),year_id:parseInt(this.vehicleForm.value.year_id),engine:`${this.vehicleForm.value.engine}cc`,mileage:parseInt(this.vehicleForm.value.mileage),body_condition:this.vehicleForm.value.body_condition,modified:this.vehicleForm.value.modified==="Yes",insurance:this.vehicleForm.value.insurance==="Yes",general_condition:this.vehicleForm.value.general_condition,vehicle_care:this.vehicleForm.value.vehicle_care,transmission:this.vehicleForm.value.transmission,images:this.uploadedImageUrls.filter(e=>e!==null)};case 2:return{step:1,category_id:2,bike_part_brand_id:Number(this.bikeForm.value.bike_part_brand_id),bike_part_category_id:Number(this.bikeForm.value.bike_part_category_id),motorcycles:[{brand_id:parseInt(this.bikeForm.value.brand_id),model_id:parseInt(this.bikeForm.value.model_id),year_id:parseInt(this.bikeForm.value.year_id)}],condition:this.bikeForm.value.condition,description:this.bikeForm.value.description,images:this.uploadedImageUrls.filter(e=>e!==null)};case 3:let t=this.dynamicFields.map(e=>{let n=this.platesForm.get(e.controlName)?.value,r=n!=null?String(n):"";return{field_id:e.id,value:r}});return{category_id:3,step:1,type_id:this.platesForm.value.type_id,plate_format_id:this.selectedPlateFormat?.id,country_id_lp:Number(this.platesForm.value.country_id_lp),city_id_lp:Number(this.platesForm.value.city_id_lp),fields:t};default:return console.error("Unknown vehicle type:",this.selectedVehicleType),null}}handleStep2(){return z(this,null,function*(){if(!this.adDetailsForm.valid||!this.validateContactChannelForDirect()){this.adDetailsForm.markAllAsTouched();return}let t=this.adDetailsForm.value.allow_submission==="true",e={step:2,listing_id:this.listingId,title:this.adDetailsForm.value.title,description:this.adDetailsForm.value.description,price:parseFloat(this.adDetailsForm.value.price),allow_submission:t,contacting_channel:this.adDetailsForm.value.contacting_channel,country_id:Number(this.adDetailsForm.value.country),city_id:parseInt(this.adDetailsForm.value.city),seller_type:this.adDetailsForm.value.seller_type,listing_type_id:1,auction_enabled:t};t&&(e.minimum_bid=this.adDetailsForm.value.minimum_bid||0),this.sharedFormDataService.setStep2Data(e);try{yield this.listingService.addPost(e).toPromise();let n=this.sharedFormDataService.getStep1Data(),r=yield this.getPricingInfo(n,e);this.pricingInfo=r,this.currentStep++}catch(n){console.error("Error updating listing (step 2):",n),alert("Failed to save ad details. Please try again.")}})}handleStep3(){return z(this,null,function*(){let t=this.sharedFormDataService.getStep1Data(),e=this.sharedFormDataService.getStep2Data();if(!this.getDefaultBankCardId()){alert("Please add a payment method before proceeding");return}let r=O(T({step:3,listing_id:this.listingId,title:e.title,description:e.description,price:e.price,listing_type_id:e.listing_type_id,city_id:e.city_id,auction_enabled:e.auction_enabled,minimum_bid:e.minimum_bid,allow_submission:e.allow_submission,contacting_channel:e.contacting_channel,seller_type:e.seller_type},this.getTypeSpecificPayload(t)),{amount:19.6});try{let d=yield this.listingService.addPost(r).toPromise();d&&d.redirect_url?(localStorage.setItem("pendingPayment",JSON.stringify({payment_id:d.payment_id,listing_id:d.listing_id,timestamp:new Date().getTime(),redirect_url:d.redirect_url})),window.location.href=d.redirect_url):(console.warn("No redirect URL provided, navigating to home"),this.router.navigate(["/home"]))}catch(d){console.error("Error creating ad:",d),alert("Failed to create ad. Please try again.")}})}startPaymentStatusPolling(t){let e=setInterval(()=>{this.listingService.checkPaymentStatus(t).subscribe({next:n=>{n.status==="completed"?(clearInterval(e),this.router.navigate(["/home"])):n.status==="failed"&&(clearInterval(e),this.router.navigate(["/payment-failed"]))},error:n=>{console.error("Error checking payment status:",n),clearInterval(e)}})},3e3);setTimeout(()=>{clearInterval(e),this.router.navigate(["/payment-unknown"])},3e5)}getTypeSpecificPayload(t){let e={images:this.uploadedImageUrls.filter(n=>n!==null)};switch(this.selectedVehicleType){case 1:return O(T({},e),{category_id:t.category_id,type_id:t.type_id,brand_id:t.brand_id,model_id:t.model_id,year_id:t.year_id,engine:t.engine,mileage:t.mileage,body_condition:t.body_condition,modified:t.modified,insurance:t.insurance,general_condition:t.general_condition,vehicle_care:t.vehicle_care,transmission:t.transmission});case 2:return O(T({},e),{category_id:t.category_id,bike_part_brand_id:t.bike_part_brand_id,bike_part_category_id:t.bike_part_category_id,motorcycles:t.motorcycles,condition:t.condition});case 3:return O(T({},e),{type_id:t.type_id,category_id:t.category_id,plate_format_id:t.plate_format_id,country_id_lp:t.country_id_lp,city_id_lp:t.city_id_lp,fields:t.fields});default:return e}}buildAndSubmitPayload(t,e,n){let r={title:e.title,description:e.description,price:e.price,listing_type_id:e.listing_type_id,city_id:e.city_id,auction_enabled:e.auction_enabled,minimum_bid:e.minimum_bid,allow_submission:e.allow_submission,contacting_channel:e.contacting_channel,seller_type:e.seller_type};switch(this.selectedVehicleType){case 1:r=O(T({},r),{category_id:t.category_id,type_id:t.type_id,brand_id:t.brand_id,model_id:t.model_id,year_id:t.year_id,engine:t.engine,mileage:t.mileage,body_condition:t.body_condition,modified:t.modified,insurance:t.insurance,general_condition:t.general_condition,vehicle_care:t.vehicle_care,transmission:t.transmission,images:this.uploadedImageUrls.filter(d=>d!==null)});break;case 2:r=O(T({},r),{category_id:t.category_id,bike_part_brand_id:t.bike_part_brand_id,bike_part_category_id:t.bike_part_category_id,motorcycles:t.motorcycles,condition:t.condition,images:this.uploadedImageUrls.filter(d=>d!==null)});break;case 3:r=O(T({},r),{type_id:t.type_id,category_id:t.category_id,plateFormatOptions:t.plateFormatOptions,country_id_lp:Number(t.country_id_lp),city_id_lp:Number(t.city_id_lp),first_letter:t.firstAlphabet,second_letter:t.secondAlphabet,third_letter:t.thirdAlphabet,digits_count:t.digits_count}),delete r.brand_id,delete r.model_id,delete r.year_id;break}}logFormErrors(t){Object.keys(t.controls).forEach(e=>{let n=t.get(e);n?.errors&&console.log(`Field ${e} errors:`,n.errors)})}getPricingInfo(t,e){return new Promise((n,r)=>{let d={country_id:e.country_id||3};switch(this.selectedVehicleType){case 1:d.model_id=t.model_id,d.category_id=1;break;case 2:d.model_id=t.bike_part_category_id,d.category_id=2;break;case 3:d.category_id=3;break}this.listingService.getPricing(d).subscribe({next:f=>{n(f)},error:f=>{r(f)}})})}removePromocode(){this.promocode="",this.promocodeApplied=!1,this.adFees.discounted=this.adFees.original}selectContactMethod(t){this.isSoomSelected()&&(t==="phone"||t==="whatsapp")||this.adDetailsForm.get("contacting_channel")?.setValue(t)}applyPromoCode(){if(!this.promoCode||!this.pricingInfo)return;this.promoLoading=!0,this.promoError=null;let t={code:this.promoCode,total_price:parseFloat(this.pricingInfo.converted_price)};this.listingService.checkPromo(t).subscribe({next:e=>{this.isPromoApplied=!0,this.discountedPrice=e.new_price,this.promoLoading=!1},error:e=>{this.promoError=e.error?.message||"Invalid promo code",this.isPromoApplied=!1,this.promoLoading=!1}})}removePromoCode(){this.promoCode="",this.isPromoApplied=!1,this.discountedPrice=null,this.promoError=null}static \u0275fac=function(e){return new(e||i)(A(Re),A(We),A(X),A(je),A(we),A(Se),A($e),A(le))};static \u0275cmp=ae({type:i,selectors:[["app-product-form"]],viewQuery:function(e,n){if(e&1&&pe(Xe,5),e&2){let r;_e(r=ue())&&(n.fileInput=r.first)}},inputs:{currentStep:"currentStep"},decls:12,vars:6,consts:[["fileInput",""],[1,"max-w-4xl","mx-auto","px-4","py-8"],[1,"bg-white","rounded-lg","shadow-sm","p-6","border","border-gray-100"],[1,"flex","justify-start","mb-4"],["type","button",1,"px-4","py-2","bg-white","border","border-gray-300","rounded-md","text-gray-600","hover:bg-gray-100",3,"click"],[1,"flex","items-center","justify-between","mb-10"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","mb-8",4,"ngIf"],["class","container mx-auto max-w-3xl px-4 py-8",4,"ngIf"],["class","text-green-600 font-semibold mb-4",4,"ngIf"],["class","text-red-600 font-semibold mb-4",4,"ngIf"],[1,"flex","flex-col","items-center","w-1/3"],[1,"w-8","h-8","rounded-full","flex","items-center","justify-center","text-sm","font-medium","mb-1","transition-all","duration-300",3,"ngClass"],[1,"text-xs","text-center"],[3,"ngClass"],[1,"text-gray-500"],["class","flex-1 h-1 bg-gray-200 mx-2 relative",4,"ngIf"],[1,"flex-1","h-1","bg-gray-200","mx-2","relative"],[1,"h-full","bg-red-500","absolute","top-0","left-0","transition-all","duration-300"],[1,"text-xl","font-semibold","mb-6","text-left"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4","mb-8"],["class","border-2 rounded-lg p-4 cursor-pointer transition-colors relative hover:bg-gray-50",3,"ngClass","click",4,"ngFor","ngForOf"],[3,"ngSwitch"],[3,"formGroup",4,"ngSwitchCase"],["class","bg-white rounded-lg shadow-sm p-6 border border-gray-200",4,"ngSwitchDefault"],[1,"border-2","rounded-lg","p-4","cursor-pointer","transition-colors","relative","hover:bg-gray-50",3,"click","ngClass"],["class","absolute top-4 right-4 w-4 h-4 bg-red-500 rounded-full flex items-center justify-center",4,"ngIf"],[1,"flex","items-start","justify-between"],[1,"flex","flex-col","space-y-2","text-start"],[1,"w-10","h-10","object-contain",3,"src","alt"],[1,"font-medium"],[1,"text-sm","text-gray-500"],[1,"absolute","top-4","right-4","w-4","h-4","bg-red-500","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[3,"formGroup"],[1,"bg-white","rounded-lg","shadow-sm","p-6","border","border-gray-200"],[1,"text-lg","font-semibold","mb-6"],[1,"mb-6"],[1,"mb-2","font-medium"],[1,"grid","grid-cols-2","sm:grid-cols-3","md:grid-cols-5","gap-4"],["class","relative border border-gray-300 rounded-md aspect-square flex items-center justify-center",4,"ngFor","ngForOf"],["class","border border-dashed border-gray-300 rounded-md aspect-square flex items-center justify-center cursor-pointer hover:bg-gray-50",3,"click",4,"ngIf"],[1,"text-xs","text-gray-500","mt-2"],["class","text-red-500",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-6","mb-6"],[1,"block","font-medium"],[1,"relative","mt-4"],["type","text",1,"w-full","border","border-gray-300","rounded-md","px-3","py-2","pr-8",3,"ngModelChange","input","focus","ngModel","ngModelOptions","placeholder"],[1,"absolute","right-2","top-2","pointer-events-none"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],["class","absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-auto",4,"ngIf"],["class","text-red-500 text-sm mt-1",4,"ngIf"],["type","text",1,"w-full","border","border-gray-300","rounded-md","px-3","py-2","pr-8",3,"ngModelChange","input","focus","ngModel","ngModelOptions","placeholder","disabled"],["type","text","placeholder","Select a year",1,"w-full","border","border-gray-300","rounded-md","px-3","py-2","pr-8",3,"ngModelChange","input","focus","ngModel","ngModelOptions","disabled"],[1,"block","mb-2","font-medium"],[1,"grid","grid-cols-1","sm:grid-cols-3","gap-4"],["class","border-2 rounded-lg p-3 cursor-pointer transition-colors",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4"],[1,"border-2","rounded-lg","p-3","cursor-pointer","transition-colors",3,"click","ngClass"],[1,"flex","items-center","justify-between"],["class","w-6 h-6 bg-red-500 rounded-full flex items-center justify-center",4,"ngIf"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-5","gap-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6","mb-6"],[1,"flex"],[1,"inline-flex","items-center","px-3","text-gray-500","bg-gray-100","border","border-r-0","border-gray-300","rounded-l-md"],["type","number","formControlName","engine","placeholder","650",1,"flex-grow","border","border-gray-300","rounded-r-md","px-3","py-2","focus:outline-none","focus:ring-2","focus:ring-blue-500","placeholder-gray-400"],["type","number","formControlName","mileage","placeholder","8500",1,"flex-grow","border","border-gray-300","rounded-r-md","px-3","py-2","focus:outline-none","focus:ring-2","focus:ring-blue-500","placeholder-gray-400"],[1,"flex","justify-end","mt-6"],["type","button",1,"px-6","py-2","bg-red-500","text-white","rounded","hover:bg-red-600","disabled:opacity-50",3,"click","disabled"],[1,"relative","border","border-gray-300","rounded-md","aspect-square","flex","items-center","justify-center"],[1,"object-cover","w-full","h-full","rounded-md",3,"src","alt"],[1,"absolute","top-1","right-1","bg-white","text-red-500","rounded-full","p-1","shadow","hover:bg-gray-100",3,"click"],[1,"border","border-dashed","border-gray-300","rounded-md","aspect-square","flex","items-center","justify-center","cursor-pointer","hover:bg-gray-50",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"],["type","file","accept","image/*","multiple","","hidden","",3,"change"],[1,"text-red-500"],[1,"absolute","z-10","w-full","mt-1","bg-white","border","border-gray-300","rounded-md","shadow-lg","max-h-60","overflow-auto"],["class","px-3 py-2 hover:bg-blue-50 cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"px-3","py-2","hover:bg-blue-50","cursor-pointer",3,"click"],[1,"text-red-500","text-sm","mt-1"],[1,"w-6","h-6","bg-red-500","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"w-4","h-4","text-white"],["src","pictures/_Checkbox.svg","alt","checkmark",1,"w-4","h-4","text-white"],["formControlName","bike_part_brand_id",1,"w-full","border","border-gray-300","rounded-md","px-3","py-2","mt-4"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","bike_part_category_id",1,"w-full","border","border-gray-300","rounded-md","px-3","py-2","mt-4",3,"disabled"],[1,"md:col-span-3"],[1,"flex","items-start"],[1,"text-sm",2,"color","#F03D24"],["for","description",1,"block","text-sm","font-medium","text-gray-700","mb-1","flex","items-center"],[1,"ml-1","text-gray-400"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-4","w-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],["id","description","formControlName","description","rows","4","placeholder","This is a free text to add any comments or things that might be useful for the buyers",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-red-500","focus:border-red-500","placeholder-gray-400"],["class","mt-1 text-red-500 text-sm",4,"ngIf"],[3,"value"],[1,"mt-1","text-red-500","text-sm"],["formControlName","country_id_lp",1,"w-full","border","border-gray-300","rounded-lg","p-3","focus:ring-2","focus:ring-red-500","focus:border-red-500","outline-none","transition"],["for","city",1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"relative"],["id","city","formControlName","city_id_lp",1,"w-full","border","border-gray-300","rounded-lg","p-3","focus:ring-2","focus:ring-red-500","focus:border-red-500","outline-none","transition",3,"disabled"],["class","mb-6",4,"ngIf"],["class","text-center py-4",4,"ngIf"],["type","button",1,"px-6","py-2","bg-red-500","text-white","rounded","hover:bg-red-600","disabled:opacity-50",3,"click"],[1,"font-medium","mb-4"],[1,"grid","grid-cols-1","gap-4"],["class","mb-4",4,"ngFor","ngForOf"],[1,"mb-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-2",3,"for"],["type","text","inputmode","numeric","class","w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-red-500 focus:border-red-500 outline-none transition",3,"id","formControlName","pattern","placeholder","keypress",4,"ngIf"],["type","text","class","w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-red-500 focus:border-red-500 outline-none transition placeholder-gray-400",3,"id","formControlName","placeholder","keypress",4,"ngIf"],[1,"text-xs","text-gray-500","mt-1"],["type","text","inputmode","numeric",1,"w-full","border","border-gray-300","rounded-lg","p-3","focus:ring-2","focus:ring-red-500","focus:border-red-500","outline-none","transition",3,"keypress","id","formControlName","pattern","placeholder"],["type","text",1,"w-full","border","border-gray-300","rounded-lg","p-3","focus:ring-2","focus:ring-red-500","focus:border-red-500","outline-none","transition","placeholder-gray-400",3,"keypress","id","formControlName","placeholder"],[1,"text-center","py-4"],[1,"text-center","text-gray-500"],[1,"mb-8"],[1,"text-xl","text-blue-600","font-medium","mb-6"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","mb-6"],[1,"bg-gray-50","rounded","p-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],[1,"text-gray-800"],[1,"text-gray-400"],["for","adName",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","text","id","adName","formControlName","title",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-red-500","focus:border-red-500","placeholder-gray-400",3,"placeholder"],["id","description","formControlName","description","rows","4",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-red-500","focus:border-red-500","placeholder-gray-400",3,"placeholder"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"block"],[1,"border-2","rounded-lg","p-4","cursor-pointer","transition-colors","h-full",3,"click","ngClass"],[1,"flex","items-center","justify-between","h-full"],[1,"text-gray-700"],["class","w-6 h-6 border-2 border-gray-300 rounded-full",4,"ngIf"],[1,"border-2","rounded-lg","p-4","transition-colors","h-full",3,"click","ngClass"],[1,"text-gray-700",3,"ngClass"],["class","w-6 h-6 border-2 rounded-full",3,"ngClass",4,"ngIf"],["class","mt-4 p-4 bg-blue-50 border border-blue-200 rounded-md",4,"ngIf"],["formControlName","country",1,"w-full","border","border-gray-300","rounded-lg","p-3","focus:ring-2","focus:ring-red-500","focus:border-red-500","outline-none","transition",3,"change"],["value","","disabled","","selected",""],["for","city",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","city","formControlName","city",1,"w-full","border","border-gray-300","rounded-lg","p-3","focus:ring-2","focus:ring-red-500","focus:border-red-500","outline-none","transition"],[1,"block","text-sm","font-medium","text-gray-700","mb-3"],[1,"flex","items-center","justify-between","border","border-gray-300","rounded-md","px-4","py-3"],["type","radio","formControlName","seller_type","value","middleman",1,"h-4","w-4","text-red-600","focus:ring-red-500","border-gray-300"],["type","radio","formControlName","seller_type","value","owner",1,"h-4","w-4","text-red-600","focus:ring-red-500","border-gray-300"],[1,"flex","justify-between","mt-8"],["type","button","class","bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",3,"click",4,"ngIf"],["type","button",1,"bg-red-500","border","border-transparent","rounded-md","shadow-sm","py-2","px-10","inline-flex","justify-center","text-sm","font-medium","text-white","hover:bg-red-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-red-500",3,"click"],[1,"w-6","h-6","border-2","border-gray-300","rounded-full"],[1,"w-6","h-6","border-2","rounded-full",3,"ngClass"],[1,"mt-4","p-4","bg-blue-50","border","border-blue-200","rounded-md"],[1,"text-sm","font-medium","text-blue-900","mb-2"],[1,"text-sm","text-blue-700","mb-3"],[1,"mb-3"],["for","autoDecline",1,"block","text-sm","font-medium","text-blue-900","mb-1"],[1,"relative","rounded-md","shadow-sm"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],[1,"text-gray-500","sm:text-sm"],["type","number","id","autoDecline","formControlName","minimum_bid","placeholder","0",1,"pl-12","block","w-full","px-3","py-2","border","border-blue-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-blue-500","focus:border-blue-500","sm:text-sm","placeholder-gray-400"],["for","price",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","number","id","price","formControlName","price","placeholder","500",1,"pl-12","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-red-500","focus:border-red-500","placeholder-gray-400"],["type","button",1,"bg-white","py-2","px-4","border","border-gray-300","rounded-md","shadow-sm","text-sm","font-medium","text-gray-700","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-red-500",3,"click"],[1,"container","mx-auto","max-w-3xl","px-4","py-8"],[1,"text-xl","font-semibold","mb-6","text-blue-600"],[1,"border-b","pb-4","mb-6"],[1,"flex","justify-between","items-center","mb-1"],["class","text-red-500 line-through mr-2",4,"ngIf"],["class","text-green-500 font-bold",4,"ngIf"],["class","text-red-500 font-bold",4,"ngIf"],[1,"flex","mb-2"],[1,"flex-1","border","rounded-l-lg","flex","items-center","px-4"],["type","text","placeholder","Enter promo code",1,"w-full","focus:outline-none","py-3","placeholder-gray-400",3,"ngModelChange","ngModel","readonly"],["class","border border-l-0 rounded-r-lg px-4 py-3 text-blue-600 hover:bg-gray-50 disabled:opacity-50",3,"disabled","click",4,"ngIf"],["class","border border-l-0 rounded-r-lg px-4 py-3 text-red-600 hover:bg-gray-50",3,"click",4,"ngIf"],["class","flex justify-between",4,"ngIf"],["class","text-red-500 text-sm mt-2",4,"ngIf"],[1,"text-lg","text-red-500","mb-2"],[1,"text-gray-500","text-sm","mb-4"],["class","mb-4",4,"ngIf"],[1,"border-2","rounded-lg","p-4","mb-4","cursor-pointer","hover:bg-gray-50","transition-colors",3,"click"],[1,"flex","items-center","gap-3","text-blue-600"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],[1,"space-y-2"],[1,"border-2","rounded-lg","p-3","flex","justify-between","items-center","cursor-pointer","transition-colors",3,"click"],[1,"flex","items-center","gap-2"],[1,"w-5","h-5","rounded-full","border-2","flex","items-center","justify-center"],["class","w-2.5 h-2.5 rounded-full bg-red-500",4,"ngIf"],[1,"bg-yellow-100","text-yellow-800","text-xs","font-semibold","px-2","py-1","rounded"],[1,"bg-green-100","text-green-800","text-xs","font-semibold","px-2","py-1","rounded"],["class","mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",4,"ngIf"],[1,"text-red-500","line-through","mr-2"],[1,"text-green-500","font-bold"],[1,"text-red-500","font-bold"],[1,"border","border-l-0","rounded-r-lg","px-4","py-3","text-blue-600","hover:bg-gray-50","disabled:opacity-50",3,"click","disabled"],[1,"border","border-l-0","rounded-r-lg","px-4","py-3","text-red-600","hover:bg-gray-50",3,"click"],[1,"flex","justify-between"],[1,"text-green-500","flex","items-center","gap-1"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule","evenodd"],[1,"bg-white","border","border-gray-300","rounded-lg","px-6","py-2","text-gray-700","font-medium"],[1,"text-red-500","text-sm","mt-2"],[1,"font-medium","mb-3"],[1,"space-y-3"],["class","border-2 rounded-lg p-4 cursor-pointer transition-colors",3,"border-red-500","bg-red-50","click",4,"ngFor","ngForOf"],[1,"border-2","rounded-lg","p-4","cursor-pointer","transition-colors",3,"click"],[1,"flex","justify-between","items-center"],[1,"flex","items-center","gap-3"],[1,"text-sm","text-gray-600"],[1,"text-xs","text-gray-500"],["src","https://cdn.cdnlogo.com/logos/v/69/visa.svg","alt","Visa","class","h-6",4,"ngIf"],["src","https://cdn.cdnlogo.com/logos/m/33/mastercard.svg","alt","Mastercard","class","h-6",4,"ngIf"],["class","bg-blue-100 text-blue-800 text-xs font-semibold px-2 py-1 rounded ml-2",4,"ngIf"],[1,"w-2.5","h-2.5","rounded-full","bg-red-500"],["src","https://cdn.cdnlogo.com/logos/v/69/visa.svg","alt","Visa",1,"h-6"],["src","https://cdn.cdnlogo.com/logos/m/33/mastercard.svg","alt","Mastercard",1,"h-6"],[1,"bg-blue-100","text-blue-800","text-xs","font-semibold","px-2","py-1","rounded","ml-2"],[1,"mt-4","p-4","bg-yellow-50","border","border-yellow-200","rounded-lg"],[1,"text-yellow-800","text-sm"],[1,"text-green-600","font-semibold","mb-4"],[1,"text-red-600","font-semibold","mb-4"]],template:function(e,n){e&1&&(o(0,"div",1)(1,"div",2)(2,"div",3)(3,"button",4),h("click",function(){return n.previousStep()}),c(4," Exit "),l()(),o(5,"div",5),p(6,nt,10,12,"ng-container",6),l()(),p(7,si,10,5,"div",7)(8,Pi,121,110,"div",8)(9,Wi,55,30,"div",9),l(),p(10,Hi,2,0,"div",10)(11,zi,2,1,"div",11)),e&2&&(a(6),s("ngForOf",n.steps),a(),s("ngIf",n.currentStep===1),a(),s("ngIf",n.currentStep===2),a(),s("ngIf",n.currentStep===3),a(),s("ngIf",n.submissionSuccess),a(),s("ngIf",n.submissionError))},dependencies:[Fe,ve,fe,he,ye,xe,be,qe,Ve,Be,Ae,Pe,ke,Ne,Me,Ee,Ie,Le,Te,Ge,Oe,De,Ye,Ue,Z],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif}@media (max-width: 640px){.progress-steps[_ngcontent-%COMP%]{flex-direction:column}}"]})};export{Qe as ProductFormComponent};
