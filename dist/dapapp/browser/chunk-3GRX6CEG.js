import{a as Q,b as X}from"./chunk-YONWQSBO.js";import{j as R,k as N}from"./chunk-YIROKGJS.js";import{Bc as V,Db as a,Eb as S,Fb as w,Gb as L,Gc as D,Hc as u,Ia as s,Ic as A,Jc as q,Na as C,Nc as U,Rc as G,Sa as k,Tc as j,Uc as W,Vc as $,Wc as B,Xa as g,Zc as z,_c as H,ad as Y,bd as J,cb as h,cd as K,ea as f,eb as y,fa as x,ga as E,ha as T,ib as m,mb as i,na as M,nb as t,ob as _,pc as I,sb as v,tb as c,ub as d,wa as F,yc as O}from"./chunk-L23ZLJ25.js";function ee(n,o){n&1&&(i(0,"p",16),a(1," Please enter a valid phone number or email "),t())}function te(n,o){n&1&&(E(),i(0,"svg",30),_(1,"path",31)(2,"path",32),t())}function ie(n,o){n&1&&(E(),i(0,"svg",30),_(1,"path",33),t())}function ne(n,o){n&1&&(i(0,"p",16),a(1," Password must be at least 6 characters "),t())}function oe(n,o){if(n&1&&(i(0,"div",34),a(1),t()),n&2){let e=d();y("bg-green-100",!e.loginError&&!e.otpError)("bg-red-100",e.loginError||e.otpError)("text-green-800",!e.loginError&&!e.otpError)("text-red-800",e.loginError||e.otpError),s(),w(" ",e.message," ")}}function re(n,o){if(n&1){let e=v();i(0,"div",18)(1,"strong",28),a(2,"Incorrect email or password."),_(3,"br"),t(),a(4," Please try again."),_(5,"br"),i(6,"span",35),a(7,"That doesn't look right. Doublecheck your email and password, or reset your password if you've forgotten it."),t(),i(8,"a",36),c("click",function(){f(e);let l=d();return x(l.openForgotPassword())}),a(9,` Forgot Password?
`),t()()}}function ae(n,o){if(n&1&&(i(0,"div",40)(1,"p",45)(2,"strong"),a(3,"User:"),t(),a(4),t(),i(5,"p",45)(6,"strong"),a(7,"Phone:"),t(),a(8),t(),i(9,"p",45)(10,"strong"),a(11,"Email:"),t(),a(12),t()()),n&2){let e=d(2);s(4),L(" ",e.currentUser.first_name," ",e.currentUser.last_name,""),s(4),w(" ",e.currentUser.phone,""),s(4),w(" ",e.currentUser.email||"Not provided","")}}function le(n,o){if(n&1&&(i(0,"div",43),a(1),t()),n&2){let e=d(2);s(),w(" ",e.message," ")}}function se(n,o){if(n&1&&(i(0,"div",44),a(1),t()),n&2){let e=d(2);s(),w(" ",e.message," ")}}function de(n,o){if(n&1&&(i(0,"div",0)(1,"div",37)(2,"div",4)(3,"h2",38),a(4,"\u{1F510} SMS Verification"),t(),i(5,"p",39),a(6,"Complete the verification to receive SMS code"),t(),g(7,ae,13,4,"div",40),t(),i(8,"div",41),_(9,"div",42),t(),g(10,le,2,1,"div",43)(11,se,2,1,"div",44),t()()),n&2){let e=d();s(7),m(e.currentUser?7:-1),s(3),m(e.message&&!e.loginError?10:-1),s(),m(e.message&&e.loginError?11:-1)}}function me(n,o){if(n&1&&(i(0,"div",54)(1,"p",59),a(2),t()()),n&2){let e=d(2);s(2),S(e.message)}}function ce(n,o){if(n&1&&(i(0,"div",54)(1,"p",60),a(2),t()()),n&2){let e=d(2);s(2),S(e.message)}}function ue(n,o){if(n&1){let e=v();i(0,"button",63),c("click",function(){f(e);let l=d(3);return x(l.resendOTP("email"))}),a(1),t()}if(n&2){let e=d(3);h("disabled",!e.otpResendEnabled||e.isResendingOTP),s(),w(" ",e.isResendingOTP?"Sending Email...":"Resend via Email"," ")}}function pe(n,o){if(n&1){let e=v();i(0,"button",63),c("click",function(){f(e);let l=d(3);return x(l.resendOTP("whatsapp"))}),a(1),t()}if(n&2){let e=d(3);h("disabled",!e.otpResendEnabled||e.isResendingOTP),s(),w(" ",e.isResendingOTP?"Sending WhatsApp...":"Resend via WhatsApp"," ")}}function ge(n,o){if(n&1&&(i(0,"div",54)(1,"p",59),a(2,"Verification Code Expired!"),t(),i(3,"div",61),g(4,ue,2,2,"button",62)(5,pe,2,2,"button",62),t()()),n&2){let e,r,l=d(2);s(4),m(l.isEmail((e=l.loginForm.get("login"))==null?null:e.value)?4:-1),s(),m(l.isPhone((r=l.loginForm.get("login"))==null?null:r.value)?5:-1)}}function he(n,o){n&1&&(i(0,"div",54)(1,"p",46),a(2,"Didn't get a code? Click to resend"),t()())}function fe(n,o){n&1&&(i(0,"p",55),a(1," Please enter the complete SMS code "),t())}function xe(n,o){if(n&1){let e=v();i(0,"div",0)(1,"div",1)(2,"div",4)(3,"h2",38),a(4,"\u{1F4F1} SMS Verification"),t(),i(5,"p",39),a(6,"Please check your phone"),t(),i(7,"p",46),a(8),t()(),i(9,"form",7),c("ngSubmit",function(){f(e);let l=d();return x(l.verifyOTP())}),i(10,"div",47)(11,"label",48),a(12,"SMS Code"),t(),i(13,"div",49)(14,"input",50),c("input",function(l){f(e);let p=d();return x(p.onOTPInputChange(l,"digit2"))}),t(),i(15,"input",51),c("input",function(l){f(e);let p=d();return x(p.onOTPInputChange(l,"digit3"))}),t(),i(16,"input",52),c("input",function(l){f(e);let p=d();return x(p.onOTPInputChange(l,"digit4"))}),t(),i(17,"input",53),c("input",function(l){f(e);let p=d();return x(p.onOTPInputChange(l,"digit5"))}),t()(),g(18,me,3,1,"div",54)(19,ce,3,1,"div",54)(20,ge,6,2,"div",54)(21,he,3,0,"div",54)(22,fe,2,0,"p",55),t(),i(23,"div",56)(24,"button",57),c("click",function(){f(e);let l=d();return x(l.closeOTPModal())}),a(25," Cancel "),t(),i(26,"button",58),a(27," Verify Code "),t()()()()()}if(n&2){let e=d();s(8),w("We've sent a code to ",e.phoneNumber,""),s(),h("formGroup",e.otpForm),s(9),m(e.message&&(e.otpError||e.loginError)?18:-1),s(),m(e.message&&!e.otpError&&!e.loginError?19:-1),s(),m(e.otpExpired?20:-1),s(),m(!e.otpResendEnabled&&!e.otpExpired?21:-1),s(),m(e.otpForm.invalid&&e.otpForm.touched?22:-1),s(4),h("disabled",e.otpForm.invalid)}}function _e(n,o){n&1&&(i(0,"p",16),a(1," Please enter a valid email or phone number "),t())}function we(n,o){if(n&1&&(i(0,"div",34),a(1),t()),n&2){let e=d(2);y("bg-green-100",!e.loginError)("bg-red-100",e.loginError)("text-green-800",!e.loginError)("text-red-800",e.loginError),s(),w(" ",e.message," ")}}function ve(n,o){if(n&1){let e=v();i(0,"div",0)(1,"div",1)(2,"div",4)(3,"h2",38),a(4,"\u{1F512} Forgot Password"),t(),i(5,"p",39),a(6,"Enter your email or phone number to reset your password"),t()(),i(7,"form",7),c("ngSubmit",function(){f(e);let l=d();return x(l.requestPasswordReset())}),i(8,"div",8)(9,"label",9),a(10,"Email or Phone Number"),t(),_(11,"input",64),g(12,_e,2,0,"p",16),t(),i(13,"div",8)(14,"label",9),a(15,"Verification Method"),t(),i(16,"select",65)(17,"option",66),a(18,"WhatsApp"),t(),i(19,"option",67),a(20,"SMS"),t(),i(21,"option",68),a(22,"Email"),t()()(),g(23,we,2,9,"div",17),i(24,"div",56)(25,"button",57),c("click",function(){f(e);let l=d();return x(l.closeForgotPasswordModal())}),a(26," Cancel "),t(),i(27,"button",58),a(28," Continue "),t()()()()()}if(n&2){let e,r=d();s(7),h("formGroup",r.forgotPasswordForm),s(5),m((e=r.forgotPasswordForm.get("login"))!=null&&e.invalid&&((e=r.forgotPasswordForm.get("login"))!=null&&e.touched)?12:-1),s(11),m(r.message?23:-1),s(4),h("disabled",r.forgotPasswordForm.invalid)}}function be(n,o){n&1&&(i(0,"p",16),a(1," Please enter a valid OTP code "),t())}function Ce(n,o){n&1&&(i(0,"p",16),a(1," Password must be at least 6 characters "),t())}function Pe(n,o){n&1&&(i(0,"p",16),a(1," Passwords do not match "),t())}function Ee(n,o){if(n&1&&(i(0,"div",34),a(1),t()),n&2){let e=d(2);y("bg-green-100",!e.loginError)("bg-red-100",e.loginError)("text-green-800",!e.loginError)("text-red-800",e.loginError),s(),w(" ",e.message," ")}}function ye(n,o){if(n&1&&(i(0,"div",72)(1,"p",46),a(2),t()()),n&2){let e=d(2);s(2),w("Didn't receive code? Resend in ",e.resendCountdown,"s")}}function Se(n,o){if(n&1){let e=v();i(0,"div",72)(1,"button",63),c("click",function(){f(e);let l=d(2);return x(l.requestPasswordReset())}),a(2),t()()}if(n&2){let e=d(2);s(),h("disabled",!e.otpResendEnabled||e.isResendingOTP),s(),w(" ",e.isResendingOTP?"Sending...":"Resend OTP"," ")}}function Te(n,o){if(n&1){let e=v();i(0,"div",0)(1,"div",1)(2,"div",4)(3,"h2",38),a(4,"\u{1F511} Reset Password"),t(),i(5,"p",39),a(6,"Enter the OTP code sent to your WhatsApp and your new password"),t()(),i(7,"form",7),c("ngSubmit",function(){f(e);let l=d();return x(l.resetPassword())}),i(8,"div",8)(9,"label",9),a(10,"OTP Code"),t(),_(11,"input",69),g(12,be,2,0,"p",16),t(),i(13,"div",8)(14,"label",9),a(15,"New Password"),t(),_(16,"input",70),g(17,Ce,2,0,"p",16),t(),i(18,"div",8)(19,"label",9),a(20,"Confirm Password"),t(),_(21,"input",71),g(22,Pe,2,0,"p",16),t(),g(23,Ee,2,9,"div",17)(24,ye,3,1,"div",72)(25,Se,3,2,"div",72),i(26,"div",56)(27,"button",57),c("click",function(){f(e);let l=d();return x(l.closeResetPasswordModal())}),a(28," Cancel "),t(),i(29,"button",58),a(30," Reset Password "),t()()()()()}if(n&2){let e,r,l=d();s(7),h("formGroup",l.resetPasswordForm),s(5),m((e=l.resetPasswordForm.get("code"))!=null&&e.invalid&&((e=l.resetPasswordForm.get("code"))!=null&&e.touched)?12:-1),s(5),m((r=l.resetPasswordForm.get("password"))!=null&&r.invalid&&((r=l.resetPasswordForm.get("password"))!=null&&r.touched)?17:-1),s(5),m(l.resetPasswordForm.hasError("mismatch")?22:-1),s(),m(l.message?23:-1),s(),m(!l.otpResendEnabled&&!l.otpExpired?24:-1),s(),m(l.otpExpired?25:-1),s(4),h("disabled",l.resetPasswordForm.invalid)}}var Z=class n{constructor(o,e,r,l,p){this.fb=o;this.auth=e;this.cookieService=r;this.router=l;this.platformId=p;this.loginForm=this.fb.group({login:["",u.required],password:["",[u.minLength(6)]]}),this.otpForm=this.fb.group({digit1:["",[u.required,u.pattern(/^[0-9]$/)]],digit2:["",[u.required,u.pattern(/^[0-9]$/)]],digit3:["",[u.required,u.pattern(/^[0-9]$/)]],digit4:["",[u.required,u.pattern(/^[0-9]$/)]]}),this.forgotPasswordForm=this.fb.group({login:["",[u.required]],method:["whatsapp",[u.required]]}),this.resetPasswordForm=this.fb.group({code:["",[u.required,u.pattern(/^[0-9]{4,6}$/)]],password:["",[u.required,u.minLength(6)]],password_confirmation:["",[u.required]]},{validator:this.passwordMatchValidator})}close=new M;redirectUrl=null;loginForm;otpForm;showOTPModal=!1;loginError=!1;phoneNumber="";tokenExist="";otpExpired=!1;otpResendEnabled=!1;countdownInterval;resendCountdown=30;userLogin="";otpError=!1;confirmationResult=null;message="";recaptchaWidgetId=null;isPhoneLoginFlow=!1;recaptchaLoaded=!1;pendingUserId=null;currentUser=null;showRecaptcha=!1;isResendingOTP=!1;pendingUserInfo=null;showForgotPasswordModal=!1;forgotPasswordForm;showResetPasswordModal=!1;resetPasswordForm;showPassword=!1;ngOnInit(){this.onLoginInputChange()}formatPhoneNumber(o){let e=o.replace(/\D/g,"");return o.startsWith("+")?o:e.startsWith("00")?"+"+e.substring(2):e.startsWith("0")&&e.length===10?"+212"+e.substring(1):e.length===9&&(e.startsWith("6")||e.startsWith("7"))?"+212"+e:o.startsWith("+")?o:"+"+e}onSubmit(){if(this.loginForm.invalid){this.loginForm.markAllAsTouched();return}this.message="",this.loginError=!1;let o=this.loginForm.value;this.userLogin=o.login,this.auth.login(o).subscribe({next:e=>{this.loginError=!1,e.requiresOTP?(this.pendingUserInfo=e,this.phoneNumber=this.extractPhoneNumber(o.login),this.message="OTP sent successfully. Please check your phone.",this.showOTPModal=!0,this.startOTPCountdown()):this.handleSuccessfulLogin(e.token,e.user)},error:e=>{this.loginError=!0,e.error?.message?this.message=e.error.message:e.status===401?this.message="Invalid credentials. Please check your email/phone and password.":e.status===422?this.message="Please check your input and try again.":this.message="Login failed. Please try again.",console.error("Login error:",e)}})}extractPhoneNumber(o){return this.isValidPhoneNumber(o)?o:""}isValidPhoneNumber(o){return/^\+?\d{10,15}$/.test(o)}getFirebaseErrorMessage(o){switch(o.code){case"auth/invalid-phone-number":return"Invalid phone number format. Please use international format (+country code)";case"auth/too-many-requests":return"Too many attempts. Please try again later.";case"auth/captcha-check-failed":return"reCAPTCHA verification failed. Please try again.";case"auth/invalid-verification-code":return"Invalid OTP code. Please check and try again.";case"auth/code-expired":return"OTP code expired. Please request a new one.";case"auth/quota-exceeded":return"SMS quota exceeded. Please try again later.";default:return o.message||"An error occurred. Please try again."}}isSigningInWithGoogle=!1;passwordMatchValidator(o){return o.get("password")?.value===o.get("password_confirmation")?.value?null:{mismatch:!0}}openForgotPassword(){this.showForgotPasswordModal=!0,this.loginError=!1,this.message=""}closeForgotPasswordModal(){this.showForgotPasswordModal=!1,this.forgotPasswordForm.reset({method:"whatsapp"})}requestPasswordReset(){if(this.forgotPasswordForm.invalid){this.forgotPasswordForm.markAllAsTouched();return}let o=this.forgotPasswordForm.value;this.auth.forgotPassword(o).subscribe({next:e=>{this.message="OTP code sent successfully to your WhatsApp",this.showForgotPasswordModal=!1,this.showResetPasswordModal=!0,this.startOTPCountdown()},error:e=>{this.loginError=!0,this.message=e.error?.message||"Failed to send OTP. Please try again.",console.error("Forgot password error:",e)}})}resetPassword(){if(this.resetPasswordForm.invalid){this.resetPasswordForm.markAllAsTouched();return}let o={login:this.forgotPasswordForm.value.login,code:this.resetPasswordForm.value.code,password:this.resetPasswordForm.value.password,password_confirmation:this.resetPasswordForm.value.password_confirmation};this.auth.resetPassword(o).subscribe({next:e=>{this.message="Password reset successfully. You can now login with your new password.",this.showResetPasswordModal=!1,this.resetPasswordForm.reset(),this.forgotPasswordForm.reset({method:"whatsapp"})},error:e=>{this.loginError=!0,this.message=e.error?.message||"Failed to reset password. Please try again.",console.error("Reset password error:",e)}})}closeResetPasswordModal(){this.showResetPasswordModal=!1,this.resetPasswordForm.reset()}isEmail(o){return o?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o):!1}isPhone(o){return o?/^[\+]?[0-9\s\-\(\)]{8,20}$/.test(o):!1}clearMessages(){this.message="",this.loginError=!1,this.otpError=!1}onLoginInputChange(){let o=this.loginForm.get("login")?.value,e=this.loginForm.get("password");this.loginError&&this.clearMessages(),this.isPhone(o)?(e?.clearValidators(),e?.setErrors(null)):e?.setValidators([u.required,u.minLength(6)]),e?.updateValueAndValidity()}handleSuccessfulLogin(o,e){if(this.cookieService.set("token",o,{secure:!1,sameSite:"Strict",path:"/",expires:7}),this.auth.saveToken(o),this.auth.setLoggedIn(!0),this.auth.fetchUserProfile&&this.auth.fetchUserProfile(),this.redirectUrl){console.log("Navigating to redirectUrl:",this.redirectUrl),this.router.navigate([this.redirectUrl]);return}if(V(this.platformId)){let r=sessionStorage.getItem("redirectAfterLogin");if(r){sessionStorage.removeItem("redirectAfterLogin"),this.router.navigate([r]);return}}this.closeModal()}closeModal(){this.close.emit(),this.resetComponent()}closeOTPModal(){this.showOTPModal=!1,this.otpError=!1,this.clearOTPForm(),this.clearCountdown()}resetComponent(){this.showOTPModal=!1,this.showRecaptcha=!1,this.loginError=!1,this.otpError=!1,this.message="",this.currentUser=null,this.pendingUserId=null,this.phoneNumber="",this.clearOTPForm(),this.clearCountdown()}verifyOTP(){if(this.otpForm.invalid){this.otpForm.markAllAsTouched();return}this.message="",this.otpError=!1;let o=this.otpForm.value.digit1+this.otpForm.value.digit2+this.otpForm.value.digit3+this.otpForm.value.digit4,e={login:this.loginForm.value.login,otp:o};this.auth.otplogin(e).subscribe({next:r=>{this.otpError=!1,r.token&&(this.message="Login successful!",this.handleSuccessfulLogin(r.token,r.user),this.showOTPModal=!1,this.closeModal())},error:r=>{console.error("OTP verification error:",r),this.otpError=!0,r.error?.message?this.message=r.error.message:r.status===400?this.message="Invalid OTP code. Please try again.":r.status===410?(this.message="OTP code has expired. Please request a new one.",this.otpExpired=!0):this.message="OTP verification failed. Please try again."}})}clearOTPForm(){this.otpForm.reset()}clearCountdown(){this.countdownInterval&&clearInterval(this.countdownInterval)}startOTPCountdown(){this.otpResendEnabled=!1,this.resendCountdown=10,this.countdownInterval=setInterval(()=>{this.resendCountdown--,this.resendCountdown<=0&&(this.otpResendEnabled=!0,this.otpExpired=!0,this.clearCountdown())},1e3)}resendOTP(o){this.isResendingOTP=!0;let r={login:this.loginForm.get("login")?.value};this.auth.resendOTP(r).subscribe({next:l=>{this.isResendingOTP=!1,this.otpError=!1,this.otpExpired=!1,this.showOTPModal=!0,this.startOTPCountdown(),this.message=`Verification code resent successfully via ${o==="email"?"Email":"SMS"}`},error:l=>{this.isResendingOTP=!1,console.error("Error resending OTP:",l),this.otpError=!0,this.message=`Failed to resend via ${o==="email"?"Email":"SMS"}. Please try again.`}})}onOTPInputChange(o,e){let r=o.target,l=r.value;if(l&&!/^[0-9]$/.test(l)){r.value="";return}if(l&&e){let p=document.getElementById(e);p&&p.focus()}if(!l&&o.inputType==="deleteContentBackward"){let p=["digit1","digit2","digit3","digit4"],b=p.indexOf(r.id);if(b>0){let P=document.getElementById(p[b-1]);P&&P.focus()}}}ngOnDestroy(){this.clearCountdown()}static \u0275fac=function(e){return new(e||n)(C(Y),C(X),C(Q),C(R),C(F))};static \u0275cmp=k({type:n,selectors:[["app-login-modal"]],inputs:{redirectUrl:"redirectUrl"},outputs:{close:"close"},decls:47,vars:15,consts:[[1,"fixed","inset-0","z-50","bg-gray","bg-opacity-50","backdrop-blur-sm","flex","items-center","justify-center"],[1,"bg-white","rounded-xl","shadow-lg","w-full","max-w-sm","p-6"],[1,"flex","flex-col","items-center","mb-6"],["src","/pictures/dabapplogo.svg","alt","Dab",1,"w-12","h-12","mb-2"],[1,"text-center","mb-6"],[1,"text-base","font-medium","text-gray-800"],[1,"text-sm","text-gray-500","mt-1"],[3,"ngSubmit","formGroup"],[1,"mb-4"],[1,"block","text-sm","font-medium","text-gray-700"],["type","text","placeholder","Phone number or email","formControlName","login","required","",1,"w-full","mt-1","px-3","py-2","text-black","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-red-400","placeholder-gray-400",3,"input"],["class","text-sm text-red-600 mt-1",4,"ngIf"],[1,"relative"],["placeholder","Enter password","formControlName","password",1,"w-full","mt-1","px-3","py-2","text-black","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-red-400","placeholder-gray-400","pr-10",3,"type","required"],["type","button",1,"absolute","inset-y-0","right-0","flex","items-center","pr-3","text-gray-500","hover:text-gray-700","focus:outline-none",3,"click"],["xmlns","http://www.w3.org/2000/svg","class","h-5 w-5","fill","none","viewBox","0 0 24 24","stroke","currentColor",4,"ngIf"],[1,"text-sm","text-red-600","mt-1"],[1,"mb-4","p-3","rounded-lg","text-sm",3,"bg-green-100","bg-red-100","text-green-800","text-red-800"],[1,"bg-red-100","border","border-red-400","px-4","py-3","rounded-lg","mt-4","text-sm"],[1,"space-y-2"],["type","submit",1,"w-full","bg-red-500","hover:bg-red-600","disabled:bg-gray-300","text-white","font-semibold","py-2","px-4","rounded-lg",3,"disabled"],["type","button","routerLink","/register",1,"w-full","bg-gray-800","hover:bg-gray-900","text-white","font-semibold","py-2","px-4","rounded-lg",3,"click"],["type","button",1,"w-full","bg-white","border","border-gray-300","text-gray-800","hover:bg-gray-100","py-2","px-4","rounded-lg","flex","items-center","justify-center","gap-2",3,"disabled"],["viewBox","0 0 533.5 544.3","xmlns","http://www.w3.org/2000/svg",1,"w-5","h-5"],["fill","#4285f4","d","M533.5 278.4c0-17.4-1.6-34.1-4.6-50.4H272v95.3h146.9c-6.3 34-25.1 62.8-53.4 82.1v68h86.4c50.6-46.7 81.6-115.5 81.6-194.9z"],["fill","#34a853","d","M272 544.3c72.6 0 133.6-24 178.2-65.2l-86.4-68c-24 16-54.8 25.5-91.8 25.5-70.6 0-130.4-47.7-151.8-111.7h-89v69.9c44.5 88.1 136.3 149.5 240.8 149.5z"],["fill","#fbbc04","d","M120.2 324.9c-10.1-29.7-10.1-61.6 0-91.3v-69.9h-89c-38.2 75.6-38.2 165.5 0 241.1l89-69.9z"],["fill","#ea4335","d","M272 107.7c39.5 0 75 13.6 102.9 40.3l77.3-77.3C405.5 24 344.6 0 272 0c-104.5 0-196.3 61.4-240.8 149.5l89 69.9c21.3-64 81.1-111.7 151.8-111.7z"],[1,"font-medium"],["type","button",1,"w-full","bg-gray-100","hover:bg-gray-200","text-gray-800","font-semibold","py-2","px-4","rounded-lg",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.477 0 8.268 2.943 9.542 7-1.274 4.057-5.065 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13.875 18.825A10.05 10.05 0 0112 19c-4.477 0-8.268-2.943-9.542-7a9.959 9.959 0 012.065-3.368M9.88 9.88A3 3 0 0012 15a3 3 0 002.12-5.12M3 3l18 18"],[1,"mb-4","p-3","rounded-lg","text-sm"],[1,"block","mt-1"],["href","javascript:void(0)",1,"text-red-500","font-semibold","block","mt-2",3,"click"],[1,"bg-white","rounded-xl","shadow-lg","w-full","max-w-md","p-6"],[1,"text-lg","font-semibold","text-gray-800"],[1,"text-sm","text-gray-600","mt-2"],[1,"mt-4","p-3","bg-blue-50","rounded-lg"],[1,"flex","justify-center","mb-6"],["id","recaptcha-container"],[1,"mb-4","p-3","bg-blue-100","text-blue-800","rounded-lg","text-sm","text-center"],[1,"mb-4","p-3","bg-red-100","text-red-800","rounded-lg","text-sm","text-center"],[1,"text-sm","text-gray-700"],[1,"text-sm","text-gray-600"],[1,"mb-6"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"flex","justify-between","gap-2"],["id","digit1","type","text","maxlength","1","formControlName","digit1",1,"w-12","h-14","text-center","border","border-blue-500","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-red-400","text-black",3,"input"],["id","digit2","type","text","maxlength","1","formControlName","digit2",1,"w-12","h-14","text-center","border","border-blue-500","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-red-400","text-black",3,"input"],["id","digit3","type","text","maxlength","1","formControlName","digit3",1,"w-12","h-14","text-center","border","border-blue-500","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-red-400","text-black",3,"input"],["id","digit4","type","text","maxlength","1","formControlName","digit4",1,"w-12","h-14","text-center","border","border-blue-500","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-red-400","text-black",3,"input"],[1,"mt-4","text-center"],[1,"text-sm","text-red-600","mt-2","text-center"],[1,"flex","space-x-3"],["type","button",1,"flex-1","bg-gray-100","hover:bg-gray-200","text-gray-800","font-semibold","py-2","px-4","rounded-lg","border","border-gray-300",3,"click"],["type","submit",1,"flex-1","bg-red-500","hover:bg-red-600","disabled:bg-gray-300","text-white","font-semibold","py-2","px-4","rounded-lg",3,"disabled"],[1,"text-sm","text-red-600"],[1,"text-sm","text-green-600"],[1,"flex","flex-col","space-y-2","mt-2"],["type","button",1,"text-sm","text-blue-600","hover:text-blue-800","disabled:text-gray-400",3,"disabled"],["type","button",1,"text-sm","text-blue-600","hover:text-blue-800","disabled:text-gray-400",3,"click","disabled"],["type","text","placeholder","Email or phone number","formControlName","login","required","",1,"w-full","mt-1","px-3","py-2","text-black","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-red-400","placeholder-gray-400"],["formControlName","method",1,"w-full","mt-1","px-3","py-2","text-black","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-red-400"],["value","whatsapp"],["value","sms"],["value","email"],["type","text","placeholder","Enter OTP code","formControlName","code","required","",1,"w-full","mt-1","px-3","py-2","text-black","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-red-400","placeholder-gray-400"],["type","password","placeholder","Enter new password","formControlName","password","required","",1,"w-full","mt-1","px-3","py-2","text-black","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-red-400","placeholder-gray-400"],["type","password","placeholder","Confirm new password","formControlName","password_confirmation","required","",1,"w-full","mt-1","px-3","py-2","text-black","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-red-400","placeholder-gray-400"],[1,"mb-4","text-center"]],template:function(e,r){if(e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2),_(3,"img",3),t(),i(4,"div",4)(5,"h2",5),a(6,"Please Sign in or create an account"),t(),i(7,"p",6),a(8," To be able to sell or view information, you will"),_(9,"br"),a(10," need to have a Dabapp account "),t()(),i(11,"form",7),c("ngSubmit",function(){return r.onSubmit()}),i(12,"div",8)(13,"label",9),a(14,"Phone Number or Email"),t(),i(15,"input",10),c("input",function(){return r.onLoginInputChange()}),t(),g(16,ee,2,0,"p",11),t(),i(17,"div",8)(18,"label",9),a(19,"Password"),t(),i(20,"div",12),_(21,"input",13),i(22,"button",14),c("click",function(){return r.showPassword=!r.showPassword}),g(23,te,3,0,"svg",15)(24,ie,2,0,"svg",15),t()(),g(25,ne,2,0,"p",16),t(),g(26,oe,2,9,"div",17)(27,re,10,0,"div",18),i(28,"div",19)(29,"button",20),a(30," Sign in "),t(),i(31,"button",21),c("click",function(){return r.closeModal()}),a(32," Sign Up "),t(),i(33,"button",22),E(),i(34,"svg",23),_(35,"path",24)(36,"path",25)(37,"path",26)(38,"path",27),t(),T(),i(39,"span",28),a(40,"Continue with Google"),t()(),i(41,"button",29),c("click",function(){return r.closeModal()}),a(42," Cancel "),t()()()(),g(43,de,12,3,"div",0)(44,xe,28,8,"div",0),t(),g(45,ve,29,4,"div",0)(46,Te,31,8,"div",0)),e&2){let l,p,b,P;s(11),h("formGroup",r.loginForm),s(5),h("ngIf",((l=r.loginForm.get("login"))==null?null:l.invalid)&&((l=r.loginForm.get("login"))==null?null:l.touched)),s(5),h("type",r.showPassword?"text":"password")("required",!r.isPhone((p=r.loginForm.get("login"))==null?null:p.value)),s(2),h("ngIf",!r.showPassword),s(),h("ngIf",r.showPassword),s(),m((b=r.loginForm.get("password"))!=null&&b.invalid&&((b=r.loginForm.get("password"))!=null&&b.touched)?25:-1),s(),m(r.message?26:-1),s(),m(r.loginError&&!r.isPhone((P=r.loginForm.get("login"))==null?null:P.value)?27:-1),s(2),h("disabled",r.loginForm.invalid),s(4),h("disabled",r.isSigningInWithGoogle),s(10),m(r.showRecaptcha?43:-1),s(),m(r.showOTPModal?44:-1),s(),m(r.showForgotPasswordModal?45:-1),s(),m(r.showResetPasswordModal?46:-1)}},dependencies:[O,I,J,U,$,B,D,W,A,q,z,H,K,G,j,N],encapsulation:2})};export{Z as a};
