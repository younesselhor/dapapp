import{b as Le,c as qe,d as Be,e as Ge}from"./chunk-TLKPMJPI.js";import{i as ye,k as be}from"./chunk-Z35ZOHGZ.js";import{b as xe,c,d as Fe,e as Se,f as H,g as T,h as Ce,i as we,j as Ee,k as Pe,m as Ie,o as ke,p as Ve,q as Te,r as Ne,w as De,x as Ae,y as Me,z as Oe}from"./chunk-ZKLSLQJX.js";import{$a as s,Ab as S,Bb as C,Cb as U,Da as R,Eb as ae,Fa as a,Fb as de,Gb as se,Hb as me,Ka as M,Lb as w,Pa as Z,Pb as E,Qb as P,Sa as X,T as Q,Ua as u,_a as W,a as V,ab as ee,b as D,d as $,ea as v,fa as f,ga as x,ha as G,ib as n,jb as i,jc as ce,kb as _,kc as pe,lb as te,lc as ue,mb as ie,mc as _e,nc as ge,ob as F,oc as ve,pb as h,qb as p,tb as ne,tc as fe,vb as re,wa as J,wb as oe,wc as he,xb as le,yb as B,zb as d}from"./chunk-EHK7OZ2L.js";var Y=class l{transform(t){return t?t.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):""}static \u0275fac=function(e){return new(e||l)};static \u0275pipe=X({name:"formatFieldName",type:l,pure:!0})};var z=class l{constructor(){}step1Data=null;step2Data=null;setStep1Data(t){this.step1Data=t}getStep1Data(){return this.step1Data}setStep2Data(t){this.step2Data=t}getStep2Data(){return this.step2Data}getCombinedData(){return V(V({},this.step1Data),this.step2Data)}resetFormData(){this.step1Data=null,this.step2Data=null}static \u0275fac=function(e){return new(e||l)};static \u0275prov=Q({token:l,factory:l.\u0275fac,providedIn:"root"})};var Ue=["fileInput"],Ye=(l,t)=>({"bg-red-500 text-white":l,"bg-white text-gray-500 border border-gray-300":t}),ze=(l,t)=>({"font-semibold text-red-500":l,"font-semibold":t}),I=(l,t)=>({"border-red-500 bg-red-50":l,"border-gray-200":t});function We(l,t){if(l&1&&(n(0,"div",20),_(1,"div",21),i()),l&2){let e=p().index,r=p();a(),ee("width",r.currentStep>e+1?"100%":r.currentStep===e+1?"50%":"0%")}}function He(l,t){if(l&1&&(te(0),n(1,"div",14)(2,"div",15),d(3),i(),n(4,"div",16)(5,"p",17),d(6),i(),n(7,"p",18),d(8),i()()(),u(9,We,2,2,"div",19),ie()),l&2){let e=t.$implicit,r=t.index,o=p();a(2),s("ngClass",w(6,Ye,o.currentStep>=r+1,o.currentStep<r+1)),a(),C(" ",r+1," "),a(2),s("ngClass",w(9,ze,o.currentStep===r+1,o.currentStep!==r+1)),a(),C(" ",e.title," "),a(2),S(e.subtitle),a(),s("ngIf",r<o.steps.length-1)}}function Ke(l,t){l&1&&(n(0,"div",35),x(),n(1,"svg",36),_(2,"path",37),i()())}function Qe(l,t){if(l&1){let e=F();n(0,"div",28),h("click",function(){let o=v(e).$implicit,m=p(2);return f(m.selectVehicleType(o.category_id))}),u(1,Ke,3,0,"div",29),n(2,"div",30)(3,"div",31),_(4,"img",32),n(5,"span",33),d(6),i(),n(7,"span",34),d(8),i()()()()}if(l&2){let e=t.$implicit,r=p(2);s("ngClass",w(6,I,r.selectedVehicleType===e.category_id,r.selectedVehicleType!==e.category_id)),a(),s("ngIf",r.selectedVehicleType===e.category_id),a(3),ne("alt",e.name),s("src",e.imageUrl,R),a(2),S(e.name),a(2),S(e.note)}}function Je(l,t){if(l&1){let e=F();n(0,"div",71),_(1,"img",72),n(2,"button",73),h("click",function(){let o=v(e).index,m=p(3);return f(m.removeImage(o))}),d(3," \u2715 "),i()()}if(l&2){let e=t.$implicit,r=t.index;a(),s("src",e.preview,R)("alt","Uploaded image "+r)}}function Ze(l,t){if(l&1){let e=F();n(0,"div",74),h("click",function(){v(e);let o=B(4);return f(o.click())}),x(),n(1,"svg",75),_(2,"path",76),i(),G(),n(3,"input",77,2),h("change",function(o){v(e);let m=p(3);return f(m.handleFileInput(o))}),i()()}}function Xe(l,t){l&1&&(n(0,"span",78),d(1,"Please upload at least 4 images."),i())}function et(l,t){if(l&1&&(n(0,"option",79),d(1),i()),l&2){let e=t.$implicit;s("value",e.id),a(),C(" ",e.name," ")}}function tt(l,t){l&1&&(n(0,"div",80),d(1," Brand is required. "),i())}function it(l,t){if(l&1&&(n(0,"option",79),d(1),i()),l&2){let e=t.$implicit;s("value",e.id),a(),C(" ",e.name," ")}}function nt(l,t){if(l&1&&(n(0,"option",79),d(1),i()),l&2){let e=t.$implicit;s("value",e.id),a(),C(" ",e.year.toString()," ")}}function rt(l,t){l&1&&(n(0,"div",81),x(),n(1,"svg",82),_(2,"path",37),i()())}function ot(l,t){l&1&&(n(0,"div"),_(1,"img",83),i())}function lt(l,t){if(l&1){let e=F();n(0,"div",60),h("click",function(){let o=v(e).$implicit,m=p(3);return f(m.selectBodyCondition(o))}),n(1,"div",61)(2,"span"),d(3),i(),u(4,rt,3,0,"div",62)(5,ot,2,0,"div",9),i()()}if(l&2){let e,r,o,m=t.$implicit,g=p(3);s("ngClass",w(4,I,((e=g.vehicleForm.get("body_condition"))==null?null:e.value)===m,((e=g.vehicleForm.get("body_condition"))==null?null:e.value)!==m)),a(3),S(m),a(),s("ngIf",((r=g.vehicleForm.get("body_condition"))==null?null:r.value)===m),a(),s("ngIf",((o=g.vehicleForm.get("body_condition"))==null?null:o.value)!==m)}}function at(l,t){l&1&&(n(0,"div",81),x(),n(1,"svg",82),_(2,"path",37),i()())}function dt(l,t){l&1&&(n(0,"div"),_(1,"img",83),i())}function st(l,t){l&1&&(n(0,"div",81),x(),n(1,"svg",82),_(2,"path",37),i()())}function mt(l,t){l&1&&(n(0,"div",81),x(),n(1,"svg",82),_(2,"path",37),i()())}function ct(l,t){l&1&&(n(0,"div",81),x(),n(1,"svg",82),_(2,"path",37),i()())}function pt(l,t){l&1&&(n(0,"div",81),x(),n(1,"svg",82),_(2,"path",37),i()())}function ut(l,t){l&1&&(n(0,"div",81),x(),n(1,"svg",82),_(2,"path",37),i()())}function _t(l,t){l&1&&(n(0,"div",81),x(),n(1,"svg",82),_(2,"path",37),i()())}function gt(l,t){if(l&1){let e=F();n(0,"div",60),h("click",function(){let o=v(e).$implicit,m=p(3);return f(m.selectVehicleCare(o))}),n(1,"div",61)(2,"span"),d(3),i(),u(4,_t,3,0,"div",62),i()()}if(l&2){let e,r,o=t.$implicit,m=p(3);s("ngClass",w(3,I,((e=m.vehicleForm.get("vehicle_care"))==null?null:e.value)===o,((e=m.vehicleForm.get("vehicle_care"))==null?null:e.value)!==o)),a(3),S(o),a(),s("ngIf",((r=m.vehicleForm.get("vehicle_care"))==null?null:r.value)===o)}}function vt(l,t){l&1&&(n(0,"div",81),x(),n(1,"svg",82),_(2,"path",37),i()())}function ft(l,t){if(l&1){let e=F();n(0,"div",60),h("click",function(){let o=v(e).$implicit,m=p(3);return f(m.selectTransmission(o))}),n(1,"div",61)(2,"span"),d(3),i(),u(4,vt,3,0,"div",62),i()()}if(l&2){let e,r,o=t.$implicit,m=p(3);s("ngClass",w(3,I,((e=m.vehicleForm.get("transmission"))==null?null:e.value)===o,((e=m.vehicleForm.get("transmission"))==null?null:e.value)!==o)),a(3),S(o),a(),s("ngIf",((r=m.vehicleForm.get("transmission"))==null?null:r.value)===o)}}function ht(l,t){if(l&1){let e=F();n(0,"form",38)(1,"div",39)(2,"h3",40),d(3),E(4,"translate"),i(),n(5,"div",41)(6,"p",42),d(7),E(8,"translate"),i(),n(9,"div",43),u(10,Je,4,2,"div",44)(11,Ze,5,0,"div",45),i(),n(12,"p",46),d(13," Only SVG, PNG, JPG or GIF (max. 2000x2000px)"),_(14,"br"),u(15,Xe,2,0,"span",47),i()(),n(16,"div",48)(17,"div")(18,"label",49),d(19),E(20,"translate"),i(),n(21,"select",50,0),h("change",function(){v(e);let o=B(22),m=p(2);return f(m.onBrandChange(o.value))}),n(23,"option",51),d(24),E(25,"translate"),i(),u(26,et,2,2,"option",52),i(),u(27,tt,2,0,"div",53),i(),n(28,"div")(29,"label",49),d(30),E(31,"translate"),i(),n(32,"select",54,1),h("change",function(){v(e);let o=B(33),m=p(2);return f(m.onModelChange(o.value))}),n(34,"option",51),d(35),E(36,"translate"),i(),u(37,it,2,2,"option",52),i()(),n(38,"div")(39,"label",49),d(40,"Year"),i(),n(41,"select",55)(42,"option",51),d(43,"Select a year"),i(),u(44,nt,2,2,"option",52),i()()(),n(45,"div",41)(46,"label",56),d(47,"Vehicle Body Condition"),i(),n(48,"div",57),u(49,lt,6,7,"div",58),i()(),n(50,"div",41)(51,"label",56),d(52,"Modified?"),i(),n(53,"div",59)(54,"div",60),h("click",function(){v(e);let o=p(2);return f(o.selectModified("Yes"))}),n(55,"div",61)(56,"span"),d(57,"Yes"),i(),u(58,at,3,0,"div",62)(59,dt,2,0,"div",9),i()(),n(60,"div",60),h("click",function(){v(e);let o=p(2);return f(o.selectModified("No"))}),n(61,"div",61)(62,"span"),d(63,"No"),i(),u(64,st,3,0,"div",62),i()()()(),n(65,"div",41)(66,"label",56),d(67,"Warranty ?"),i(),n(68,"div",59)(69,"div",60),h("click",function(){v(e);let o=p(2);return f(o.selectInsurance("Yes"))}),n(70,"div",61)(71,"span"),d(72,"Yes"),i(),u(73,mt,3,0,"div",62),i()(),n(74,"div",60),h("click",function(){v(e);let o=p(2);return f(o.selectInsurance("No"))}),n(75,"div",61)(76,"span"),d(77,"No"),i(),u(78,ct,3,0,"div",62),i()()()(),n(79,"div",41)(80,"label",56),d(81,"Condition"),i(),n(82,"div",59)(83,"div",60),h("click",function(){v(e);let o=p(2);return f(o.selectCondition("New"))}),n(84,"div",61)(85,"span"),d(86,"New"),i(),u(87,pt,3,0,"div",62),i()(),n(88,"div",60),h("click",function(){v(e);let o=p(2);return f(o.selectCondition("Used"))}),n(89,"div",61)(90,"span"),d(91,"Used"),i(),u(92,ut,3,0,"div",62),i()()()(),n(93,"div",41)(94,"label",56),d(95,"Vehicle Care"),i(),n(96,"div",63),u(97,gt,5,6,"div",58),i()(),n(98,"div",64)(99,"div")(100,"label",56),d(101,"Engine Capacity"),i(),n(102,"div",65)(103,"span",66),d(104," CC "),i(),_(105,"input",67),i()(),n(106,"div")(107,"label",56),d(108,"Kilometer"),i(),n(109,"div",65)(110,"span",66),d(111," KM "),i(),_(112,"input",68),i()()(),n(113,"div",41)(114,"label",56),d(115,"Transmission"),i(),n(116,"div",57),u(117,ft,5,6,"div",58),i()()(),n(118,"div",69)(119,"button",70),h("click",function(){v(e);let o=p(2);return f(o.goToNextStep())}),d(120," Next "),i()()()}if(l&2){let e,r,o,m,g,k,N,A,O,L,q,j,b,K,y=p(2);s("formGroup",y.vehicleForm),a(3),S(P(4,33,"FORM.BIKE_DETAILS")),a(4),S(P(8,35,"FORM.ADD_IMAGES")),a(3),s("ngForOf",y.uploadedImages),a(),s("ngIf",y.uploadedImages.length<y.maxImages),a(4),s("ngIf",y.uploadedImages.length<4),a(4),S(P(20,37,"FORM.BRAND")),a(5),S(P(25,39,"FORM.SELECT_BRAND")),a(2),s("ngForOf",y.brands),a(),s("ngIf",((e=y.vehicleForm.get("brand_id"))==null?null:e.touched)&&((e=y.vehicleForm.get("brand_id"))==null?null:e.invalid)),a(3),S(P(31,41,"FORM.MODEL")),a(2),s("disabled",y.models.length===0),a(3),S(P(36,43,"FORM.SELECT_MODEL")),a(2),s("ngForOf",y.models),a(4),s("disabled",y.years.length===0),a(3),s("ngForOf",y.years),a(5),s("ngForOf",y.bodyConditions),a(5),s("ngClass",w(45,I,((r=y.vehicleForm.get("modified"))==null?null:r.value)==="Yes",((r=y.vehicleForm.get("modified"))==null?null:r.value)!=="Yes")),a(4),s("ngIf",((o=y.vehicleForm.get("modified"))==null?null:o.value)==="Yes"),a(),s("ngIf",((m=y.vehicleForm.get("modified"))==null?null:m.value)==="No"),a(),s("ngClass",w(48,I,((g=y.vehicleForm.get("modified"))==null?null:g.value)==="No",((g=y.vehicleForm.get("modified"))==null?null:g.value)!=="No")),a(4),s("ngIf",((k=y.vehicleForm.get("modified"))==null?null:k.value)==="No"),a(5),s("ngClass",w(51,I,((N=y.vehicleForm.get("insurance"))==null?null:N.value)==="Yes",((N=y.vehicleForm.get("insurance"))==null?null:N.value)!=="Yes")),a(4),s("ngIf",((A=y.vehicleForm.get("insurance"))==null?null:A.value)==="Yes"),a(),s("ngClass",w(54,I,((O=y.vehicleForm.get("insurance"))==null?null:O.value)==="No",((O=y.vehicleForm.get("insurance"))==null?null:O.value)!=="No")),a(4),s("ngIf",((L=y.vehicleForm.get("insurance"))==null?null:L.value)==="No"),a(5),s("ngClass",w(57,I,((q=y.vehicleForm.get("general_condition"))==null?null:q.value)==="New",((q=y.vehicleForm.get("general_condition"))==null?null:q.value)!=="New")),a(4),s("ngIf",((j=y.vehicleForm.get("general_condition"))==null?null:j.value)==="New"),a(),s("ngClass",w(60,I,((b=y.vehicleForm.get("general_condition"))==null?null:b.value)==="Used",((b=y.vehicleForm.get("general_condition"))==null?null:b.value)!=="Used")),a(4),s("ngIf",((K=y.vehicleForm.get("general_condition"))==null?null:K.value)==="Used"),a(5),s("ngForOf",y.vehicleCareOptions),a(20),s("ngForOf",y.transmissionTypes),a(2),s("disabled",y.vehicleForm.invalid||y.uploadedImages.length<4)}}function yt(l,t){if(l&1){let e=F();n(0,"div",71),_(1,"img",72),n(2,"button",73),h("click",function(){let o=v(e).index,m=p(3);return f(m.removeImage(o))}),d(3," \u2715 "),i()()}if(l&2){let e=t.$implicit,r=t.index;a(),s("src",e.preview,R)("alt","Uploaded image "+r)}}function bt(l,t){if(l&1){let e=F();n(0,"div",74),h("click",function(){v(e);let o=B(4);return f(o.click())}),x(),n(1,"svg",75),_(2,"path",76),i(),G(),n(3,"input",77,2),h("change",function(o){v(e);let m=p(3);return f(m.handleFileInput(o))}),i()()}}function xt(l,t){l&1&&(n(0,"span",78),d(1,"Please upload at least 4 images."),i())}function Ft(l,t){if(l&1&&(n(0,"option",79),d(1),i()),l&2){let e=t.$implicit;s("value",e.id),a(),C(" ",e.name," ")}}function St(l,t){l&1&&(n(0,"div",80),d(1," Brand is required. "),i())}function Ct(l,t){if(l&1&&(n(0,"option",79),d(1),i()),l&2){let e=t.$implicit;s("value",e.id),a(),C(" ",e.name," ")}}function wt(l,t){if(l&1&&(n(0,"option",79),d(1),i()),l&2){let e=t.$implicit;s("value",e.id),a(),C(" ",e.name," ")}}function Et(l,t){l&1&&(n(0,"div",80),d(1," Brand is required. "),i())}function Pt(l,t){if(l&1&&(n(0,"option",79),d(1),i()),l&2){let e=t.$implicit;s("value",e.id),a(),C(" ",e.name," ")}}function It(l,t){if(l&1&&(n(0,"option",79),d(1),i()),l&2){let e=t.$implicit;s("value",e.id),a(),C(" ",e.year.toString()," ")}}function kt(l,t){l&1&&(n(0,"div",81),x(),n(1,"svg",82),_(2,"path",37),i()())}function Vt(l,t){if(l&1){let e=F();n(0,"div",60),h("click",function(){let o=v(e).$implicit,m=p(3);return f(m.selectBodyCondition(o))}),n(1,"div",61)(2,"span"),d(3),i(),u(4,kt,3,0,"div",62),i()()}if(l&2){let e,r,o=t.$implicit,m=p(3);s("ngClass",w(3,I,((e=m.vehicleForm.get("body_condition"))==null?null:e.value)===o,((e=m.vehicleForm.get("body_condition"))==null?null:e.value)!==o)),a(3),S(o),a(),s("ngIf",((r=m.vehicleForm.get("body_condition"))==null?null:r.value)===o)}}function Tt(l,t){if(l&1){let e=F();n(0,"form",38)(1,"div",39)(2,"h3",40),d(3,"Part Details"),i(),n(4,"div",41)(5,"p",42),d(6,"Add images"),i(),n(7,"div",43),u(8,yt,4,2,"div",44)(9,bt,5,0,"div",45),i(),n(10,"p",46),d(11," Only SVG, PNG, JPG or GIF (max. 2000x2000px)"),_(12,"br"),u(13,xt,2,0,"span",47),i()(),n(14,"div",64)(15,"div")(16,"label",49),d(17,"Brand"),i(),n(18,"select",84)(19,"option",51),d(20),E(21,"translate"),i(),u(22,Ft,2,2,"option",52),i(),u(23,St,2,0,"div",53),i(),n(24,"div")(25,"label",49),d(26),E(27,"translate"),i(),n(28,"select",85)(29,"option",51),d(30),E(31,"translate"),i(),u(32,Ct,2,2,"option",52),i()()(),n(33,"div",48)(34,"div")(35,"label",49),d(36,"Brand"),i(),n(37,"select",50,0),h("change",function(){v(e);let o=B(38),m=p(2);return f(m.onBrandChange(o.value))}),n(39,"option",51),d(40),E(41,"translate"),i(),u(42,wt,2,2,"option",52),i(),u(43,Et,2,0,"div",53),i(),n(44,"div")(45,"label",49),d(46),E(47,"translate"),i(),n(48,"select",54,1),h("change",function(){v(e);let o=B(49),m=p(2);return f(m.onModelChange(o.value))}),n(50,"option",51),d(51),E(52,"translate"),i(),u(53,Pt,2,2,"option",52),i()(),n(54,"div")(55,"label",49),d(56,"Year"),i(),n(57,"select",55)(58,"option",51),d(59,"Select a year"),i(),u(60,It,2,2,"option",52),i()()(),n(61,"div",41)(62,"label",56),d(63,"Condition"),i(),n(64,"div",59),u(65,Vt,5,6,"div",58),i()(),n(66,"div",41)(67,"label",86),d(68," Description "),n(69,"span",87),x(),n(70,"svg",88),_(71,"path",89),i()()(),G(),_(72,"textarea",90),i()(),n(73,"div",69)(74,"button",70),h("click",function(){v(e);let o=p(2);return f(o.goToNextStep())}),d(75," Next "),i()()()}if(l&2){let e,r,o=p(2);s("formGroup",o.bikeForm),a(8),s("ngForOf",o.uploadedImages),a(),s("ngIf",o.uploadedImages.length<o.maxImages),a(4),s("ngIf",o.uploadedImages.length<4),a(7),S(P(21,22,"FORM.SELECT_BRAND")),a(2),s("ngForOf",o.brandsPart),a(),s("ngIf",((e=o.vehicleForm.get("bike_part_brand_id"))==null?null:e.touched)&&((e=o.vehicleForm.get("bike_part_brand_id"))==null?null:e.invalid)),a(3),S(P(27,24,"FORM.MODEL")),a(2),s("disabled",o.models.length===0),a(2),S(P(31,26,"FORM.SELECT_MODEL")),a(2),s("ngForOf",o.partCategory),a(8),S(P(41,28,"FORM.SELECT_BRAND")),a(2),s("ngForOf",o.brands),a(),s("ngIf",((r=o.vehicleForm.get("brand_id"))==null?null:r.touched)&&((r=o.vehicleForm.get("brand_id"))==null?null:r.invalid)),a(3),S(P(47,30,"FORM.MODEL")),a(2),s("disabled",o.models.length===0),a(3),S(P(52,32,"FORM.SELECT_MODEL")),a(2),s("ngForOf",o.models),a(4),s("disabled",o.years.length===0),a(3),s("ngForOf",o.years),a(5),s("ngForOf",o.partsConditions),a(9),s("disabled",o.bikeForm.invalid||o.uploadedImages.length<4)}}function Nt(l,t){if(l&1&&(n(0,"option",79),d(1),i()),l&2){let e=t.$implicit;s("value",e.id),a(),C(" ",e.name," ")}}function Dt(l,t){l&1&&(n(0,"div",80),d(1," Country is required "),i())}function At(l,t){if(l&1&&(n(0,"option",79),d(1),i()),l&2){let e=t.$implicit;s("value",e.id),a(),C(" ",e.name," ")}}function Mt(l,t){l&1&&(n(0,"div",80),d(1," City is required "),i())}function Ot(l,t){l&1&&(n(0,"span",78),d(1,"*"),i())}function Lt(l,t){if(l&1){let e=F();n(0,"input",107),E(1,"formatFieldName"),h("keypress",function(o){v(e);let m=p().$implicit,g=p(4);return f(g.allowOnlyDigits(o,m.writing_system))}),i()}if(l&2){let e=p().$implicit;s("id",e.controlName)("formControlName",e.controlName)("pattern",e.writing_system==="arabic"?"[\u0660-\u0669\u06F0-\u06F90-9]+":"[0-9]+")("placeholder","Enter "+P(1,5,e.field_name)),W("maxlength",e.max_length)}}function qt(l,t){if(l&1){let e=F();n(0,"input",108),E(1,"formatFieldName"),h("keypress",function(o){v(e);let m=p().$implicit,g=p(4);return f(g.allowOnlyLetters(o,m.writing_system))}),i()}if(l&2){let e=p().$implicit;s("id",e.controlName)("formControlName",e.controlName)("placeholder","Enter "+P(1,4,e.field_name)),W("maxlength",e.max_length)}}function Bt(l,t){if(l&1&&(n(0,"div",102)(1,"label",103),d(2),E(3,"formatFieldName"),u(4,Ot,2,0,"span",47),i(),u(5,Lt,2,7,"input",104)(6,qt,2,6,"input",105),n(7,"div",106),d(8),E(9,"formatFieldName"),i()()),l&2){let e=t.$implicit;a(),s("for",e.controlName),a(),C(" ",P(3,9,e.field_name)," "),a(2),s("ngIf",e.is_required),a(),s("ngIf",e.character_type==="digit"),a(),s("ngIf",e.character_type==="letter"),a(2),ae(" Position: ",P(9,11,e.position)," | Type: ",e.character_type==="digit"?"Numbers":"Letters"," | Length: ",e.min_length,"-",e.max_length," characters ")}}function Gt(l,t){if(l&1&&(n(0,"div",41)(1,"h4",99),d(2,"Plate Information"),i(),n(3,"div",100),u(4,Bt,10,13,"div",101),i()()),l&2){let e=p(3);a(4),s("ngForOf",e.dynamicFields)}}function jt(l,t){l&1&&(n(0,"div",109)(1,"div",18),d(2,"Loading plate format..."),i()())}function $t(l,t){l&1&&(n(0,"div",109)(1,"div",18),d(2,"No plate format available for selected city"),i()())}function Rt(l,t){if(l&1){let e=F();n(0,"form",38)(1,"div",39)(2,"h3",40),d(3,"License Plate Details"),i(),n(4,"div",41)(5,"label",56),d(6,"Country"),i(),n(7,"select",91)(8,"option",51),d(9,"Select the country"),i(),u(10,Nt,2,2,"option",52),i(),u(11,Dt,2,0,"div",53),i(),n(12,"div",41)(13,"label",92),d(14,"City"),i(),n(15,"div",93)(16,"select",94)(17,"option",51),d(18,"Select a City"),i(),u(19,At,2,2,"option",52),i()(),u(20,Mt,2,0,"div",53),i(),u(21,Gt,5,1,"div",95)(22,jt,3,0,"div",96)(23,$t,3,0,"div",96),i(),n(24,"div",97)(25,"button",98),h("click",function(){v(e);let o=p(2);return f(o.goToNextStep())}),d(26," Next "),i()()()}if(l&2){let e,r,o,m,g=p(2);s("formGroup",g.platesForm),a(10),s("ngForOf",g.countries),a(),s("ngIf",((e=g.platesForm.get("country_id_lp"))==null?null:e.invalid)&&((e=g.platesForm.get("country_id_lp"))==null?null:e.touched)),a(5),s("disabled",!g.filteredCities.length),a(3),s("ngForOf",g.filteredCities),a(),s("ngIf",((r=g.platesForm.get("city_id_lp"))==null?null:r.invalid)&&((r=g.platesForm.get("city_id_lp"))==null?null:r.touched)),a(),s("ngIf",g.dynamicFields.length>0),a(),s("ngIf",((o=g.platesForm.get("city_id_lp"))==null?null:o.value)&&!g.dynamicFields.length&&!g.selectedPlateFormat),a(),s("ngIf",((m=g.platesForm.get("city_id_lp"))==null?null:m.value)&&g.dynamicFields.length===0&&g.selectedPlateFormat===null),a(2),s("disabled",!g.allRequiredFieldsFilled())}}function Ut(l,t){l&1&&(n(0,"div",39)(1,"p",110),d(2," Please select a vehicle type above to continue "),i()())}function Yt(l,t){if(l&1&&(n(0,"div")(1,"h2",22),d(2,"What are you selling?"),i(),n(3,"div",23),u(4,Qe,9,9,"div",24),i(),n(5,"div",25),u(6,ht,121,63,"form",26)(7,Tt,76,34,"form",26)(8,Rt,27,10,"form",26)(9,Ut,3,0,"div",27),i()()),l&2){let e=p();a(4),s("ngForOf",e.vehicleOptions),a(),s("ngSwitch",e.selectedVehicleType),a(),s("ngSwitchCase",1),a(),s("ngSwitchCase",2),a(),s("ngSwitchCase",3)}}function zt(l,t){l&1&&(n(0,"div",81),x(),n(1,"svg",82),_(2,"path",37),i()())}function Wt(l,t){l&1&&_(0,"div",139)}function Ht(l,t){l&1&&(n(0,"div",81),x(),n(1,"svg",82),_(2,"path",37),i()())}function Kt(l,t){l&1&&_(0,"div",139)}function Qt(l,t){l&1&&(n(0,"div",81),x(),n(1,"svg",82),_(2,"path",37),i()())}function Jt(l,t){l&1&&_(0,"div",139)}function Zt(l,t){l&1&&(n(0,"div",81),x(),n(1,"svg",82),_(2,"path",37),i()())}function Xt(l,t){l&1&&_(0,"div",139)}function ei(l,t){l&1&&(n(0,"div",140)(1,"h4",141),d(2,"Soom Settings"),i(),n(3,"p",142),d(4," We can tell users here some information about Soom, and how it works and the expiration period of ads or requests. "),i(),n(5,"div",143)(6,"label",144),d(7," Automatically decline offers under "),i(),n(8,"div",145)(9,"div",146)(10,"span",147),d(11,"SAR"),i()(),_(12,"input",148),i()()())}function ti(l,t){l&1&&(n(0,"div",41)(1,"label",149),d(2,"Price"),i(),n(3,"div",145)(4,"div",146)(5,"span",147),d(6,"SAR"),i()(),_(7,"input",150),i()())}function ii(l,t){if(l&1&&(n(0,"option",79),d(1),i()),l&2){let e=t.$implicit;s("value",e.id),a(),C(" ",e.name," ")}}function ni(l,t){if(l&1&&(n(0,"option",79),d(1),i()),l&2){let e=t.$implicit;s("value",e.id),a(),C(" ",e.name," ")}}function ri(l,t){if(l&1){let e=F();n(0,"button",151),h("click",function(){v(e);let o=p(2);return f(o.previousStep())}),d(1," Back "),i()}}function oi(l,t){if(l&1){let e=F();n(0,"div",111)(1,"div",39)(2,"h2",112),d(3,"2. AD Details"),i(),n(4,"form",38)(5,"div",113)(6,"div",114)(7,"label",115),d(8,"Your Name"),i(),n(9,"div",116),d(10,"Ashraf Mahmoud"),i()(),n(11,"div",114)(12,"label",115),d(13,"Phone Number "),n(14,"span",117),d(15,"(helps users contact you)"),i()(),n(16,"div",116),d(17,"+966 23849021"),i()()(),n(18,"div",41)(19,"label",118),d(20,"Ad Name"),i(),_(21,"input",119),i(),n(22,"div",41)(23,"label",86),d(24," Description "),n(25,"span",87),x(),n(26,"svg",88),_(27,"path",89),i()()(),G(),_(28,"textarea",90),i(),n(29,"div",41)(30,"label",56),d(31,"Preferred contact submission method"),i(),n(32,"div",120)(33,"div",121)(34,"div",122),h("click",function(){let o;v(e);let m=p();return f((o=m.adDetailsForm.get("allow_submission"))==null?null:o.setValue("false"))}),n(35,"div",123)(36,"span",124),d(37,"Direct"),i(),u(38,zt,3,0,"div",62)(39,Wt,1,0,"div",125),i()()(),n(40,"div",121)(41,"div",122),h("click",function(){let o;v(e);let m=p();return f((o=m.adDetailsForm.get("allow_submission"))==null?null:o.setValue("true"))}),n(42,"div",123)(43,"span",124),d(44,"Soom"),i(),u(45,Ht,3,0,"div",62)(46,Kt,1,0,"div",125),i()()()()(),n(47,"div",41)(48,"label",56),d(49,"Preferred contacting channels"),i(),n(50,"div",120)(51,"div",121)(52,"div",122),h("click",function(){let o;v(e);let m=p();return f((o=m.adDetailsForm.get("contacting_channel"))==null?null:o.setValue("phone"))}),n(53,"div",123)(54,"span",124),d(55,"Phone"),i(),u(56,Qt,3,0,"div",62)(57,Jt,1,0,"div",125),i()()(),n(58,"div",121)(59,"div",122),h("click",function(){let o;v(e);let m=p();return f((o=m.adDetailsForm.get("contacting_channel"))==null?null:o.setValue("whatsapp"))}),n(60,"div",123)(61,"span",124),d(62,"WhatsApp"),i(),u(63,Zt,3,0,"div",62)(64,Xt,1,0,"div",125),i()()()(),u(65,ei,13,0,"div",126),i(),u(66,ti,8,0,"div",95),n(67,"div",41)(68,"label",56),d(69,"Country"),i(),n(70,"select",127)(71,"option",128),d(72,"Select the country"),i(),u(73,ii,2,2,"option",52),i()(),n(74,"div",41)(75,"label",129),d(76,"City"),i(),n(77,"div",93)(78,"select",130)(79,"option",51),d(80,"Select a City"),i(),u(81,ni,2,2,"option",52),i(),_(82,"div",131),i()(),n(83,"div",41)(84,"label",132),d(85,"Are you?"),i(),n(86,"div",120)(87,"div",133)(88,"span",124),d(89,"Middleman"),i(),_(90,"input",134),i(),n(91,"div",133)(92,"span",124),d(93,"Selling your own vehicle"),i(),_(94,"input",135),i()()(),n(95,"div",136),u(96,ri,2,0,"button",137),n(97,"button",138),h("click",function(){v(e);let o=p();return f(o.goToNextStep())}),d(98," Next "),i()()()()()}if(l&2){let e,r,o,m,g,k,N,A,O,L,q,j,b=p();a(4),s("formGroup",b.adDetailsForm),a(30),s("ngClass",w(18,I,((e=b.adDetailsForm.get("allow_submission"))==null?null:e.value)==="false",((e=b.adDetailsForm.get("allow_submission"))==null?null:e.value)!=="false")),a(4),s("ngIf",((r=b.adDetailsForm.get("allow_submission"))==null?null:r.value)==="false"),a(),s("ngIf",((o=b.adDetailsForm.get("allow_submission"))==null?null:o.value)!=="false"),a(2),s("ngClass",w(21,I,((m=b.adDetailsForm.get("allow_submission"))==null?null:m.value)==="true",((m=b.adDetailsForm.get("allow_submission"))==null?null:m.value)!=="true")),a(4),s("ngIf",((g=b.adDetailsForm.get("allow_submission"))==null?null:g.value)==="true"),a(),s("ngIf",((k=b.adDetailsForm.get("allow_submission"))==null?null:k.value)!=="true"),a(6),s("ngClass",w(24,I,((N=b.adDetailsForm.get("contacting_channel"))==null?null:N.value)==="phone",((N=b.adDetailsForm.get("contacting_channel"))==null?null:N.value)!=="phone")),a(4),s("ngIf",((A=b.adDetailsForm.get("contacting_channel"))==null?null:A.value)==="phone"),a(),s("ngIf",((O=b.adDetailsForm.get("contacting_channel"))==null?null:O.value)!=="phone"),a(2),s("ngClass",w(27,I,((L=b.adDetailsForm.get("contacting_channel"))==null?null:L.value)==="whatsapp",((L=b.adDetailsForm.get("contacting_channel"))==null?null:L.value)!=="whatsapp")),a(4),s("ngIf",((q=b.adDetailsForm.get("contacting_channel"))==null?null:q.value)==="whatsapp"),a(),s("ngIf",((j=b.adDetailsForm.get("contacting_channel"))==null?null:j.value)!=="whatsapp"),a(),s("ngIf",b.isSoomSelected()),a(),s("ngIf",!b.isSoomSelected()),a(7),s("ngForOf",b.countries),a(8),s("ngForOf",b.allCities),a(15),s("ngIf",b.currentStep>1)}}function li(l,t){if(l&1&&(n(0,"span",190),d(1),i()),l&2){let e=p(2);a(),U(" ",e.pricingInfo.converted_price," ",e.pricingInfo.currency_symbol," ")}}function ai(l,t){if(l&1&&(n(0,"span",191),d(1),i()),l&2){let e=p(2);a(),U(" ",e.discountedPrice," ",e.pricingInfo.currency_symbol," ")}}function di(l,t){if(l&1&&(n(0,"span",192),d(1),i()),l&2){let e=p(2);a(),U(" ",e.pricingInfo.converted_price," ",e.pricingInfo.currency_symbol," ")}}function si(l,t){l&1&&(n(0,"span"),d(1,"Apply"),i())}function mi(l,t){l&1&&(n(0,"span"),d(1,"Applying..."),i())}function ci(l,t){if(l&1){let e=F();n(0,"button",193),h("click",function(){v(e);let o=p(2);return f(o.applyPromoCode())}),u(1,si,2,0,"span",9)(2,mi,2,0,"span",9),i()}if(l&2){let e=p(2);s("disabled",e.promoLoading||!e.promoCode),a(),s("ngIf",!e.promoLoading),a(),s("ngIf",e.promoLoading)}}function pi(l,t){if(l&1){let e=F();n(0,"button",194),h("click",function(){v(e);let o=p(2);return f(o.removePromoCode())}),d(1," Remove "),i()}}function ui(l,t){l&1&&(n(0,"div",195)(1,"div",196)(2,"span"),d(3,"Promocode applied!"),i(),x(),n(4,"svg",197),_(5,"path",198),i()(),G(),n(6,"button",199),d(7," Applied "),i()())}function _i(l,t){if(l&1&&(n(0,"div",200),d(1),i()),l&2){let e=p(2);a(),C(" ",e.promoError," ")}}function gi(l,t){if(l&1){let e=F();n(0,"button",151),h("click",function(){v(e);let o=p(2);return f(o.previousStep())}),d(1," Back "),i()}}function vi(l,t){if(l&1){let e=F();n(0,"div",152)(1,"h2",153),d(2,"3. Checkout"),i(),n(3,"div",154)(4,"div",155)(5,"span",33),d(6,"Ad Fees"),i(),n(7,"div"),u(8,li,2,2,"span",156)(9,ai,2,2,"span",157)(10,di,2,2,"span",158),i()(),n(11,"p",34),d(12,"One time fees, if you delete the ad you will be charged again"),i()(),n(13,"div",41)(14,"div",159)(15,"div",160)(16,"input",161),me("ngModelChange",function(o){v(e);let m=p();return se(m.promoCode,o)||(m.promoCode=o),f(o)}),i()(),u(17,ci,3,3,"button",162)(18,pi,2,0,"button",163),i(),u(19,ui,8,0,"div",164)(20,_i,2,1,"div",165),i(),n(21,"div",41)(22,"h3",166),d(23,"Payment"),i(),n(24,"p",167),d(25,"All transactions are secure and encrypted"),i(),n(26,"div",168)(27,"div",169)(28,"div",170)(29,"div",171),_(30,"div",172),i(),n(31,"span"),d(32,"Credit/Debit Card"),i()(),n(33,"div",173),_(34,"img",174)(35,"img",175),i()()(),n(36,"div",176)(37,"div",177)(38,"div")(39,"label",178),d(40,"Name on card"),i(),_(41,"input",179),i(),n(42,"div")(43,"label",178),d(44,"Expiry"),i(),_(45,"input",180),i()(),n(46,"div",120)(47,"div")(48,"label",178),d(49,"Card number"),i(),n(50,"div",93)(51,"div",181),_(52,"img",182),i(),_(53,"input",183),i()(),n(54,"div")(55,"label",178),d(56,"CVV"),i(),_(57,"input",184),i()()(),n(58,"div",185)(59,"div",186)(60,"div",170),_(61,"div",187),n(62,"span"),d(63,"Tamara"),i()(),n(64,"div",188),d(65,"tamara"),i()(),n(66,"div",186)(67,"div",170),_(68,"div",187),n(69,"span"),d(70,"Tabby"),i()(),n(71,"div",189),d(72,"tabby"),i()()()(),n(73,"div",136),u(74,gi,2,0,"button",137),n(75,"button",138),h("click",function(){v(e);let o=p();return f(o.goToNextStep())}),d(76," Next "),i()()()}if(l&2){let e=p();a(8),s("ngIf",e.isPromoApplied),a(),s("ngIf",e.isPromoApplied),a(),s("ngIf",!e.isPromoApplied),a(6),de("ngModel",e.promoCode),s("readonly",e.isPromoApplied),a(),s("ngIf",!e.isPromoApplied),a(),s("ngIf",e.isPromoApplied),a(),s("ngIf",e.isPromoApplied),a(),s("ngIf",e.promoError),a(54),s("ngIf",e.currentStep>1)}}function fi(l,t){l&1&&(n(0,"div",201),d(1,` Listing submitted successfully!
`),i())}function hi(l,t){if(l&1&&(n(0,"div",202),d(1),i()),l&2){let e=p();a(),C(" ",e.errorMessage,`
`)}}var $e=class l{constructor(t,e,r,o,m,g,k){this.fb=t;this.listingService=e;this.sharedFormDataService=r;this.translate=o;this.router=m;this.route=g;this.platformId=k;this.translate.setDefaultLang("en"),he(this.platformId)&&this.translate.use("en"),this.postingAnAd=this.fb.group({}),this.vehicleForm=this.fb.group({category_id:[1,c.required],vehicleType:["motorcycle",c.required],images:[],brand_id:["",c.required],model_id:["",c.required],year_id:["",c.required],body_condition:["As New",c.required],modified:["No",c.required],insurance:["Yes",c.required],general_condition:["Used",c.required],vehicle_care:["Wakeel",c.required],engine:["",[c.required,c.min(1)]],mileage:["",[c.required,c.min(0)]],transmission:["Automatic",c.required]}),this.bikeForm=this.fb.group({category_id:[2,c.required],images:[[]],bike_part_brand_id:["",c.required],bike_part_category_id:["",c.required],brand_id:["",c.required],model_id:["",c.required],year_id:[""],condition:["new",c.required],description:["",[c.required,c.minLength(20)]]}),this.platesForm=this.fb.group({type_id:[1,c.required],category_id:[3,c.required],plateFormat:["numbers-alphabets",c.required],country_id_lp:[,c.required],city_id_lp:[,c.required],firstAlphabet:[null],secondAlphabet:[null],thirdAlphabet:[null]}),this.adDetailsForm=this.fb.group({title:["",[c.required,c.minLength(5),c.maxLength(100)]],description:["",[c.required,c.minLength(20)]],allow_submission:["",c.required],contacting_channel:["",c.required],price:[null],country:["",c.required],city:["",c.required],seller_type:["",c.required],minimum_bid:[0]}),this.checkoutForm=this.fb.group({agreeToTerms:[!1,c.requiredTrue]})}currentStep=1;fileInput;uploadedImages=[];uploadedImageUrls=[];maxImages=10;requiredImages=4;pricingInfo=null;promoCode="";isPromoApplied=!1;promoLoading=!1;promoError=null;discountedPrice=null;vehicleFormData=null;vehicleForm;adDetailsForm;checkoutForm;bikeForm;postingAnAd;maxSteps=3;isSubmitting=!1;submissionSuccess=!1;submissionError=!1;errorMessage="";vehicleOptions=[{category_id:1,id:"motorcycle",name:"Motorcycle",icon:"motorcycle-icon",note:"Fees depend on the type",imageUrl:"/pictures/motoIconPostingAdd.svg"},{category_id:2,id:"bike-part",name:"Bike Part",icon:"bike-part-icon",note:"Fees depend on the type",imageUrl:"/pictures/usedpart.svg"},{category_id:3,id:"license-plate",name:"License Plate",icon:"license-plate-icon",note:"SAR 300",imageUrl:"/pictures/licensePlate.svg"}];uploadedFiles=[];iconPath=[{id:"motorcycle",path:"assets/icons/motorcycle.svg"},{id:"bike-part",path:"assets/icons/usedpart.svg"},{id:"license-plate",path:"assets/licensePlate.svg"}];plateFormatOptions=[{type_id:1,id:"numbers-alphabets",label:"Numbers & Alphabets",selected:!0},{type_id:2,id:"numbers-only",label:"Numbers Only",selected:!1}];brandsPart=[];partCategory=[];selectedVehicleType=1;brands=[];models=[];years=[];cities=[];bodyConditions=["As New","Used","Needs some fixes"];partsConditions=["New","Used"];vehicleCareOptions=["Wakeel","USA","Europe","GCC","Customs License"];transmissionTypes=["Automatic","Manual","Semi-Automatic"];steps=[{title:"Filling Product Details",subtitle:"Please provide your name and email"},{title:"Ad & Contact Details",subtitle:"Details needed for customers to contact you"},{title:"Checkout",subtitle:"Start collaborating with your team"}];sellerTypeOptions=[{value:"middleman",label:"Middleman"},{value:"owner",label:"Selling your own vehicle"}];selectedType=null;cardDetails={name:"Olivia Rhye",expiry:"06 2024",number:"1234 1234 1234 1234",cvv:"***"};adFees={original:100,discounted:90};promocode="WELCOME10";promocodeApplied=!0;paymentMethods=[{id:"card",name:"Credit/Debit Card",selected:!0},{id:"tamara",name:"Tamara",selected:!1,badge:"tamara"},{id:"tabby",name:"Tabby",selected:!1,badge:"tabby"}];draftLicensePlateFieldValues=[];platesForm;countries=[];allCities=[];filteredCities=[];dynamicFields=[];selectedPlateFormat=null;listingId=null;isLoadingDraft=!1;ngOnInit(){let t=this.route.snapshot.queryParamMap.get("draftId");t&&this.loadDraftData(+t),this.loadBrands(),this.getPartCategoryList(),this.getBrandPartList(),this.initForm(),this.loadCities(),this.setupFormListeners(),this.loadCitys(),this.platesForm.get("country_id_lp")?.valueChanges.subscribe(e=>{this.isLoadingDraft||this.onCountryChange(e)}),this.platesForm.get("city_id_lp")?.valueChanges.subscribe(e=>{this.isLoadingDraft||this.onCitySelected(e)})}loadDraftData(t){this.listingService.getSingleDraft(t).subscribe({next:e=>{let r=e?.data;if(console.log("draft: ",r),!!r){if(this.selectVehicleType(r.category_id),r.license_plate){let o=r.license_plate;this.isLoadingDraft=!0,this.platesForm.patchValue({country_id_lp:r.license_plate.country_id,city_id_lp:r.license_plate.city_id,plate_format_id:r.license_plate.plate_format_id}),setTimeout(()=>{this.patchDynamicFieldValues(r.license_plate.field_values.map(g=>({id:g.id,controlName:g.field_value})))},300),this.dynamicFields=r.license_plate.field_values.map(g=>{let k=g.format_field;return D(V({},k),{controlName:`${k.field_name}_${k.id}`})}),this.addDynamicFieldsToForm();let m=o.field_values;m?.length&&(this.addDynamicFieldsToForm(),Promise.resolve().then(()=>{this.patchDynamicFieldValues(m)}))}if(r.motorcycle){let{brand_id:o,model_id:m,year_id:g}=r.motorcycle;this.vehicleForm.patchValue({brand_id:o,model_id:m,year_id:g,engine:parseInt(r.motorcycle.engine),mileage:r.motorcycle.mileage,body_condition:r.motorcycle.body_condition,modified:r.motorcycle.modified?"Yes":"No",insurance:r.motorcycle.insurance?"Yes":"No",general_condition:r.motorcycle.general_condition,vehicle_care:r.motorcycle.vehicle_care,transmission:r.motorcycle.transmission}),this.uploadedImageUrls=r.images.map(k=>k.image_url),this.listingService.getMotorcycleFilters({brand_id:o}).subscribe(k=>{this.models=k.data.models||[],this.listingService.getMotorcycleFilters({brand_id:o,model_id:m}).subscribe(N=>{this.years=N.data.years.map(A=>({id:A.id,year:A.year}))})})}if(r.spare_part){let o=r.spare_part.motorcycles?.[0];this.bikeForm.patchValue({brand_id:o?.brand_id||"",model_id:o?.model_id||"",year_id:o?.year_id||"",bike_part_brand_id:r.spare_part.bike_part_brand_id,bike_part_category_id:r.spare_part.bike_part_category_id,general_condition:r.spare_part.condition,description:r.description}),this.uploadedImageUrls=r.images.map(m=>m.image_url),o?.brand_id&&this.listingService.getMotorcycleFilters({brand_id:o.brand_id}).subscribe(m=>{this.models=m.data.models||[],o?.model_id&&this.listingService.getMotorcycleFilters({brand_id:o.brand_id,model_id:o.model_id}).subscribe(g=>{this.years=g.data.years||[]})})}this.adDetailsForm.patchValue({title:r.title,description:r.description,price:r.price,city:r.city_id,country:r.country_id,listing_type_id:r.listing_type_id,contacting_channel:r.contacting_channel,seller_type:r.seller_type,allow_submission:r.allow_submission?"true":"false",minimum_bid:r.minimum_bid}),this.uploadedImages=(r.images||[]).map(o=>({preview:o.image_url,serverUrl:o.image_url,file:void 0})),this.currentStep=r.step||1}},error:e=>{console.error("\u274C Failed to load draft:",e)}})}patchDynamicFieldValues(t){t.forEach(e=>{let r=this.dynamicFields.find(o=>o.id===e.plate_format_field_id);if(r){let o=r.controlName;this.platesForm.get(o)?.patchValue(e.field_value),console.log(`\u2705 Patched ${o} with`,e.field_value)}else console.warn(`\u26A0\uFE0F No dynamic field found for id ${e.plate_format_field_id}`)})}initForm(){this.platesForm=this.fb.group({country_id_lp:[null,c.required],city_id_lp:[null,c.required],plate_format_id:[null,c.required]})}allowOnlyDigits(t,e="latin"){let r=t.key;e==="arabic"?/^[\u0660-\u0669]+$/.test(r)||t.preventDefault():/^[0-9]+$/.test(r)||t.preventDefault()}allowOnlyLetters(t,e="latin"){let r=t.key;e==="arabic"?/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\s]+$/.test(r)||t.preventDefault():/^[a-zA-Z\s]+$/.test(r)||t.preventDefault()}logFormStatus(){console.log("Form valid:",this.platesForm.valid),console.log("Form errors:",this.platesForm.errors),Object.keys(this.platesForm.controls).forEach(t=>{let e=this.platesForm.get(t);console.log(`Control ${t}:`,{value:e?.value,valid:e?.valid,errors:e?.errors,touched:e?.touched})})}loadCities(){this.listingService.getCityList().subscribe(t=>{this.countries=t.countries,this.allCities=t.cities})}setupFormListeners(){this.platesForm.get("country_id_lp")?.valueChanges.subscribe(t=>{this.onCountryChange(t)}),this.platesForm.get("city_id_lp")?.valueChanges.subscribe(t=>{t&&this.onCitySelected(t)})}onCountryChange(t){t&&(this.filteredCities=this.allCities.filter(e=>e.country_id===+t),this.platesForm.patchValue({city_id_lp:null}),this.clearDynamicFields())}getControlName(t){return`${t.field_name}_${t.id}`}getValidatorsForField(t){let e=[];return t.is_required&&e.push(c.required),t.min_length&&e.push(c.minLength(t.min_length)),t.max_length&&e.push(c.maxLength(t.max_length)),t.character_type==="letter"?t.writing_system==="latin"?e.push(c.pattern(/^[a-zA-Z]*$/)):t.writing_system==="arabic"&&e.push(c.pattern(/^[\u0600-\u06FF\s]*$/)):t.character_type==="digit"&&(t.writing_system==="latin"?e.push(c.pattern(/^[0-9]*$/)):t.writing_system==="arabic"&&e.push(c.pattern(/^[\u0660-\u0669]*$/))),t.validation_pattern&&e.push(c.pattern(t.validation_pattern)),e}clearDynamicFields(){Object.keys(this.platesForm.controls).forEach(t=>{["country_id_lp","city_id_lp","plate_format_id","type_id"].includes(t)||this.platesForm.removeControl(t)}),this.dynamicFields=[],this.selectedPlateFormat=null}onCitySelected(t){if(this.clearDynamicFields(),!t){this.platesForm.get("city_id_lp")?.markAsTouched();return}this.listingService.getPlateFormat(t).subscribe({next:e=>{e.formats?.length>0?(this.selectedPlateFormat=e.formats[0],this.dynamicFields=this.selectedPlateFormat.fields,this.platesForm.patchValue({plate_format_id:this.selectedPlateFormat.id,type_id:this.selectedPlateFormat.type_id||1}),this.addDynamicFieldsToForm(),this.platesForm.updateValueAndValidity()):(this.selectedPlateFormat=null,this.platesForm.get("city_id_lp")?.setErrors({noFormat:!0}))},error:e=>{console.error("Error fetching plate formats:",e),this.selectedPlateFormat=null,this.platesForm.get("city_id_lp")?.setErrors({apiError:!0})}})}addDynamicFieldsToForm(){this.dynamicFields.forEach(t=>{let e=t.controlName,r=[];t.is_required&&r.push(c.required),t.min_length&&r.push(c.minLength(t.min_length)),t.max_length&&r.push(c.maxLength(t.max_length)),t.validation_pattern&&r.push(c.pattern(t.validation_pattern)),this.platesForm.contains(e)||this.platesForm.addControl(e,new T("",r))}),this.platesForm.updateValueAndValidity()}allRequiredFieldsFilled(){return!this.platesForm.get("country_id_lp")?.value||!this.platesForm.get("city_id_lp")?.value?!1:this.dynamicFields.every(t=>{if(!t.is_required)return!0;let e=this.platesForm.get(t.controlName)?.value;return e!=null&&e!==""})}loadCitys(){this.listingService.getCityList().subscribe(t=>{this.countries=t.countries,this.allCities=t.cities})}updatePlateFormWithDynamicFields(t){this.platesForm.contains("type_id")||this.platesForm.addControl("type_id",new T("",c.required)),this.platesForm.contains("plateFormat")||this.platesForm.addControl("plateFormat",new T("",c.required)),this.platesForm.patchValue({plateFormat:this.selectedPlateFormat.id,type_id:this.selectedPlateFormat.type_id}),this.dynamicFields=t.map(e=>{let r=`${e.field_name}_${e.id}`;return this.platesForm.contains(r)||this.platesForm.addControl(r,new T("",this.getValidatorsForField(e))),D(V({},e),{controlName:r})}),this.draftLicensePlateFieldValues?.length&&this.patchDynamicFieldValues(this.draftLicensePlateFieldValues)}generateDynamicPlateForm(t){let e={type_id:new T(this.selectedPlateFormat?.type_id||null,c.required),country_id_lp:new T(this.platesForm.get("country_id_lp")?.value,c.required),city_id_lp:new T(this.platesForm.get("city_id_lp")?.value,c.required),category_id:new T(3,c.required),plateFormat:new T(this.selectedPlateFormat?.id,c.required)};t.forEach(r=>{let o=[];r.is_required&&o.push(c.required),r.min_length&&o.push(c.minLength(r.min_length)),r.max_length&&o.push(c.maxLength(r.max_length)),r.validation_pattern&&o.push(c.pattern(r.validation_pattern)),e[r.field_name]=new T("",o)}),this.platesForm=new H(e),this.platesForm.get("city_id_lp")?.valueChanges.subscribe(r=>{r&&r!==this.platesForm.get("city_id_lp")?.value&&this.onCitySelected(r)})}loadPlateForm(t){let e={};t.forEach(r=>{let o=[];r.is_required&&o.push(c.required),r.min_length&&o.push(c.minLength(r.min_length)),r.max_length&&o.push(c.maxLength(r.max_length)),r.validation_pattern&&o.push(c.pattern(r.validation_pattern)),e[r.field_name]=new T("",o)}),this.platesForm=new H(e)}getBrandPartList(){this.listingService.getBrandPartList().subscribe(t=>{this.brandsPart=t.bike_part_brands,console.log("brandsPart:",this.brandsPart)})}getPartCategoryList(){this.listingService.getPartCategoryList().subscribe(t=>{this.partCategory=t.bike_part_categories,console.log("partCategory:",this.partCategory)})}isSoomSelected(){return this.adDetailsForm.get("allow_submission")?.value==="true"}selectType(t){this.selectedType=t,console.log("this.selectedType: ",this.selectedType)}highlightInvalidControls(t){Object.keys(t.controls).forEach(e=>{let r=t.get(e);r&&r.invalid&&console.warn(`Invalid control: ${e}`,r.errors)})}goToStep(t){this.currentStep=t}createCheckoutForm(){this.checkoutForm=this.fb.group({agreeToTerms:[!1,c.requiredTrue]})}atLeastOneContactMethodValidator(t){let e=t.get("direct")?.value,r=t.get("soom")?.value,o=t.get("phone")?.value,m=t.get("whatsapp")?.value;return e||r||o||m?null:{noContactMethod:!0}}loadBrands(){this.listingService.getMotorcycleFilters().subscribe(t=>{this.brands=t.data.brands,console.log("Brands:",this.brands)})}onBrandChange(t){this.models=[],this.years=[],this.vehicleForm.patchValue({model_id:"",year_id:""}),this.bikeForm.patchValue({model_id:"",year_id:""}),t&&this.listingService.getMotorcycleFilters({brand_id:t}).subscribe(e=>{this.models=e.data.models})}get contactMethodsFormGroup(){return this.adDetailsForm.get("contactMethods")}onModelChange(t){this.years=[],this.vehicleForm.patchValue({year_id:""}),this.bikeForm.patchValue({year_id:""});let e=this.vehicleForm.value.brand_id||this.bikeForm.value.brand_id;t&&e&&this.listingService.getMotorcycleFilters({brand_id:e,model_id:t}).subscribe(r=>{console.log("Years data:",r.data.years),this.years=r.data.years.map(o=>({id:o.id,year:o.year})),console.log("Processed years:",this.years)})}handleFileInput(t){let e=t.target;if(!e.files)return;Array.from(e.files).slice(0,this.maxImages-this.uploadedImages.length).forEach(o=>{if(o.size>5*1024*1024){alert(`File ${o.name} is too large. Maximum size is 5MB.`);return}let m=new FileReader;m.onload=()=>{let g={preview:m.result,serverUrl:null,file:o};this.uploadedImages.push(g),this.uploadImage(g,this.uploadedImages.length-1)},m.readAsDataURL(o)}),e.value=""}uploadImage(t,e){if(!t.file)return;let r=new FormData;r.append("images[]",t.file),this.listingService.uploadImage(r).subscribe({next:o=>{o.paths?.length&&(this.uploadedImages[e].serverUrl=o.paths[0],this.uploadedImageUrls=this.uploadedImages.filter(m=>m.serverUrl).map(m=>m.serverUrl),this.vehicleForm.patchValue({images:this.uploadedImageUrls}))},error:o=>{console.error("Upload error:",o),this.uploadedImages.splice(e,1)}})}removeImage(t){this.uploadedImages.splice(t,1),this.uploadedImageUrls=this.uploadedImages.filter(e=>e.serverUrl).map(e=>e.serverUrl),this.vehicleForm.patchValue({images:this.uploadedImageUrls})}selectVehicleType(t){this.selectedVehicleType=t,this.vehicleForm?.patchValue({category_id:t}),this.vehicleForm?.patchValue({vehicleType:t}),this.selectedVehicleType===1?(this.bikeForm?.reset(),this.adDetailsForm?.reset(),this.platesForm?.reset(),this.checkoutForm?.reset()):this.selectedVehicleType===2?(this.vehicleForm?.reset(),this.adDetailsForm?.reset(),this.platesForm?.reset(),this.checkoutForm?.reset()):(this.bikeForm?.reset(),this.adDetailsForm?.reset(),this.vehicleForm?.reset(),this.checkoutForm?.reset())}selectBodyCondition(t){this.vehicleForm.patchValue({body_condition:t})}selectModified(t){this.vehicleForm.patchValue({modified:t})}selectInsurance(t){this.vehicleForm.patchValue({insurance:t})}selectCondition(t){this.vehicleForm.patchValue({general_condition:t})}selectVehicleCare(t){this.vehicleForm.patchValue({vehicle_care:t})}selectTransmission(t){this.vehicleForm.patchValue({transmission:t})}selectSellerType(t){this.adDetailsForm.patchValue({seller_type:t})}toggleContactMethod(t){let e=this.adDetailsForm.get("contactMethods"),r=e?.get(t)?.value;e?.get(t)?.setValue(!r)}previousStep(){this.currentStep>1&&this.currentStep--}selectPlateFormat(t,e){this.platesForm.get("plateFormat")?.setValue(t),this.platesForm.get("type_id")?.setValue(e);let r=["firstAlphabet","secondAlphabet","thirdAlphabet"];t==="numbers-only"?r.forEach(o=>{this.platesForm.get(o)?.reset(),this.platesForm.get(o)?.clearValidators(),this.platesForm.get(o)?.updateValueAndValidity()}):r.forEach(o=>{this.platesForm.get(o)?.setValidators(c.required),this.platesForm.get(o)?.updateValueAndValidity()})}onProductDetailsSubmit(t){console.log("Parent received form data:",t),this.vehicleFormData=t,this.vehicleForm&&this.vehicleForm.patchValue(t)}getPricing(){let t={country_id:this.adDetailsForm.value.country_id};switch(this.selectedVehicleType){case 1:t.model_id=this.vehicleForm.value.model_id,t.category_id=1;break;case 2:t.bike_part_category_id=this.bikeForm.value.bike_part_category_id,t.category_id=2;break;case 3:t.category_id=3;break}this.listingService.getPricing(t).subscribe({next:e=>{this.pricingInfo=e,console.log("this.pricingInfo: ",this.pricingInfo)},error:e=>{console.error("Error fetching pricing:",e)}})}markCurrentFormTouched(){(this.currentStep===1?this.vehicleForm:this.currentStep===2?this.adDetailsForm:this.checkoutForm).markAllAsTouched()}goToNextStep(){return $(this,null,function*(){try{switch(this.currentStep){case 1:yield this.handleStep1();break;case 2:yield this.handleStep2();break;case 3:yield this.handleStep3();break}}catch(t){console.error("Error in goToNextStep:",t),alert("An error occurred. Please try again.")}})}handleStep1(){return $(this,null,function*(){if(!this.validateStep1())return;let t=this.prepareStep1Data();if(t){t.step=1;try{let e=yield this.listingService.addPost(t).toPromise();this.listingId=e?.listing_id,this.sharedFormDataService.setStep1Data(D(V({},t),{listing_id:this.listingId})),this.currentStep++}catch(e){console.error("Error creating listing (step 1):",e),alert("Failed to create listing. Please try again.")}}})}validateStep1(){switch(this.selectedVehicleType){case 1:if(!this.vehicleForm.valid)return this.vehicleForm.markAllAsTouched(),!1;break;case 2:if(!this.bikeForm.valid)return this.bikeForm.markAllAsTouched(),!1;break;case 3:if(!this.platesForm.valid)return this.platesForm.markAllAsTouched(),this.logFormErrors(this.platesForm),!1;break}return!0}prepareStep1Data(){switch(this.selectedVehicleType){case 1:return{category_id:1,step:1,vehicleType:"motorcycle",brand_id:parseInt(this.vehicleForm.value.brand_id),model_id:parseInt(this.vehicleForm.value.model_id),year_id:parseInt(this.vehicleForm.value.year_id),engine:`${this.vehicleForm.value.engine}cc`,mileage:parseInt(this.vehicleForm.value.mileage),body_condition:this.vehicleForm.value.body_condition,modified:this.vehicleForm.value.modified==="Yes",insurance:this.vehicleForm.value.insurance==="Yes",general_condition:this.vehicleForm.value.general_condition,vehicle_care:this.vehicleForm.value.vehicle_care,transmission:this.vehicleForm.value.transmission,images:this.uploadedImageUrls.filter(e=>e!==null)};case 2:return{step:1,category_id:2,bike_part_brand_id:Number(this.bikeForm.value.bike_part_brand_id),bike_part_category_id:Number(this.bikeForm.value.bike_part_category_id),motorcycles:[{brand_id:parseInt(this.bikeForm.value.brand_id),model_id:parseInt(this.bikeForm.value.model_id),year_id:parseInt(this.bikeForm.value.year_id)}],condition:this.bikeForm.value.condition,description:this.bikeForm.value.description,images:this.uploadedImageUrls.filter(e=>e!==null)};case 3:let t=this.dynamicFields.map(e=>{let r=this.platesForm.value[e.controlName];return r==null?r="":typeof r=="number"?r=r.toString():typeof r!="string"&&(r=String(r)),{field_id:e.id,value:r}});return{category_id:3,step:1,type_id:this.platesForm.value.type_id,plate_format_id:this.selectedPlateFormat?.id,country_id_lp:Number(this.platesForm.value.country_id_lp),city_id_lp:Number(this.platesForm.value.city_id_lp),fields:t};default:return console.error("Unknown vehicle type:",this.selectedVehicleType),null}}handleStep2(){return $(this,null,function*(){if(!this.adDetailsForm.valid){this.adDetailsForm.markAllAsTouched();return}let t={step:2,listing_id:this.listingId,title:this.adDetailsForm.value.title,description:this.adDetailsForm.value.description,price:parseFloat(this.adDetailsForm.value.price),allow_submission:this.adDetailsForm.value.allow_submission==="true",contacting_channel:this.adDetailsForm.value.contacting_channel,country_id:Number(this.adDetailsForm.value.country),city_id:parseInt(this.adDetailsForm.value.city),seller_type:this.adDetailsForm.value.seller_type,listing_type_id:1,auction_enabled:this.adDetailsForm.value.allow_submission==="true",minimum_bid:this.adDetailsForm.value.minimum_bid};this.sharedFormDataService.setStep2Data(t);try{yield this.listingService.addPost(t).toPromise();let e=this.sharedFormDataService.getStep1Data(),r=yield this.getPricingInfo(e,t);this.pricingInfo=r,this.currentStep++}catch(e){console.error("Error updating listing (step 2):",e),alert("Failed to save ad details. Please try again.")}})}handleStep3(){return $(this,null,function*(){let t=this.sharedFormDataService.getStep1Data(),e=this.sharedFormDataService.getStep2Data(),r=V({step:3,listing_id:this.listingId,title:e.title,description:e.description,price:e.price,listing_type_id:e.listing_type_id,city_id:e.city_id,auction_enabled:e.auction_enabled,minimum_bid:e.minimum_bid,allow_submission:e.allow_submission,contacting_channel:e.contacting_channel,seller_type:e.seller_type},this.getTypeSpecificPayload(t));try{let o=yield this.listingService.addPost(r).toPromise();console.log("Ad created successfully:",o),this.currentStep++,this.router.navigate(["/home"])}catch(o){console.error("Error creating ad:",o),alert("Failed to create ad. Please try again.")}})}getTypeSpecificPayload(t){let e={images:this.uploadedImageUrls.filter(r=>r!==null)};switch(this.selectedVehicleType){case 1:return D(V({},e),{category_id:t.category_id,type_id:t.type_id,brand_id:t.brand_id,model_id:t.model_id,year_id:t.year_id,engine:t.engine,mileage:t.mileage,body_condition:t.body_condition,modified:t.modified,insurance:t.insurance,general_condition:t.general_condition,vehicle_care:t.vehicle_care,transmission:t.transmission});case 2:return D(V({},e),{category_id:t.category_id,bike_part_brand_id:t.bike_part_brand_id,bike_part_category_id:t.bike_part_category_id,motorcycles:t.motorcycles,condition:t.condition});case 3:return D(V({},e),{type_id:t.type_id,category_id:t.category_id,plate_format_id:t.plate_format_id,country_id_lp:t.country_id_lp,city_id_lp:t.city_id_lp,fields:t.fields});default:return e}}buildAndSubmitPayload(t,e,r){let o={title:e.title,description:e.description,price:e.price,listing_type_id:e.listing_type_id,city_id:e.city_id,auction_enabled:e.auction_enabled,minimum_bid:e.minimum_bid,allow_submission:e.allow_submission,contacting_channel:e.contacting_channel,seller_type:e.seller_type};switch(this.selectedVehicleType){case 1:o=D(V({},o),{category_id:t.category_id,type_id:t.type_id,brand_id:t.brand_id,model_id:t.model_id,year_id:t.year_id,engine:t.engine,mileage:t.mileage,body_condition:t.body_condition,modified:t.modified,insurance:t.insurance,general_condition:t.general_condition,vehicle_care:t.vehicle_care,transmission:t.transmission,images:this.uploadedImageUrls.filter(m=>m!==null)});break;case 2:o=D(V({},o),{category_id:t.category_id,bike_part_brand_id:t.bike_part_brand_id,bike_part_category_id:t.bike_part_category_id,motorcycles:t.motorcycles,condition:t.condition,images:this.uploadedImageUrls.filter(m=>m!==null)});break;case 3:o=D(V({},o),{type_id:t.type_id,category_id:t.category_id,plateFormatOptions:t.plateFormatOptions,country_id_lp:Number(t.country_id_lp),city_id_lp:Number(t.city_id_lp),first_letter:t.firstAlphabet,second_letter:t.secondAlphabet,third_letter:t.thirdAlphabet,digits_count:t.digits_count}),delete o.brand_id,delete o.model_id,delete o.year_id;break}}logFormErrors(t){Object.keys(t.controls).forEach(e=>{let r=t.get(e);r?.errors&&console.log(`Field ${e} errors:`,r.errors)})}getPricingInfo(t,e){return new Promise((r,o)=>{let m={country_id:e.country_id||3};switch(this.selectedVehicleType){case 1:m.model_id=t.model_id,m.category_id=1;break;case 2:m.model_id=t.bike_part_category_id,m.category_id=2;break;case 3:m.category_id=3;break}this.listingService.getPricing(m).subscribe({next:g=>{r(g)},error:g=>{o(g)}})})}removePromocode(){this.promocode="",this.promocodeApplied=!1,this.adFees.discounted=this.adFees.original}selectPaymentMethod(t){this.paymentMethods.forEach(e=>{e.selected=e.id===t})}applyPromoCode(){if(!this.promoCode||!this.pricingInfo)return;this.promoLoading=!0,this.promoError=null;let t={code:this.promoCode,total_price:parseFloat(this.pricingInfo.converted_price)};this.listingService.checkPromo(t).subscribe({next:e=>{this.isPromoApplied=!0,this.discountedPrice=e.new_price,console.log(" this.discountedPrice: ",this.discountedPrice),this.promoLoading=!1},error:e=>{this.promoError=e.error?.message||"Invalid promo code",this.isPromoApplied=!1,this.promoLoading=!1}})}removePromoCode(){this.promoCode="",this.isPromoApplied=!1,this.discountedPrice=null,this.promoError=null}static \u0275fac=function(e){return new(e||l)(M(Ae),M(Ge),M(z),M(Le),M(be),M(ye),M(J))};static \u0275cmp=Z({type:l,selectors:[["app-product-form"]],viewQuery:function(e,r){if(e&1&&re(Ue,5),e&2){let o;oe(o=le())&&(r.fileInput=o.first)}},inputs:{currentStep:"currentStep"},decls:12,vars:6,consts:[["brandSelect",""],["modelSelect",""],["fileInput",""],[1,"max-w-4xl","mx-auto","px-4","py-8"],[1,"bg-white","rounded-lg","shadow-sm","p-6","border","border-gray-100"],[1,"flex","justify-start","mb-4"],["type","button",1,"px-4","py-2","bg-white","border","border-gray-300","rounded-md","text-gray-600","hover:bg-gray-100",3,"click"],[1,"flex","items-center","justify-between","mb-10"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","mb-8",4,"ngIf"],["class","container mx-auto max-w-3xl px-4 py-8",4,"ngIf"],["class","text-green-600 font-semibold mb-4",4,"ngIf"],["class","text-red-600 font-semibold mb-4",4,"ngIf"],[1,"flex","flex-col","items-center","w-1/3"],[1,"w-8","h-8","rounded-full","flex","items-center","justify-center","text-sm","font-medium","mb-1","transition-all","duration-300",3,"ngClass"],[1,"text-xs","text-center"],[3,"ngClass"],[1,"text-gray-500"],["class","flex-1 h-1 bg-gray-200 mx-2 relative",4,"ngIf"],[1,"flex-1","h-1","bg-gray-200","mx-2","relative"],[1,"h-full","bg-red-500","absolute","top-0","left-0","transition-all","duration-300"],[1,"text-xl","font-semibold","mb-6","text-left"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4","mb-8"],["class","border-2 rounded-lg p-4 cursor-pointer transition-colors relative hover:bg-gray-50",3,"ngClass","click",4,"ngFor","ngForOf"],[3,"ngSwitch"],[3,"formGroup",4,"ngSwitchCase"],["class","bg-white rounded-lg shadow-sm p-6 border border-gray-200",4,"ngSwitchDefault"],[1,"border-2","rounded-lg","p-4","cursor-pointer","transition-colors","relative","hover:bg-gray-50",3,"click","ngClass"],["class","absolute top-4 right-4 w-4 h-4 bg-red-500 rounded-full flex items-center justify-center",4,"ngIf"],[1,"flex","items-start","justify-between"],[1,"flex","flex-col","space-y-2","text-start"],[1,"w-10","h-10","object-contain",3,"src","alt"],[1,"font-medium"],[1,"text-sm","text-gray-500"],[1,"absolute","top-4","right-4","w-4","h-4","bg-red-500","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[3,"formGroup"],[1,"bg-white","rounded-lg","shadow-sm","p-6","border","border-gray-200"],[1,"text-lg","font-semibold","mb-6"],[1,"mb-6"],[1,"mb-2","font-medium"],[1,"grid","grid-cols-2","sm:grid-cols-3","md:grid-cols-5","gap-4"],["class","relative border border-gray-300 rounded-md aspect-square flex items-center justify-center",4,"ngFor","ngForOf"],["class","border border-dashed border-gray-300 rounded-md aspect-square flex items-center justify-center cursor-pointer hover:bg-gray-50",3,"click",4,"ngIf"],[1,"text-xs","text-gray-500","mt-2"],["class","text-red-500",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-6","mb-6"],[1,"block","font-medium"],["formControlName","brand_id",1,"w-full","border","border-gray-300","rounded-md","px-3","py-2","mt-4",3,"change"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["class","text-red-500 text-sm mt-1",4,"ngIf"],["formControlName","model_id",1,"w-full","border","border-gray-300","rounded-md","px-3","py-2","mt-4",3,"change","disabled"],["formControlName","year_id",1,"w-full","border","border-gray-300","rounded-md","px-3","py-2","mt-4",3,"disabled"],[1,"block","mb-2","font-medium"],[1,"grid","grid-cols-1","sm:grid-cols-3","gap-4"],["class","border-2 rounded-lg p-3 cursor-pointer transition-colors",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4"],[1,"border-2","rounded-lg","p-3","cursor-pointer","transition-colors",3,"click","ngClass"],[1,"flex","items-center","justify-between"],["class","w-6 h-6 bg-red-500 rounded-full flex items-center justify-center",4,"ngIf"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-5","gap-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6","mb-6"],[1,"flex"],[1,"inline-flex","items-center","px-3","text-gray-500","bg-gray-100","border","border-r-0","border-gray-300","rounded-l-md"],["type","number","formControlName","engine","placeholder","650",1,"flex-grow","border","border-gray-300","rounded-r-md","px-3","py-2","focus:outline-none","focus:ring-2","focus:ring-blue-500"],["type","number","formControlName","mileage","placeholder","8500",1,"flex-grow","border","border-gray-300","rounded-r-md","px-3","py-2","focus:outline-none","focus:ring-2","focus:ring-blue-500"],[1,"flex","justify-end","mt-6"],["type","button",1,"px-6","py-2","bg-red-500","text-white","rounded","hover:bg-red-600","disabled:opacity-50",3,"click","disabled"],[1,"relative","border","border-gray-300","rounded-md","aspect-square","flex","items-center","justify-center"],[1,"object-cover","w-full","h-full","rounded-md",3,"src","alt"],[1,"absolute","top-1","right-1","bg-white","text-red-500","rounded-full","p-1","shadow","hover:bg-gray-100",3,"click"],[1,"border","border-dashed","border-gray-300","rounded-md","aspect-square","flex","items-center","justify-center","cursor-pointer","hover:bg-gray-50",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"],["type","file","accept","image/*","multiple","","hidden","",3,"change"],[1,"text-red-500"],[3,"value"],[1,"text-red-500","text-sm","mt-1"],[1,"w-6","h-6","bg-red-500","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"w-4","h-4","text-white"],["src","pictures/_Checkbox.svg","alt","checkmark",1,"w-4","h-4","text-white"],["formControlName","bike_part_brand_id",1,"w-full","border","border-gray-300","rounded-md","px-3","py-2","mt-4"],["formControlName","bike_part_category_id",1,"w-full","border","border-gray-300","rounded-md","px-3","py-2","mt-4",3,"disabled"],["for","description",1,"block","text-sm","font-medium","text-gray-700","mb-1","flex","items-center"],[1,"ml-1","text-gray-400"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-4","w-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],["id","description","formControlName","description","rows","4","placeholder","This is a free text to add any comments or things that might be useful for the buyers",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-red-500","focus:border-red-500"],["formControlName","country_id_lp",1,"w-full","border","border-gray-300","rounded-lg","p-3","focus:ring-2","focus:ring-red-500","focus:border-red-500","outline-none","transition"],["for","city",1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"relative"],["id","city","formControlName","city_id_lp",1,"w-full","border","border-gray-300","rounded-lg","p-3","focus:ring-2","focus:ring-red-500","focus:border-red-500","outline-none","transition",3,"disabled"],["class","mb-6",4,"ngIf"],["class","text-center py-4",4,"ngIf"],[1,"flex","justify-between","mt-6"],["type","button",1,"px-6","py-2","bg-red-500","text-white","rounded","hover:bg-red-600","disabled:opacity-50","disabled:cursor-not-allowed","transition",3,"click","disabled"],[1,"font-medium","mb-4"],[1,"grid","grid-cols-1","gap-4"],["class","mb-4",4,"ngFor","ngForOf"],[1,"mb-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-2",3,"for"],["type","text","inputmode","numeric","class","w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-red-500 focus:border-red-500 outline-none transition",3,"id","formControlName","pattern","placeholder","keypress",4,"ngIf"],["type","text","class","w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-red-500 focus:border-red-500 outline-none transition",3,"id","formControlName","placeholder","keypress",4,"ngIf"],[1,"text-xs","text-gray-500","mt-1"],["type","text","inputmode","numeric",1,"w-full","border","border-gray-300","rounded-lg","p-3","focus:ring-2","focus:ring-red-500","focus:border-red-500","outline-none","transition",3,"keypress","id","formControlName","pattern","placeholder"],["type","text",1,"w-full","border","border-gray-300","rounded-lg","p-3","focus:ring-2","focus:ring-red-500","focus:border-red-500","outline-none","transition",3,"keypress","id","formControlName","placeholder"],[1,"text-center","py-4"],[1,"text-center","text-gray-500"],[1,"mb-8"],[1,"text-xl","text-blue-600","font-medium","mb-6"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","mb-6"],[1,"bg-gray-50","rounded","p-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],[1,"text-gray-800"],[1,"text-gray-400"],["for","adName",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","text","id","adName","formControlName","title","placeholder","Try to be brief but concise",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-red-500","focus:border-red-500"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"block"],[1,"border-2","rounded-lg","p-4","cursor-pointer","transition-colors","h-full",3,"click","ngClass"],[1,"flex","items-center","justify-between","h-full"],[1,"text-gray-700"],["class","w-6 h-6 border-2 border-gray-300 rounded-full",4,"ngIf"],["class","mt-4 p-4 bg-blue-50 border border-blue-200 rounded-md",4,"ngIf"],["formControlName","country",1,"w-full","border","border-gray-300","rounded-lg","p-3","focus:ring-2","focus:ring-red-500","focus:border-red-500","outline-none","transition"],["value","","disabled","","selected",""],["for","city",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","city","formControlName","city",1,"w-full","border","border-gray-300","rounded-lg","p-3","focus:ring-2","focus:ring-red-500","focus:border-red-500","outline-none","transition"],[1,"absolute","inset-y-0","right-0","flex","items-center","px-2","pointer-events-none"],[1,"block","text-sm","font-medium","text-gray-700","mb-3"],[1,"flex","items-center","justify-between","border","border-gray-300","rounded-md","px-4","py-3"],["type","radio","formControlName","seller_type","value","middleman",1,"h-4","w-4","text-red-600","focus:ring-red-500","border-gray-300"],["type","radio","formControlName","seller_type","value","owner",1,"h-4","w-4","text-red-600","focus:ring-red-500","border-gray-300"],[1,"flex","justify-between","mt-8"],["type","button","class","bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",3,"click",4,"ngIf"],["type","button",1,"bg-red-500","border","border-transparent","rounded-md","shadow-sm","py-2","px-10","inline-flex","justify-center","text-sm","font-medium","text-white","hover:bg-red-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-red-500",3,"click"],[1,"w-6","h-6","border-2","border-gray-300","rounded-full"],[1,"mt-4","p-4","bg-blue-50","border","border-blue-200","rounded-md"],[1,"text-sm","font-medium","text-blue-900","mb-2"],[1,"text-sm","text-blue-700","mb-3"],[1,"mb-3"],["for","autoDecline",1,"block","text-sm","font-medium","text-blue-900","mb-1"],[1,"relative","rounded-md","shadow-sm"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],[1,"text-gray-500","sm:text-sm"],["type","number","id","autoDecline","formControlName","minimum_bid","placeholder","0",1,"pl-12","block","w-full","px-3","py-2","border","border-blue-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-blue-500","focus:border-blue-500","sm:text-sm"],["for","price",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","text","id","price","formControlName","price","placeholder","500",1,"pl-12","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-red-500","focus:border-red-500"],["type","button",1,"bg-white","py-2","px-4","border","border-gray-300","rounded-md","shadow-sm","text-sm","font-medium","text-gray-700","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-red-500",3,"click"],[1,"container","mx-auto","max-w-3xl","px-4","py-8"],[1,"text-xl","font-semibold","mb-6","text-blue-600"],[1,"border-b","pb-4","mb-6"],[1,"flex","justify-between","items-center","mb-1"],["class","text-red-500 line-through mr-2",4,"ngIf"],["class","text-green-500 font-bold",4,"ngIf"],["class","text-red-500 font-bold",4,"ngIf"],[1,"flex","mb-2"],[1,"flex-1","border","rounded-l-lg","flex","items-center","px-4"],["type","text","placeholder","Enter promo code",1,"w-full","focus:outline-none","py-3",3,"ngModelChange","ngModel","readonly"],["class","border border-l-0 rounded-r-lg px-4 py-3 text-blue-600 hover:bg-gray-50 disabled:opacity-50",3,"disabled","click",4,"ngIf"],["class","border border-l-0 rounded-r-lg px-4 py-3 text-red-600 hover:bg-gray-50",3,"click",4,"ngIf"],["class","flex justify-between",4,"ngIf"],["class","text-red-500 text-sm mt-2",4,"ngIf"],[1,"text-lg","text-red-500","mb-2"],[1,"text-gray-500","text-sm","mb-4"],[1,"border","border-red-100","bg-red-50","rounded-lg","mb-4"],[1,"flex","justify-between","items-center","p-4"],[1,"flex","items-center","gap-2"],[1,"w-5","h-5","rounded-full","border-2","border-red-500","flex","items-center","justify-center"],[1,"w-2.5","h-2.5","rounded-full","bg-red-500"],[1,"flex","gap-2"],["src","https://cdn.cdnlogo.com/logos/m/33/mastercard.svg","alt","Mastercard",1,"h-8"],["src","https://cdn.cdnlogo.com/logos/v/69/visa.svg","alt","Visa",1,"h-8"],[1,"bg-gray-50","border","rounded-lg","p-4","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","mb-4"],[1,"block","text-sm","font-medium","mb-1"],["type","text","value","Olivia Rhye",1,"w-full","border","rounded-lg","p-3"],["type","text","value","06 2024",1,"w-full","border","rounded-lg","p-3"],[1,"absolute","left-3","top-1/2","transform","-translate-y-1/2"],["src","https://cdn.cdnlogo.com/logos/m/33/mastercard.svg","alt","Mastercard",1,"h-6"],["type","text","value","1234 1234 1234 1234",1,"w-full","border","rounded-lg","p-3","pl-12"],["type","password","value","\u2022\u2022\u2022",1,"w-full","border","rounded-lg","p-3"],[1,"space-y-2"],[1,"border","rounded-lg","p-3","flex","justify-between","items-center"],[1,"w-5","h-5","rounded-full","border","border-gray-300"],[1,"bg-yellow-100","text-yellow-800","text-xs","font-semibold","px-2","py-1","rounded"],[1,"bg-green-100","text-green-800","text-xs","font-semibold","px-2","py-1","rounded"],[1,"text-red-500","line-through","mr-2"],[1,"text-green-500","font-bold"],[1,"text-red-500","font-bold"],[1,"border","border-l-0","rounded-r-lg","px-4","py-3","text-blue-600","hover:bg-gray-50","disabled:opacity-50",3,"click","disabled"],[1,"border","border-l-0","rounded-r-lg","px-4","py-3","text-red-600","hover:bg-gray-50",3,"click"],[1,"flex","justify-between"],[1,"text-green-500","flex","items-center","gap-1"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule","evenodd"],[1,"bg-white","border","border-gray-300","rounded-lg","px-6","py-2","text-gray-700","font-medium"],[1,"text-red-500","text-sm","mt-2"],[1,"text-green-600","font-semibold","mb-4"],[1,"text-red-600","font-semibold","mb-4"]],template:function(e,r){e&1&&(n(0,"div",3)(1,"div",4)(2,"div",5)(3,"button",6),h("click",function(){return r.previousStep()}),d(4," Exit "),i()(),n(5,"div",7),u(6,He,10,12,"ng-container",8),i()(),u(7,Yt,10,5,"div",9)(8,oi,99,30,"div",10)(9,vi,77,10,"div",11),i(),u(10,fi,2,0,"div",12)(11,hi,2,1,"div",13)),e&2&&(a(6),s("ngForOf",r.steps),a(),s("ngIf",r.currentStep===1),a(),s("ngIf",r.currentStep===2),a(),s("ngIf",r.currentStep===3),a(),s("ngIf",r.submissionSuccess),a(),s("ngIf",r.submissionError))},dependencies:[fe,ce,pe,ue,_e,ge,ve,Me,we,Te,Ne,xe,Ee,Ve,Pe,Fe,Se,De,Ce,Oe,Ie,ke,Be,qe,Y],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif}@media (max-width: 640px){.progress-steps[_ngcontent-%COMP%]{flex-direction:column}}"]})};export{$e as ProductFormComponent};
