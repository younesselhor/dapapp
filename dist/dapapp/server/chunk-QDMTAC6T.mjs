import './polyfills.server.mjs';
import{c as X,d as $}from"./chunk-LSW7WGCU.mjs";import{a as z}from"./chunk-63XQYJL2.mjs";import{b as D}from"./chunk-2EELDOUS.mjs";import{a as K}from"./chunk-NRQTMGEU.mjs";import{a as G}from"./chunk-UDQSJYQP.mjs";import{a as V}from"./chunk-XGBYCX77.mjs";import{g as pt,l as gt,p as A,q as N,t as H}from"./chunk-DZGCN72J.mjs";import{Ea as F,Ec as st,Fb as l,Fc as T,Ga as rt,Gb as O,Gc as L,Hb as g,Hc as lt,Ia as s,Ib as U,Ic as ct,Jb as at,Jc as dt,Na as h,Pc as I,Sa as S,Tc as y,Vb as f,Wb as x,Xa as v,ba as m,ca as u,da as k,ea as R,eb as p,fb as M,gb as W,ob as i,pb as r,qb as _,rb as B,sb as j,ta as E,ub as b,vb as C,wb as d}from"./chunk-DFT7ONLH.mjs";import"./chunk-S6KH3LOX.mjs";function xt(a,e){a&1&&(i(0,"div",20)(1,"div",21)(2,"p",22),l(3),f(4,"translate"),r()()()),a&2&&(s(3),g(" ",x(4,1,"COMMON.NO_RESULTS")," "))}function ht(a,e){if(a&1){let t=b();i(0,"div",25),_(1,"img",26),i(2,"div",27)(3,"span",28),l(4),r(),i(5,"span",29),l(6),r(),i(7,"span",30),l(8),r(),i(9,"div",31)(10,"span",32),k(),i(11,"svg",33),_(12,"path",34),r(),l(13),r(),R(),i(14,"span",35),l(15),f(16,"timeAgo"),r()(),i(17,"div",36)(18,"button",37),C("click",function(){let o=m(t).$implicit,c=d(2);return u(c.viewListing(o.id))}),l(19," View Bike "),r()()()()}if(a&2){let t=e.$implicit;s(),p("src",t.images[0],F),s(2),p("title",t.title),s(),g(" ",t.title," "),s(2),at(" ",t.motorcycle.brand," ",t.motorcycle.model," ",t.motorcycle.year," "),s(2),U("",t.price," ",t.currency||"SAR",""),s(5),g(" ",t.city," "),s(2),O(t.created_at?x(16,10,t.created_at):"")}}function _t(a,e){if(a&1){let t=b();i(0,"div",23),C("mousedown",function(o){m(t);let c=d();return u(c.shouldSlide?c.startDrag(o):null)})("touchstart",function(o){m(t);let c=d();return u(c.shouldSlide?c.startDrag(o):null)})("mousemove",function(o){m(t);let c=d();return u(c.shouldSlide?c.onDrag(o):null)})("touchmove",function(o){m(t);let c=d();return u(c.shouldSlide?c.onDrag(o):null)})("mouseup",function(){m(t);let o=d();return u(o.shouldSlide?o.endDrag():null)})("mouseleave",function(){m(t);let o=d();return u(o.shouldSlide?o.endDrag():null)})("touchend",function(){m(t);let o=d();return u(o.shouldSlide?o.endDrag():null)}),v(1,ht,20,12,"div",24),r()}if(a&2){let t=d();M("transform","translateX("+t.currentPosition+"px)"),W("dragging",t.isDragging),s(),p("ngForOf",t.motorcycles)}}function vt(a,e){if(a&1){let t=b();i(0,"app-login-modal",38),C("close",function(){m(t);let o=d();return u(o.closeLoginModal())}),r()}if(a&2){let t=d();p("redirectUrl",t.pendingRedirectUrl)}}var Y=class a{constructor(e,t,n,o,c){this.listings=e;this.router=t;this.locationService=n;this.authService=o;this.platformId=c}touchStartX=0;containerWidth=1024;itemsPerSlide=3;motorcycles=[];currentPosition=0;isDragging=!1;startX=0;startPosition=0;cardWidth=324;mobileCardWidth=300;isMobile=!1;countryname;searchedCountryMessage=null;showLoginModal=!1;isLoggedIn=!1;visibleCardsCount=3;gap=16;sub;ngOnInit(){this.sub=this.authService.isLoggedIn$.subscribe(e=>{this.isLoggedIn=e}),this.locationService.selectedCountry$.subscribe(e=>{this.currentPosition=0,e?.name?(this.countryname=e.name,this.getMotorcycles()):(this.countryname="all",this.getMotorcycles())}),y(this.platformId)&&(this.checkMobile(),y(this.platformId)&&window.addEventListener("resize",()=>this.checkMobile()))}ngOnDestroy(){this.sub?.unsubscribe()}getMotorcycles(){let e=this.countryname||"all";this.currentPosition=0,this.listings.getMotorcyclesByCategory(e).subscribe(t=>{this.motorcycles=t.listings||[],this.countryname?t.showing_all_countries&&t.searched_country?this.searchedCountryMessage=`No listings found for "${t.searched_country}". Showing all countries instead.`:this.searchedCountryMessage=null:this.searchedCountryMessage="Showing all countries",this.currentPosition=0})}get visibleMotorcycles(){return this.motorcycles}pendingRedirectUrl=null;viewListing(e){this.isLoggedIn?this.router.navigate(["/listing",e]):(this.pendingRedirectUrl=`/listing/${e}`,this.openLoginModal())}closeLoginModal(){this.showLoginModal=!1,this.pendingRedirectUrl=null}openLoginModal(){this.showLoginModal=!0}get shouldSlide(){return this.motorcycles.length>3}checkMobile(){y(this.platformId)&&(this.isMobile=window.innerWidth<768,this.currentPosition=0)}getVisibleCards(){return this.isMobile?1:3}startDrag(e){this.shouldSlide&&(this.isDragging=!0,this.startX=this.getX(e),this.startPosition=this.currentPosition,e.preventDefault())}onDrag(e){if(y(this.platformId)){if(!this.isDragging||!this.shouldSlide)return;let n=this.getX(e)-this.startX,c=document.dir==="rtl"?-n:n;this.currentPosition=this.startPosition+c;let w=this.getMaxPosition();this.currentPosition>0&&(this.currentPosition=0),this.currentPosition<w&&(this.currentPosition=w)}}getCardWidth(){if(y(this.platformId)){let e=document.querySelector(".slider-card");return e?e.offsetWidth:this.cardWidth}return this.cardWidth}getMaxPosition(){if(!this.shouldSlide||this.motorcycles.length<=0)return 0;let e=this.getCardWidth(),t=this.gap,n=this.getVisibleCards();return-(this.motorcycles.length*e+(this.motorcycles.length-1)*t-e)}endDrag(){if(!this.shouldSlide)return;this.isDragging=!1;let e=this.getCardWidth()+this.gap;this.currentPosition=Math.round(this.currentPosition/e)*e;let t=this.getMaxPosition();this.currentPosition>0&&(this.currentPosition=0),this.currentPosition<t&&(this.currentPosition=t)}getX(e){return e instanceof MouseEvent?e.clientX:e.touches[0].clientX}get totalSlides(){return Math.ceil(this.motorcycles.length/this.visibleCardsCount)}static \u0275fac=function(t){return new(t||a)(h(V),h(A),h(G),h(D),h(E))};static \u0275cmp=S({type:a,selectors:[["app-used-moto-cycles-section"]],decls:37,vars:21,consts:[[1,"main-section"],[1,"container"],[2,"display","flex","padding","24px","align-items","center","gap","72px"],[2,"width","495px","height","412px"],[2,"display","flex","width","495px","align-items","flex-start","align-content","flex-start","gap","40px 45px","flex-wrap","wrap"],[2,"width","465px","flex-shrink","0","color","var(--gray-900, #18181b)","font-family","Manrope","font-size","52px","font-style","normal","font-weight","700","line-height","66px"],[2,"color","var(--gray-900, #18181b)","font-family","Manrope","font-size","18px","font-style","normal","font-weight","500","line-height","30px"],[2,"display","flex","flex-direction","column","justify-content","center","align-items","flex-start","gap","45px","flex","1 0 0"],[2,"display","flex","align-items","flex-start","gap","24px"],["routerLink","/motorcycles",2,"cursor","pointer","display","flex","height","48px","padding","17.25px 57.63px 14.75px 57.63px","justify-content","center","align-items","center","border-radius","4px","border","2px solid var(--Primary---Navy, #032c40)"],[2,"color","var(--Primary---Navy, #032c40)","text-align","center","font-family","Manrope","font-size","16px","font-style","normal","font-weight","700","line-height","16px"],[2,"display","flex","align-items","center","gap","45px"],[2,"width","86px","height","77px"],[2,"color","var(--gray-900, #18181b)","font-family","Manrope","font-size","36px","font-style","normal","font-weight","800","line-height","46px"],[2,"color","var(--gray-500, #71717a)","font-family","Manrope","font-size","18px","font-style","normal","font-weight","400","line-height","24px"],[2,"width","129px","height","77px"],[1,"slider-container",2,"display","flex","align-items","center","gap","31px"],["class","flex items-center justify-center min-h-[300px] bg-gray-50 rounded-lg border border-gray-200",4,"ngIf"],["class","slider-track",3,"transform","dragging","mousedown","touchstart","mousemove","touchmove","mouseup","mouseleave","touchend",4,"ngIf"],[3,"redirectUrl","close",4,"ngIf"],[1,"flex","items-center","justify-center","min-h-[300px]","bg-gray-50","rounded-lg","border","border-gray-200"],[1,"text-center"],[1,"text-lg","text-gray-600","font-medium"],[1,"slider-track",3,"mousedown","touchstart","mousemove","touchmove","mouseup","mouseleave","touchend"],["class","slider-card",4,"ngFor","ngForOf"],[1,"slider-card"],["draggable","false",1,"card-image",3,"src"],[1,"product-content"],[1,"product-title",3,"title"],[1,"product-brand"],[1,"price-value"],[1,"location-time-product"],[1,"location-value"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["fill-rule","evenodd","clip-rule","evenodd","d","M7.05002 6.04987C8.36284 4.73705 10.1434 3.99951 12 3.99951C13.8566 3.99951 15.6372 4.73705 16.95 6.04987C18.2628 7.36269 19.0004 9.14326 19.0004 10.9999C19.0004 12.8565 18.2628 14.637 16.95 15.9499L12 20.8999L7.05002 15.9499C6.39993 15.2998 5.88425 14.5281 5.53242 13.6788C5.1806 12.8295 4.99951 11.9192 4.99951 10.9999C4.99951 10.0806 5.1806 9.17025 5.53242 8.32092C5.88425 7.47159 6.39993 6.69989 7.05002 6.04987ZM12 12.9999C12.5304 12.9999 13.0392 12.7892 13.4142 12.4141C13.7893 12.039 14 11.5303 14 10.9999C14 10.4694 13.7893 9.96073 13.4142 9.58566C13.0392 9.21058 12.5304 8.99987 12 8.99987C11.4696 8.99987 10.9609 9.21058 10.5858 9.58566C10.2107 9.96073 10 10.4694 10 10.9999C10 11.5303 10.2107 12.039 10.5858 12.4141C10.9609 12.7892 11.4696 12.9999 12 12.9999Z","fill","#A7C543"],[1,"time-value"],[1,"product-footer"],[1,"viewBtn",3,"click"],[3,"close","redirectUrl"]],template:function(t,n){t&1&&(i(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),l(6),f(7,"translate"),_(8,"br"),l(9),f(10,"translate"),r(),i(11,"div",6),l(12),f(13,"translate"),r(),i(14,"div",7)(15,"div",8)(16,"button",9)(17,"p",10),l(18),f(19,"translate"),r()()(),i(20,"div",11)(21,"div",12)(22,"p",13),l(23," 50k+ "),r(),i(24,"p",14),l(25),f(26,"translate"),r()(),i(27,"div",15)(28,"p",13),l(29," 17k+ "),r(),i(30,"p",14),l(31),f(32,"translate"),r()()()()()(),i(33,"div",16),v(34,xt,5,3,"div",17)(35,_t,2,5,"div",18),r()()(),v(36,vt,1,1,"app-login-modal",19),r()),t&2&&(s(6),g(" ",x(7,9,"USED_MOTORCYCLES.TITLE"),""),s(3),g("",x(10,11,"USED_MOTORCYCLES.SUBTITLE")," "),s(3),g(" ",x(13,13,"USED_MOTORCYCLES.DESCRIPTION")," "),s(6),g(" ",x(19,15,"COMMON.VIEW_ALL")," "),s(7),g(" ",x(26,17,"USED_MOTORCYCLES.SOLD")," "),s(6),g(" ",x(32,19,"USED_MOTORCYCLES.AVAILABLE")," "),s(3),p("ngIf",n.motorcycles.length===0),s(),p("ngIf",n.motorcycles.length>0),s(),p("ngIf",n.showLoginModal))},dependencies:[I,T,L,H,N,$,X,z,K],styles:['.slider-section[_ngcontent-%COMP%]{padding:32px 80px 48px;background:#fff}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;gap:50px;flex:1 0 0}.slider-track[_ngcontent-%COMP%]{display:flex;gap:16px;transition:transform .3s ease-out;cursor:grab;flex-wrap:nowrap}.slider-track.dragging[_ngcontent-%COMP%]{cursor:grabbing;transition:none}.slider-track[_ngcontent-%COMP%]:active{cursor:grabbing}.card-image[_ngcontent-%COMP%]{width:324px;height:270.201px;flex-shrink:0;background:#e2ffea}.card-content[_ngcontent-%COMP%]{width:292px;height:45%;gap:20px;flex-shrink:0;border-color:#d0d5dd}.price-label[_ngcontent-%COMP%]{color:var(--gray-500, #71717a);font-family:Manrope;font-size:11px;font-style:normal;font-weight:500;line-height:18px;letter-spacing:1px;text-transform:uppercase}.title[_ngcontent-%COMP%]{color:var(--Color-1, #151518);font-family:Manrope;font-size:18px;font-weight:700;line-height:24px;font-style:normal;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}.slider-section[_ngcontent-%COMP%]{padding:32px 20px 48px;background:#fff}@media (min-width: 768px){.slider-section[_ngcontent-%COMP%]{padding:32px 80px 48px}}@media (min-width: 768px){.slider-card[_ngcontent-%COMP%]{width:324px}}.slider-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:270px;object-fit:cover;background:#d3d3d3 50% / cover no-repeat}.card-content[_ngcontent-%COMP%]{padding:24px}.price-label[_ngcontent-%COMP%]{color:#71717a;font-family:Manrope,sans-serif;font-size:11px;font-weight:500;line-height:18px;letter-spacing:1px;text-transform:uppercase;margin-bottom:4px}.price-value[_ngcontent-%COMP%]{color:var(--gray-900, #18181b);font-family:Manrope;font-size:18px;font-style:normal;font-weight:700;line-height:24px}viewBtn[_ngcontent-%COMP%]:hover{background:#f9fafb}.viewBtn[_ngcontent-%COMP%]{cursor:pointer}.card-content[_ngcontent-%COMP%]   viewBtn[_ngcontent-%COMP%]:hover{background:#f3f4f6}.rtl[_ngcontent-%COMP%]   .slider-track[_ngcontent-%COMP%]{flex-direction:row-reverse}.main-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:32px;padding:32px 80px 48px}@media (min-width: 768px){.main-section[_ngcontent-%COMP%]{flex-direction:row;align-items:flex-start;gap:50px}}.slider-card[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(33.333% - 16px);max-width:324px;min-width:200px;height:auto;border-radius:8px;background:#fff;box-shadow:0 44px 44px -7px #00000014}@media (max-width: 1024px){.slider-card[_ngcontent-%COMP%]{width:calc(50% - 12px)}}@media (max-width: 640px){.slider-card[_ngcontent-%COMP%]{width:100%;max-width:100%}}.slider-container[_ngcontent-%COMP%]{flex:1 1 auto;overflow:hidden;position:relative;width:100%;max-width:100%;padding:0 0 65px 35px;box-sizing:border-box;display:flex;align-items:center}.slider-container[_ngcontent-%COMP%]:before, .slider-container[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;width:40px;height:100%;pointer-events:none;z-index:2}.card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:24px;width:292px;border-color:#d0d5dd}.card-content[_ngcontent-%COMP%]   viewBtn[_ngcontent-%COMP%]{margin-top:auto}.product-content[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:column;flex-grow:1;width:100%;gap:15px}.product-title[_ngcontent-%COMP%]{color:var(--Color-1, #151518);font-family:Manrope;font-size:18px;font-weight:700;line-height:24px;font-style:normal;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}.product-brand[_ngcontent-%COMP%]{color:var(--Gray-600, #475467);font-family:Manrope;font-size:16px;font-style:normal;font-weight:400;line-height:24px}.price-value[_ngcontent-%COMP%]{color:var(--Gray-700---Secondary-Text, #344054);font-family:Manrope;font-size:18px;font-style:normal;font-weight:800;line-height:24px}.location-time-product[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.location-value[_ngcontent-%COMP%]{color:var(--Gray-700---Secondary-Text, #344054);font-family:Manrope;font-size:14px;font-style:normal;font-weight:700;line-height:24px;letter-spacing:-.084px;display:flex}.location-value[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-right:5px}.time-value[_ngcontent-%COMP%]{color:var(--Gray-700---Secondary-Text, #344054);font-family:Manrope;font-size:12px;font-style:normal;font-weight:700;line-height:24px}.product-footer[_ngcontent-%COMP%]{margin-top:2px}.viewBtn[_ngcontent-%COMP%]{cursor:pointer;display:flex;width:100%;margin-top:4px;padding:8px 14px;justify-content:center;align-items:center;gap:8px;flex:1 0 0;border-radius:8px;border:1px solid var(--Gray-300, #d0d5dd);background:var(--White, #fff);box-shadow:0 1px 2px #1018280d;color:var(--Primary, #f03d24);color:var(--Gray-700, #344054);font-family:Manrope;font-size:16px;font-style:normal;font-weight:600;line-height:24px}.viewBtn[_ngcontent-%COMP%]{display:flex;width:292px;padding:10px 18px;justify-content:center;align-items:center;gap:8px;border-radius:8px;border:1px solid var(--Gray-300, #d0d5dd);background:var(--White, #fff);box-shadow:0 1px 2px #1018280d}']})};function yt(a,e){a&1&&(i(0,"div",20)(1,"div",21)(2,"p",22),l(3),f(4,"translate"),r()()()),a&2&&(s(3),g(" ",x(4,1,"COMMON.NO_RESULTS")," "))}function Ct(a,e){if(a&1){let t=b();i(0,"div",25),_(1,"img",26),i(2,"div",27)(3,"span",28),l(4),r(),i(5,"span",29),l(6),r(),i(7,"span",30),l(8),r(),i(9,"div",31)(10,"span",32),k(),i(11,"svg",33),_(12,"path",34),r(),l(13),r(),R(),i(14,"span",35),l(15),f(16,"timeAgo"),r()(),i(17,"div",36)(18,"button",37),C("click",function(){let o=m(t).$implicit,c=d(2);return u(c.viewListing(o.id))}),l(19," View Bike "),r()()()()}if(a&2){let t=e.$implicit,n=d(2);s(),p("src",t.images[0],F)("alt",t.title),s(2),p("title",t.title),s(),g(" ",n.truncateText(t.title,20)," "),s(2),U(" ",t.spare_part.brand," ",t.spare_part.category," "),s(2),U("",t.price," ",t.currency||"SAR",""),s(5),g(" ",t.city," "),s(2),O(t.created_at?x(16,10,t.created_at):"")}}function bt(a,e){if(a&1){let t=b();i(0,"div",23),C("mousedown",function(o){m(t);let c=d();return u(c.shouldSlide?c.startDrag(o):null)})("touchstart",function(o){m(t);let c=d();return u(c.shouldSlide?c.startDrag(o):null)})("mousemove",function(o){m(t);let c=d();return u(c.shouldSlide?c.onDrag(o):null)})("touchmove",function(o){m(t);let c=d();return u(c.shouldSlide?c.onDrag(o):null)})("mouseup",function(){m(t);let o=d();return u(o.shouldSlide?o.endDrag():null)})("mouseleave",function(){m(t);let o=d();return u(o.shouldSlide?o.endDrag():null)})("touchend",function(){m(t);let o=d();return u(o.shouldSlide?o.endDrag():null)}),v(1,Ct,20,12,"div",24),r()}if(a&2){let t=d();M("transform","translateX("+t.currentPosition+"px)"),W("dragging",t.isDragging),s(),p("ngForOf",t.spareParts)}}function wt(a,e){if(a&1){let t=b();i(0,"app-login-modal",38),C("close",function(){m(t);let o=d();return u(o.closeLoginModal())}),r()}}var J=class a{constructor(e,t,n,o,c){this.listinbyCat=e;this.router=t;this.locationService=n;this.authService=o;this.platformId=c}currentSlide=0;itemsPerSlide=3;spareParts=[];slideDirection="right";touchStartX=0;containerWidth=1024;currentPosition=0;isDragging=!1;startX=0;startPosition=0;cardWidth=324;mobileCardWidth=300;isMobile=!1;countryname;showLoginModal=!1;gap=16;isLoggedIn=!1;sub;ngOnInit(){this.sub=this.authService.isLoggedIn$.subscribe(e=>{this.isLoggedIn=e}),this.locationService.selectedCountry$.subscribe(e=>{this.currentPosition=0,e?.name?(this.countryname=e.name,this.getBikePart()):(this.countryname="all",this.getBikePart())})}viewListing(e){this.isLoggedIn?this.router.navigate(["/listing",e]):this.openLoginModal()}truncateText(e,t){return e.length>t?e.substring(0,t)+"...":e}searchedCountryMessage=null;getBikePart(){let e=this.countryname||"all";this.currentPosition=0,this.listinbyCat.getBikePartByCategory(e).subscribe(t=>{this.spareParts=t.listings||[],this.countryname?t.showing_all_countries&&t.searched_country?this.searchedCountryMessage=`No listings found for "${t.searched_country}". Showing all countries instead.`:this.searchedCountryMessage=null:this.searchedCountryMessage="Showing all countries",this.currentPosition=0})}get visibleParts(){return this.spareParts}openLoginModal(){this.showLoginModal=!0}closeLoginModal(){this.showLoginModal=!1}get shouldSlide(){return this.spareParts.length>3}checkMobile(){y(this.platformId)&&(this.isMobile=window.innerWidth<768,this.currentPosition=0)}getVisibleCards(){return this.isMobile?1:3}startDrag(e){this.shouldSlide&&(this.isDragging=!0,this.startX=this.getX(e),this.startPosition=this.currentPosition,e.preventDefault())}onDrag(e){if(y(this.platformId)){if(!this.isDragging||!this.shouldSlide)return;let n=this.getX(e)-this.startX,c=document.dir==="rtl"?-n:n;this.currentPosition=this.startPosition+c;let w=this.getMaxPosition();this.currentPosition>0&&(this.currentPosition=0),this.currentPosition<w&&(this.currentPosition=w)}}getCardWidth(){if(y(this.platformId)){let e=document.querySelector(".slider-card");return e?e.offsetWidth:this.cardWidth}return this.cardWidth}getMaxPosition(){if(!this.shouldSlide||this.spareParts.length<=0)return 0;let e=this.getCardWidth(),t=this.gap,n=this.getVisibleCards();return-(this.spareParts.length*e+(this.spareParts.length-1)*t-e)}endDrag(){if(!this.shouldSlide)return;this.isDragging=!1;let e=this.getCardWidth()+this.gap;this.currentPosition=Math.round(this.currentPosition/e)*e;let t=this.getMaxPosition();this.currentPosition>0&&(this.currentPosition=0),this.currentPosition<t&&(this.currentPosition=t)}getX(e){return e instanceof MouseEvent?e.clientX:e.touches[0].clientX}get totalSlides(){return Math.ceil(this.spareParts.length/this.itemsPerSlide)}static \u0275fac=function(t){return new(t||a)(h(V),h(A),h(G),h(D),h(E))};static \u0275cmp=S({type:a,selectors:[["app-used-spare-parts-section"]],decls:37,vars:21,consts:[[1,"main-section"],[1,"container"],[2,"display","flex","padding","24px","align-items","center","gap","72px"],[2,"width","495px","height","412px"],[2,"display","flex","width","495px","align-items","flex-start","align-content","flex-start","gap","40px 45px","flex-wrap","wrap"],[2,"width","465px","flex-shrink","0","color","var(--gray-900, #18181b)","font-family","Manrope","font-size","52px","font-style","normal","font-weight","700","line-height","66px"],[2,"color","var(--gray-900, #18181b)","font-family","Manrope","font-size","18px","font-style","normal","font-weight","500","line-height","30px"],[2,"display","flex","flex-direction","column","justify-content","center","align-items","flex-start","gap","45px","flex","1 0 0"],[2,"display","flex","align-items","flex-start","gap","24px"],["routerLink","/spare-parts",2,"cursor","pointer","display","flex","height","48px","padding","17.25px 57.63px 14.75px 57.63px","justify-content","center","align-items","center","border-radius","4px","border","2px solid var(--Primary---Navy, #032c40)"],[2,"color","var(--Primary---Navy, #032c40)","text-align","center","font-family","Manrope","font-size","16px","font-style","normal","font-weight","700","line-height","16px"],[2,"display","flex","align-items","center","gap","45px"],[2,"width","86px","height","77px"],[2,"color","var(--gray-900, #18181b)","font-family","Manrope","font-size","36px","font-style","normal","font-weight","800","line-height","46px"],[2,"color","var(--gray-500, #71717a)","font-family","Manrope","font-size","18px","font-style","normal","font-weight","400","line-height","24px"],[2,"width","129px","height","77px"],[1,"slider-container",2,"display","flex","align-items","center","gap","31px"],["class","flex items-center justify-center min-h-[300px] bg-gray-50 rounded-lg border border-gray-200",4,"ngIf"],["class","slider-track",3,"transform","dragging","mousedown","touchstart","mousemove","touchmove","mouseup","mouseleave","touchend",4,"ngIf"],[3,"close",4,"ngIf"],[1,"flex","items-center","justify-center","min-h-[300px]","bg-gray-50","rounded-lg","border","border-gray-200"],[1,"text-center"],[1,"text-lg","text-gray-600","font-medium"],[1,"slider-track",3,"mousedown","touchstart","mousemove","touchmove","mouseup","mouseleave","touchend"],["class","slider-card",4,"ngFor","ngForOf"],[1,"slider-card"],["draggable","false",1,"card-image",3,"src","alt"],[1,"product-content"],[1,"product-title",3,"title"],[1,"product-brand"],[1,"price-value"],[1,"location-time-product"],[1,"location-value"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["fill-rule","evenodd","clip-rule","evenodd","d","M7.05002 6.04987C8.36284 4.73705 10.1434 3.99951 12 3.99951C13.8566 3.99951 15.6372 4.73705 16.95 6.04987C18.2628 7.36269 19.0004 9.14326 19.0004 10.9999C19.0004 12.8565 18.2628 14.637 16.95 15.9499L12 20.8999L7.05002 15.9499C6.39993 15.2998 5.88425 14.5281 5.53242 13.6788C5.1806 12.8295 4.99951 11.9192 4.99951 10.9999C4.99951 10.0806 5.1806 9.17025 5.53242 8.32092C5.88425 7.47159 6.39993 6.69989 7.05002 6.04987ZM12 12.9999C12.5304 12.9999 13.0392 12.7892 13.4142 12.4141C13.7893 12.039 14 11.5303 14 10.9999C14 10.4694 13.7893 9.96073 13.4142 9.58566C13.0392 9.21058 12.5304 8.99987 12 8.99987C11.4696 8.99987 10.9609 9.21058 10.5858 9.58566C10.2107 9.96073 10 10.4694 10 10.9999C10 11.5303 10.2107 12.039 10.5858 12.4141C10.9609 12.7892 11.4696 12.9999 12 12.9999Z","fill","#A7C543"],[1,"time-value"],[1,"product-footer"],[1,"viewBtn",3,"click"],[3,"close"]],template:function(t,n){t&1&&(i(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),l(6),f(7,"translate"),_(8,"br"),l(9),f(10,"translate"),r(),i(11,"div",6),l(12),f(13,"translate"),r(),i(14,"div",7)(15,"div",8)(16,"button",9)(17,"p",10),l(18),f(19,"translate"),r()()(),i(20,"div",11)(21,"div",12)(22,"p",13),l(23," 2k+ "),r(),i(24,"p",14),l(25),f(26,"translate"),r()(),i(27,"div",15)(28,"p",13),l(29," 13k+ "),r(),i(30,"p",14),l(31),f(32,"translate"),r()()()()()(),i(33,"div",16),v(34,yt,5,3,"div",17)(35,bt,2,5,"div",18),r()()()(),v(36,wt,1,0,"app-login-modal",19)),t&2&&(s(6),g(" ",x(7,9,"SPARE_PARTS.TITLE"),""),s(3),g("",x(10,11,"SPARE_PARTS.SUBTITLE")," "),s(3),g(" ",x(13,13,"SPARE_PARTS.DESCRIPTION")," "),s(6),g(" ",x(19,15,"COMMON.VIEW_ALL")," "),s(7),g(" ",x(26,17,"SPARE_PARTS.SOLD")," "),s(6),g(" ",x(32,19,"SPARE_PARTS.AVAILABLE")," "),s(3),p("ngIf",(n.spareParts==null?null:n.spareParts.length)===0),s(),p("ngIf",n.spareParts.length>0),s(),p("ngIf",n.showLoginModal))},dependencies:[I,T,L,H,N,$,X,z,K],styles:['.slider-section[_ngcontent-%COMP%]{padding:32px 80px 48px;background:#fff}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;gap:50px;flex:1 0 0}.slider-track[_ngcontent-%COMP%]{display:flex;gap:16px;transition:transform .3s ease-out;cursor:grab;flex-wrap:nowrap}.slider-track.dragging[_ngcontent-%COMP%]{cursor:grabbing;transition:none}.slider-track[_ngcontent-%COMP%]:active{cursor:grabbing}.card-image[_ngcontent-%COMP%]{width:324px;height:270.201px;flex-shrink:0;background:#e2ffea}.card-content[_ngcontent-%COMP%]{width:292px;flex-shrink:0;border-color:#d0d5dd;height:45%;gap:20px}.price-label[_ngcontent-%COMP%]{color:var(--gray-500, #71717A);font-family:Manrope;font-size:11px;font-style:normal;font-weight:500;line-height:18px;letter-spacing:1px;text-transform:uppercase}.title[_ngcontent-%COMP%]{color:var(--Color-1, #151518);font-family:Manrope;font-size:18px;font-weight:700;line-height:24px;font-style:normal;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}.slider-section[_ngcontent-%COMP%]{padding:32px 20px 48px;background:#fff}@media (min-width: 768px){.slider-section[_ngcontent-%COMP%]{padding:32px 80px 48px}}@media (min-width: 768px){.slider-card[_ngcontent-%COMP%]{width:324px}}.slider-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:270px;object-fit:cover;background:#d3d3d3 50% / cover no-repeat}.card-content[_ngcontent-%COMP%]{padding:24px}.price-label[_ngcontent-%COMP%]{color:#71717a;font-family:Manrope,sans-serif;font-size:11px;font-weight:500;line-height:18px;letter-spacing:1px;text-transform:uppercase;margin-bottom:4px}.price-value[_ngcontent-%COMP%]{color:var(--gray-900, #18181B);font-family:Manrope;font-size:18px;font-style:normal;font-weight:700;line-height:24px}button[_ngcontent-%COMP%]:hover{background:#f9fafb}.button[_ngcontent-%COMP%]{cursor:pointer}.button[_ngcontent-%COMP%]{display:flex;width:292px;padding:10px 18px;justify-content:center;align-items:center;gap:8px;border-radius:8px;border:1px solid var(--Gray-300, #D0D5DD);background:var(--White, #FFF);box-shadow:0 1px 2px #1018280d}.card-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#f3f4f6}.rtl[_ngcontent-%COMP%]   .slider-track[_ngcontent-%COMP%]{flex-direction:row-reverse}.main-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:32px;padding:32px 80px 48px}@media (min-width: 768px){.main-section[_ngcontent-%COMP%]{flex-direction:row;align-items:flex-start;gap:50px}}.slider-card[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(33.333% - 16px);min-width:200px;max-width:324px;height:auto;border-radius:8px;background:#fff;box-shadow:0 44px 44px -7px #00000014}@media (max-width: 1024px){.slider-card[_ngcontent-%COMP%]{width:calc(50% - 12px)}}@media (max-width: 640px){.slider-card[_ngcontent-%COMP%]{width:100%}}.slider-container[_ngcontent-%COMP%]{flex:1 1 auto;overflow:hidden;position:relative;width:100%;max-width:100%;padding:0 0 65px 35px;box-sizing:border-box;display:flex;align-items:center}.slider-container[_ngcontent-%COMP%]:before, .slider-container[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;width:40px;height:100%;pointer-events:none;z-index:2}.card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:24px;width:292px;border-color:#d0d5dd}.card-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:auto}.product-content[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:column;flex-grow:1;width:100%;gap:15px}.product-title[_ngcontent-%COMP%]{align-self:stretch;color:var(--Gray-700---Secondary-Text, #344054);font-family:Manrope;font-size:18px;font-style:normal;font-weight:400;line-height:24px}.price-value[_ngcontent-%COMP%]{color:var(--Gray-700---Secondary-Text, #344054);font-family:Manrope;font-size:18px;font-style:normal;font-weight:800;line-height:24px}.location-time-product[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.location-value[_ngcontent-%COMP%]{color:var(--Gray-700---Secondary-Text, #344054);font-family:Manrope;font-size:14px;font-style:normal;font-weight:700;line-height:24px;letter-spacing:-.084px;display:flex}.location-value[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-right:5px}.time-value[_ngcontent-%COMP%]{color:var(--Gray-700---Secondary-Text, #344054);font-family:Manrope;font-size:12px;font-style:normal;font-weight:700;line-height:24px}viewBtn[_ngcontent-%COMP%]:hover{background:#f9fafb}.card-content[_ngcontent-%COMP%]   viewBtn[_ngcontent-%COMP%]:hover{background:#f3f4f6}.card-content[_ngcontent-%COMP%]   viewBtn[_ngcontent-%COMP%]{margin-top:auto}.viewBtn[_ngcontent-%COMP%]{cursor:pointer;display:flex;width:100%;margin-top:4px;padding:8px 14px;justify-content:center;align-items:center;gap:8px;flex:1 0 0;border-radius:8px;border:1px solid var(--Gray-300, #d0d5dd);background:var(--White, #fff);box-shadow:0 1px 2px #1018280d;color:var(--Primary, #f03d24);color:var(--Gray-700, #344054);font-family:Manrope;font-size:16px;font-style:normal;font-weight:600;line-height:24px}.viewBtn[_ngcontent-%COMP%]{display:flex;width:292px;padding:10px 18px;justify-content:center;align-items:center;gap:8px;border-radius:8px;border:1px solid var(--Gray-300, #d0d5dd);background:var(--White, #fff);box-shadow:0 1px 2px #1018280d}']})};function Pt(a,e){a&1&&(i(0,"div",22)(1,"div",23)(2,"p",24),l(3),f(4,"translate"),r()()()),a&2&&(s(3),g(" ",x(4,1,"COMMON.NO_RESULTS")," "))}function Mt(a,e){if(a&1&&(i(0,"div",53),l(1),r()),a&2){let t=d().$implicit,n=d().ngIf,o=d(4);p("ngClass",o.getPositionClass(t)),s(),g(" ",n[t]," ")}}function St(a,e){if(a&1&&(B(0),v(1,Mt,2,2,"div",52),j()),a&2){let t=e.$implicit,n=d().ngIf;s(),p("ngIf",n[t])}}function Ot(a,e){a&1&&_(0,"div",54)}function It(a,e){a&1&&_(0,"div",55)}function kt(a,e){a&1&&_(0,"div",56)}function Et(a,e){if(a&1&&(B(0),i(1,"div",46),l(2),r(),i(3,"div",47),l(4),r(),v(5,St,2,1,"ng-container",48)(6,Ot,1,0,"div",49)(7,It,1,0,"div",50)(8,kt,1,0,"div",51),j()),a&2){let t=e.ngIf,n=d(2).$implicit,o=d(2);s(2),g(" ",n.city," "),s(2),g(" ",o.getCountryNameAbbreviated(n),`
`),s(),p("ngForOf",o.allPositions),s(),p("ngIf",t["left-center"]&&t.center),s(),p("ngIf",t.center&&t["right-center"]),s(),p("ngIf",t["left-center"]&&t["right-center"]&&!t.center)}}function Tt(a,e){a&1&&(B(0),_(1,"img",57),f(2,"translate"),i(3,"span",58),l(4,"UAE"),r(),j()),a&2&&(s(),p("alt",x(2,1,"PLATES.UAE_ICON")))}function Lt(a,e){a&1&&(B(0),i(1,"div",59)(2,"span"),l(3,"K"),r(),i(4,"span"),l(5,"W"),r(),i(6,"span"),l(7,"T"),r()(),j())}function At(a,e){a&1&&(B(0),_(1,"img",60),f(2,"translate"),i(3,"span",58),l(4,"KSA"),r(),j()),a&2&&(s(),p("alt",x(2,1,"PLATES.SAUDI_ICON")))}function Dt(a,e){if(a&1&&(i(0,"div",40)(1,"div",41),v(2,Et,9,6,"ng-container",30),r(),i(3,"div",42),B(4,43),v(5,Tt,5,3,"ng-container",44)(6,Lt,8,0,"ng-container",44)(7,At,5,3,"ng-container",45),j(),r()()),a&2){let t=d().$implicit,n=d(2);s(2),p("ngIf",n.getPlateFieldMap(t)),s(),p("ngClass",n.getSidebarClass(t)),s(),p("ngSwitch",t.license_plate==null||t.license_plate.plate_format==null||t.license_plate.plate_format.country==null?null:t.license_plate.plate_format.country.code),s(),p("ngSwitchCase","AE"),s(),p("ngSwitchCase","KW")}}function zt(a,e){if(a&1&&(i(0,"div")(1,"div",61)(2,"div",62)(3,"div",63)(4,"div",64),l(5),r(),i(6,"div",64),l(7),r(),i(8,"div",64),l(9),r(),i(10,"div",65),l(11),r()(),i(12,"div",66),_(13,"img",60),f(14,"translate"),i(15,"span",58),l(16,"KSA"),r()()()()()),a&2){let t=e.ngIf;s(5),O(t.arNumbers),s(2),O(t.arLetters),s(2),O(t.enNumbers),s(2),O(t.enLetters),s(2),p("alt",x(14,5,"PLATES.SAUDI_ICON"))}}function Vt(a,e){if(a&1&&(i(0,"div"),v(1,zt,17,7,"div",30),r()),a&2){let t=d().$implicit,n=d(2);s(),p("ngIf",n.getSaudiPlateParts(t))}}function Rt(a,e){if(a&1){let t=b();i(0,"div",27)(1,"div",28),v(2,Dt,8,5,"div",29)(3,Vt,2,1,"div",30),r(),i(4,"div",31)(5,"div",32)(6,"h3",33),l(7),r(),i(8,"p",34),_(9,"span",35),l(10),r()(),i(11,"div",36)(12,"p",37),l(13),i(14,"span",38),l(15),r()()(),i(16,"button",39),C("click",function(){let o=m(t).$implicit,c=d(2);return u(c.viewListing(o.id))}),l(17),f(18,"translate"),r()()()}if(a&2){let t=e.$implicit,n=d(2);s(),p("ngClass",n.getPlateBackgroundClass(t)),s(),p("ngIf",(t.license_plate==null||t.license_plate.plate_format==null||t.license_plate.plate_format.country==null?null:t.license_plate.plate_format.country.code)!=="SA"),s(),p("ngIf",(t.license_plate==null||t.license_plate.plate_format==null||t.license_plate.plate_format.country==null?null:t.license_plate.plate_format.country.code)==="SA"),s(4),O(t.title),s(3),g(" ",n.getCountryName(t)," "),s(3),g(" ",n.isAuction(t)?t.minimum_bid:t.price," "),s(2),g(" ",(t.license_plate==null||t.license_plate.plate_format==null||t.license_plate.plate_format.country==null?null:t.license_plate.plate_format.country.code)==="AE"?"AED":"SAR"," "),s(2),g(" ",x(18,8,"PLATES.VIEW_PLATE")," ")}}function Bt(a,e){if(a&1){let t=b();i(0,"div",25),C("mousedown",function(o){m(t);let c=d();return u(c.shouldSlide?c.startDrag(o):null)})("touchstart",function(o){m(t);let c=d();return u(c.shouldSlide?c.startDrag(o):null)})("mousemove",function(o){m(t);let c=d();return u(c.shouldSlide?c.onDrag(o):null)})("touchmove",function(o){m(t);let c=d();return u(c.shouldSlide?c.onDrag(o):null)})("mouseup",function(){m(t);let o=d();return u(o.shouldSlide?o.endDrag():null)})("mouseleave",function(){m(t);let o=d();return u(o.shouldSlide?o.endDrag():null)})("touchend",function(){m(t);let o=d();return u(o.shouldSlide?o.endDrag():null)}),v(1,Rt,19,10,"div",26),r()}if(a&2){let t=d();M("transform","translateX("+t.currentPosition+"px)"),W("dragging",t.isDragging),s(),p("ngForOf",t.plates)}}function jt(a,e){if(a&1){let t=b();i(0,"app-login-modal",67),C("close",function(){m(t);let o=d();return u(o.closeLoginModal())}),r()}}var Q=class a{constructor(e,t,n,o,c,w){this.http=e;this.router=t;this.locationService=n;this.platformId=o;this.authService=c;this.listing=w;console.log("PlatesSectionComponent constructed at:",new Date().toISOString())}plates=[];soldCount=500;availableCount=3e3;allPositions=["top-left","top-center","top-right","left-center","center","right-center","bottom-left","bottom-center","bottom-right"];currentPosition=0;isDragging=!1;startX=0;startPosition=0;gap=31;locationSubscription;isLoading=!1;isDestroyed=!1;cardWidth=340;mobileCardWidth=296;tabletCardWidth=316;isMobile=!1;isTablet=!1;containerWidth=0;countryname;searchedCountryMessage=null;isLoggedIn=!1;showLoginModal=!1;sub;ngOnInit(){this.sub=this.authService.isLoggedIn$.subscribe(e=>{this.isLoggedIn=e}),this.checkScreenSize(),this.locationService.selectedCountry$.subscribe(e=>{this.currentPosition=0,e?.name?(this.countryname=e.name,this.getPlateByCountryName()):(this.countryname="all",this.getPlateByCountryName())})}ngAfterViewInit(){}ngOnDestroy(){this.isDestroyed=!0,this.locationSubscription&&this.locationSubscription.unsubscribe()}checkMobile(){y(this.platformId)&&(this.isMobile=window.innerWidth<768,this.currentPosition=0)}get shouldSlide(){return this.plates.length>3}getVisibleCards(){return this.isMobile?1:3}getCardWidth(){if(y(this.platformId)){let e=document.querySelector(".slider-card");return e?e.offsetWidth:this.cardWidth}return this.cardWidth}getPlateByCountryName(){let e=this.countryname||"all";this.currentPosition=0,this.listing.getPlatebyCountryName(e).subscribe(t=>{let n=t.listings||[];this.plates=n.filter(o=>o.license_plate),this.countryname?t.showing_all_countries&&t.searched_country?this.searchedCountryMessage=`No listings found for "${t.searched_country}". Showing all countries instead.`:this.searchedCountryMessage=null:this.searchedCountryMessage="Showing all countries",this.currentPosition=0})}startDrag(e){this.shouldSlide&&(this.isDragging=!0,this.startX=this.getX(e),this.startPosition=this.currentPosition,e.preventDefault())}onDrag(e){if(y(this.platformId)){if(!this.isDragging||!this.shouldSlide)return;let n=this.getX(e)-this.startX,c=document.dir==="rtl"?-n:n;this.currentPosition=this.startPosition+c;let w=this.getMaxPosition();this.currentPosition>0&&(this.currentPosition=0),this.currentPosition<w&&(this.currentPosition=w)}}getMaxPosition(){if(!this.shouldSlide||this.plates.length<=0)return 0;let e=this.getCardWidth(),t=this.gap;return-(this.plates.length*e+(this.plates.length-1)*t-e)}endDrag(){if(!this.shouldSlide)return;this.isDragging=!1;let e=this.getCardWidth()+this.gap;this.currentPosition=Math.round(this.currentPosition/e)*e;let t=this.getMaxPosition();this.currentPosition>0&&(this.currentPosition=0),this.currentPosition<t&&(this.currentPosition=t)}getX(e){return e instanceof MouseEvent?e.clientX:e.touches[0].clientX}onResize(){this.isDestroyed||y(this.platformId)&&(this.checkScreenSize(),this.updateContainerWidth(),this.resetPosition())}getCountryNameAbbreviated(e){let t=e.license_plate?.plate_format.country.name||"";return{"United Arab Emirates":"UAE","Saudi Arabia":"KSA",KWAIT:"KWT"}[t]||t}checkScreenSize(){if(y(this.platformId)){let e=window.innerWidth;this.isMobile=e<768,this.isTablet=e>=768&&e<1024}}updateContainerWidth(){y(this.platformId)&&(this.isMobile?this.containerWidth=window.innerWidth-32:this.isTablet?this.containerWidth=650:this.containerWidth=1024)}resetPosition(){this.currentPosition=0}viewListing(e){this.isLoggedIn?this.router.navigate(["/listing",e]):this.openLoginModal()}openLoginModal(){this.showLoginModal=!0}closeLoginModal(){this.showLoginModal=!1}getCountryName(e){return e.license_plate?.plate_format.country.name||""}isAuction(e){return e.auction_enabled===1}getPlateBackgroundClass(e){switch(e.license_plate?.plate_format?.country?.code){case"AE":return"uae-bg";case"SA":return"saudi-bg";case"KW":return"kuwait-bg";default:return"default-bg"}}getSaudiPlateParts(e){let t=e?.license_plate?.fields;if(!t||t.length<4)return null;let n=t.find(P=>P.field_name.toLowerCase().includes("letter")&&P.field_name.toLowerCase().includes("arabic"))?.value||"",o=t.find(P=>P.field_name.toLowerCase().includes("number")&&P.field_name.toLowerCase().includes("arabic"))?.value||"",c=t.find(P=>P.field_name.toLowerCase().includes("letter")&&P.field_name.toLowerCase().includes("english"))?.value||"",w=t.find(P=>P.field_name.toLowerCase().includes("number")&&P.field_name.toLowerCase().includes("english"))?.value||"";return{arLetters:n,arNumbers:o,enLetters:c,enNumbers:w}}getPlateFieldMap(e){let t={};return e.license_plate?.fields?.forEach(n=>{n.field_position&&n.value&&(t[n.field_position]=n.value)}),t}getPositionClass(e){return`text-center ${{"top-left":"top-1 left-1","top-center":"top-1 left-1/2 transform -translate-x-1/2","top-right":"top-1 right-1","left-center":"left-1 top-1/2 transform -translate-y-1/2",center:"top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2","right-center":"right-1 top-1/2 transform -translate-y-1/2","bottom-left":"bottom-1 left-1","bottom-center":"bottom-1 left-1/2 transform -translate-x-1/2","bottom-right":"bottom-1 right-1"}[e]||""}`}getSidebarClass(e){switch(e.license_plate?.plate_format?.country?.code){case"KW":return"bg-[#d32f2f]";case"AE":return"bg-[#6b21a8]";default:return"bg-[#138c36]"}}static \u0275fac=function(t){return new(t||a)(h(pt),h(A),h(G),h(E),h(D),h(V))};static \u0275cmp=S({type:a,selectors:[["app-plates-section"]],hostBindings:function(t,n){t&1&&C("resize",function(c){return n.onResize(c)},!1,rt)},decls:38,vars:21,consts:[[1,"main-section"],[1,"container"],[2,"display","flex","padding","24px","align-items","center","gap","72px"],[2,"width","495px","height","412px"],[2,"display","flex","width","495px","align-items","flex-start","align-content","flex-start","gap","40px 45px","flex-wrap","wrap"],[2,"width","465px","flex-shrink","0","color","var(--gray-900, #18181b)","font-family","Manrope","font-size","52px","font-style","normal","font-weight","700","line-height","66px"],[1,"badge-section"],[1,"gcc-badge"],[2,"color","var(--gray-900, #18181b)","font-family","Manrope","font-size","18px","font-style","normal","font-weight","500","line-height","30px"],[2,"display","flex","flex-direction","column","justify-content","center","align-items","flex-start","gap","45px","flex","1 0 0"],[2,"display","flex","align-items","flex-start","gap","24px"],["routerLink","/plates",2,"cursor","pointer","display","flex","height","48px","padding","17.25px 57.63px 14.75px 57.63px","justify-content","center","align-items","center","border-radius","4px","border","2px solid var(--Primary---Navy, #032c40)"],[2,"color","var(--Primary---Navy, #032c40)","text-align","center","font-family","Manrope","font-size","16px","font-style","normal","font-weight","700","line-height","16px"],[2,"display","flex","align-items","center","gap","45px"],[2,"width","86px","height","77px"],[2,"color","var(--gray-900, #18181b)","font-family","Manrope","font-size","36px","font-style","normal","font-weight","800","line-height","46px"],[2,"color","var(--gray-500, #71717a)","font-family","Manrope","font-size","18px","font-style","normal","font-weight","400","line-height","24px"],[2,"width","129px","height","77px"],[1,"slider-container",2,"display","flex","align-items","center","gap","31px"],["class","no-results",4,"ngIf"],["class","slider-track",3,"transform","dragging","mousedown","touchstart","mousemove","touchmove","mouseup","mouseleave","touchend",4,"ngIf"],[3,"close",4,"ngIf"],[1,"no-results"],[1,"no-results-content"],[1,"no-results-text"],[1,"slider-track",3,"mousedown","touchstart","mousemove","touchmove","mouseup","mouseleave","touchend"],["class","slider-card",4,"ngFor","ngForOf"],[1,"slider-card"],[1,"plate-display",3,"ngClass"],["class","non-saudi-plate",4,"ngIf"],[4,"ngIf"],[1,"card-content"],[1,"plate-info"],[1,"plate-title","line-clamp-2"],[1,"plate-country"],[1,"status-dot"],[1,"price-section"],[1,"price-value"],[1,"currency"],[1,"button",3,"click"],[1,"non-saudi-plate"],[1,"plate-main"],[1,"country-sidebar",3,"ngClass"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"city-label"],[1,"country-label"],[4,"ngFor","ngForOf"],["class","plate-separator-left",4,"ngIf"],["class","plate-separator-right",4,"ngIf"],["class","plate-separator",4,"ngIf"],["class","plate-field",3,"ngClass",4,"ngIf"],[1,"plate-field",3,"ngClass"],[1,"plate-separator-left"],[1,"plate-separator-right"],[1,"plate-separator"],["src","/pictures/simple-icons_emirates.svg",1,"country-icon",3,"alt"],[1,"country-code"],[1,"kuwait-text"],["src","/pictures/simple-icons_saudia.svg",1,"country-icon",3,"alt"],[1,"saudi-plate-container"],[1,"saudi-plate"],[1,"saudi-grid"],[1,"saudi-cell"],[1,"saudi-cell","saudi-en-letters"],[1,"saudi-sidebar"],[3,"close"]],template:function(t,n){t&1&&(i(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),l(6),f(7,"translate"),r(),i(8,"div",6)(9,"span",7),l(10),f(11,"translate"),r()(),i(12,"div",8),l(13),f(14,"translate"),r(),i(15,"div",9)(16,"div",10)(17,"button",11)(18,"p",12),l(19),f(20,"translate"),r()()(),i(21,"div",13)(22,"div",14)(23,"p",15),l(24," 50k+ "),r(),i(25,"p",16),l(26),f(27,"translate"),r()(),i(28,"div",17)(29,"p",15),l(30," 17k+ "),r(),i(31,"p",16),l(32),f(33,"translate"),r()()()()()(),i(34,"div",18),v(35,Pt,5,3,"div",19)(36,Bt,2,5,"div",20),r()()()(),v(37,jt,1,0,"app-login-modal",21)),t&2&&(s(6),g(" ",x(7,9,"PLATES.TITLE")," "),s(4),g(" \u2728 ",x(11,11,"PLATES.GCC_BADGE")," "),s(3),g(" ",x(14,13,"PLATES.DESCRIPTION")," "),s(6),g(" ",x(20,15,"COMMON.VIEW_ALL")," "),s(7),g(" ",x(27,17,"USED_MOTORCYCLES.SOLD")," "),s(6),g(" ",x(33,19,"USED_MOTORCYCLES.AVAILABLE")," "),s(3),p("ngIf",(n.plates==null?null:n.plates.length)===0),s(),p("ngIf",n.plates.length>0),s(),p("ngIf",n.showLoginModal))},dependencies:[I,st,T,L,lt,ct,dt,H,N,gt,$,X,z],styles:['.main-section[_ngcontent-%COMP%]{display:flex;padding:20px 16px 32px;flex-direction:column;align-items:flex-start;gap:32px;background:#fff}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;gap:32px;width:100%}.content-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:32px;width:100%}.left-content[_ngcontent-%COMP%]{width:100%}.left-inner[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.title-section[_ngcontent-%COMP%]{color:var(--gray-900, #18181b);font-family:Manrope;font-size:28px;font-weight:700;line-height:36px}.badge-section[_ngcontent-%COMP%]{margin-bottom:8px}.gcc-badge[_ngcontent-%COMP%]{background:linear-gradient(to right,#fbbf24,#f59e0b);color:#000;font-size:12px;font-weight:600;padding:6px 12px;border-radius:20px;box-shadow:0 1px 3px #0000001a;display:inline-block}.description-section[_ngcontent-%COMP%]{color:var(--gray-900, #18181b);font-family:Manrope;font-size:16px;font-weight:500;line-height:26px}.actions-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.button-wrapper[_ngcontent-%COMP%]{display:flex;align-items:flex-start}.view-all-button[_ngcontent-%COMP%]{display:flex;height:44px;padding:12px 32px;justify-content:center;align-items:center;border-radius:4px;border:2px solid var(--Primary---Navy, #032C40);background:transparent;cursor:pointer}.button-text[_ngcontent-%COMP%]{color:var(--Primary---Navy, #032C40);text-align:center;font-family:Manrope;font-size:14px;font-weight:700;line-height:14px;margin:0}.stats-wrapper[_ngcontent-%COMP%]{display:flex;gap:20px}.stat-item[_ngcontent-%COMP%]{display:flex;flex-direction:column}.stat-card[_ngcontent-%COMP%]{background:#fff;padding:16px;border-radius:12px;box-shadow:0 1px 3px #0000001a}.stat-number[_ngcontent-%COMP%]{color:var(--gray-900, #18181B);font-family:Manrope;font-size:20px;font-weight:800;line-height:28px;margin:0 0 4px}.stat-label[_ngcontent-%COMP%]{color:var(--gray-500, #71717A);font-family:Manrope;font-size:14px;font-weight:400;line-height:20px;margin:0}.slider-container[_ngcontent-%COMP%]{flex:1 1 auto;overflow:hidden;position:relative;width:100%;max-width:100%;padding:0 0 65px 35px;box-sizing:border-box;display:flex;align-items:center}.slider-container[_ngcontent-%COMP%]:before, .slider-container[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;width:40px;height:100%;pointer-events:none;z-index:2}.slider-track[_ngcontent-%COMP%]{display:flex;gap:16px;transition:transform .3s ease-out;cursor:grab;flex-wrap:nowrap}.slider-track.dragging[_ngcontent-%COMP%]{cursor:grabbing;transition:none}.slider-track[_ngcontent-%COMP%]:active{cursor:grabbing}.rtl[_ngcontent-%COMP%]   .slider-track[_ngcontent-%COMP%]{flex-direction:row-reverse}.slider-card[_ngcontent-%COMP%]{flex:0 0 auto;width:324px;height:410px;background:#fff;border-radius:4px;background:var(--base-white, #FFF);box-shadow:0 44px 44px -7px #00000014}.card-image[_ngcontent-%COMP%]{width:324px;height:270.201px;flex-shrink:0;background:#e2ffea}.slider-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:270px;object-fit:cover;background:#d3d3d3 50% / cover no-repeat}.plate-display[_ngcontent-%COMP%]{padding:20px;display:flex;justify-content:center;align-items:center;background:#f9fafb;height:140px}.non-saudi-plate[_ngcontent-%COMP%]{position:relative;width:200px;height:80px;background:#fff;border:2px solid black;border-radius:6px;box-shadow:0 1px 3px #0000001a;display:flex}.plate-main[_ngcontent-%COMP%]{flex:1;position:relative}.city-label[_ngcontent-%COMP%]{position:absolute;top:4px;left:50%;transform:translate(-50%);font-size:8px;font-weight:600;color:#6b7280;text-transform:uppercase;letter-spacing:.05em}.country-label[_ngcontent-%COMP%]{position:absolute;bottom:4px;left:50%;transform:translate(-50%);font-size:8px;font-weight:600;color:#6b7280;text-transform:uppercase;letter-spacing:.05em;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:90%}.plate-field[_ngcontent-%COMP%]{position:absolute;font-size:12px;font-weight:700;color:#1f2937}.country-sidebar[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;color:#fff;padding:4px;width:32px}.country-icon[_ngcontent-%COMP%]{width:12px;height:12px;margin-bottom:2px}.country-code[_ngcontent-%COMP%]{font-size:8px;font-weight:700;letter-spacing:.05em;line-height:1}.kuwait-text[_ngcontent-%COMP%]{font-size:8px;font-weight:700;letter-spacing:.05em;line-height:1;display:flex;flex-direction:column;align-items:center}.saudi-plate-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.saudi-plate[_ngcontent-%COMP%]{display:flex;border:2px solid black;border-radius:6px;overflow:hidden;box-shadow:0 1px 3px #0000001a;background:#fff;height:94px}.saudi-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;grid-template-rows:1fr 1fr;width:160px;height:80px}.saudi-cell[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;border:1px solid black;font-size:12px;font-weight:700;color:#000}.saudi-en-letters[_ngcontent-%COMP%]{text-transform:uppercase}.saudi-sidebar[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;background:#138c36;color:#fff;padding:4px;width:32px}.card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:20px;height:calc(100% - 140px);width:292px;border-color:#d0d5dd;gap:20px}.card-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:auto}.plate-info[_ngcontent-%COMP%]{margin-bottom:16px}.plate-title[_ngcontent-%COMP%]{font-weight:700;font-size:16px;color:#111827;margin-bottom:4px;line-height:22px}.line-clamp-2[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.plate-country[_ngcontent-%COMP%]{color:#6b7280;font-size:14px;display:flex;align-items:center;gap:4px;margin:0}.status-dot[_ngcontent-%COMP%]{width:8px;height:8px;background:#10b981;border-radius:50%}.price-section[_ngcontent-%COMP%]{margin-bottom:16px}.price-label[_ngcontent-%COMP%]{color:var(--gray-500, #71717A);font-family:Manrope;font-size:11px;font-style:normal;font-weight:500;line-height:18px;letter-spacing:1px;text-transform:uppercase}.price-value[_ngcontent-%COMP%]{color:var(--gray-900, #18181B);font-family:Manrope;font-size:18px;font-style:normal;font-weight:700;line-height:24px;margin:0}.currency[_ngcontent-%COMP%]{font-size:12px;font-weight:500;color:#6b7280;margin-left:4px}.title[_ngcontent-%COMP%]{color:var(--Color-1, #151518);font-family:Manrope;font-size:18px;font-weight:700;line-height:24px;font-style:normal;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}.button[_ngcontent-%COMP%]{display:flex;width:292px;padding:10px 18px;justify-content:center;align-items:center;gap:8px;border-radius:8px;border:1px solid var(--Gray-300, #D0D5DD);background:var(--White, #FFF);box-shadow:0 1px 2px #1018280d;cursor:pointer;color:#344054;font-family:Manrope;font-size:16px;font-weight:600;line-height:24px;margin-top:auto}.button[_ngcontent-%COMP%]:hover{background:#f9fafb}.card-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#f3f4f6}.no-results[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:300px;background:#f9fafb;border-radius:8px;border:1px solid #e5e7eb}.no-results-content[_ngcontent-%COMP%]{text-align:center}.no-results-text[_ngcontent-%COMP%]{font-size:16px;color:#6b7280;font-weight:500;margin:0}.uae-bg[_ngcontent-%COMP%]{background:var(--Purple-100, #EBE9FE)!important}.saudi-bg[_ngcontent-%COMP%]{background:#e2ffea!important}.kuwait-bg[_ngcontent-%COMP%]{background:var(--Error-100, #FEE4E2)!important}.default-bg[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f0fdf4,#dcfce7)!important}@media (min-width: 768px){.main-section[_ngcontent-%COMP%]{padding:32px 40px 48px;gap:40px;flex-direction:row;align-items:flex-start}.content-wrapper[_ngcontent-%COMP%]{flex-direction:row;gap:48px;align-items:flex-start}.left-content[_ngcontent-%COMP%]{width:400px;flex-shrink:0}.left-inner[_ngcontent-%COMP%]{gap:24px}.title-section[_ngcontent-%COMP%]{font-size:40px;line-height:50px}.gcc-badge[_ngcontent-%COMP%]{font-size:13px;padding:8px 16px}.description-section[_ngcontent-%COMP%]{font-size:17px;line-height:28px}.actions-section[_ngcontent-%COMP%]{gap:32px}.view-all-button[_ngcontent-%COMP%]{height:46px;padding:14px 48px}.button-text[_ngcontent-%COMP%]{font-size:15px;line-height:15px}.stats-wrapper[_ngcontent-%COMP%]{gap:24px}.stat-card[_ngcontent-%COMP%]{padding:18px}.stat-number[_ngcontent-%COMP%]{font-size:24px;line-height:32px}.stat-label[_ngcontent-%COMP%]{font-size:15px;line-height:22px}.slider-container[_ngcontent-%COMP%]:before, .slider-container[_ngcontent-%COMP%]:after{width:40px}.slider-card[_ngcontent-%COMP%]{width:300px;height:410px}.plate-display[_ngcontent-%COMP%]{height:150px}.non-saudi-plate[_ngcontent-%COMP%]{width:210px;height:85px}.saudi-grid[_ngcontent-%COMP%]{width:170px;height:85px}.country-sidebar[_ngcontent-%COMP%], .saudi-sidebar[_ngcontent-%COMP%]{width:34px}.plate-title[_ngcontent-%COMP%]{font-size:17px;line-height:23px}.price-value[_ngcontent-%COMP%]{font-size:22px}.button[_ngcontent-%COMP%]{font-size:15px;line-height:22px;padding:11px 18px}}@media (min-width: 1024px){.main-section[_ngcontent-%COMP%]{padding:32px 80px 48px;gap:50px}.content-wrapper[_ngcontent-%COMP%]{gap:72px}.left-content[_ngcontent-%COMP%]{width:495px}.left-inner[_ngcontent-%COMP%]{gap:30px}.title-section[_ngcontent-%COMP%]{font-size:52px;line-height:66px}.gcc-badge[_ngcontent-%COMP%]{font-size:14px;padding:8px 16px;margin-bottom:24px}.description-section[_ngcontent-%COMP%]{font-size:18px;line-height:30px}.actions-section[_ngcontent-%COMP%]{gap:45px}.view-all-button[_ngcontent-%COMP%]{height:48px;padding:17.25px 57.63px 14.75px}.button-text[_ngcontent-%COMP%]{font-size:16px;line-height:16px}.stats-wrapper[_ngcontent-%COMP%]{gap:32px}.stat-card[_ngcontent-%COMP%]{padding:20px}.stat-number[_ngcontent-%COMP%]{font-size:28px;line-height:36px}.stat-label[_ngcontent-%COMP%]{font-size:16px;line-height:24px}.slider-container[_ngcontent-%COMP%]{max-width:none}.slider-container[_ngcontent-%COMP%]:before, .slider-container[_ngcontent-%COMP%]:after{width:40px}.slider-card[_ngcontent-%COMP%]{width:324px;height:410px}.plate-display[_ngcontent-%COMP%]{height:160px;padding:24px}.non-saudi-plate[_ngcontent-%COMP%]{width:216px;height:90px}.city-label[_ngcontent-%COMP%], .country-label[_ngcontent-%COMP%]{font-size:10px;max-width:95%}.plate-field[_ngcontent-%COMP%]{font-size:14px}.saudi-grid[_ngcontent-%COMP%]{width:180px;height:90px}.saudi-cell[_ngcontent-%COMP%]{font-size:14px}.country-sidebar[_ngcontent-%COMP%], .saudi-sidebar[_ngcontent-%COMP%]{width:36px}.country-icon[_ngcontent-%COMP%]{width:16px;height:16px;margin-bottom:2px}.country-code[_ngcontent-%COMP%], .kuwait-text[_ngcontent-%COMP%]{font-size:10px}.card-content[_ngcontent-%COMP%]{height:calc(100% - 160px);padding:24px;gap:20px}.plate-title[_ngcontent-%COMP%]{font-size:18px;line-height:24px}.plate-country[_ngcontent-%COMP%]{font-size:14px}.price-value[_ngcontent-%COMP%]{font-size:24px}.currency[_ngcontent-%COMP%]{font-size:14px}.button[_ngcontent-%COMP%]{font-size:16px;line-height:24px;padding:12px 18px}}.plate-separator[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:1px;height:20px;background:#9ca3af;transform:translate(-50%,-50%)}.plate-separator-left[_ngcontent-%COMP%]{position:absolute;top:50%;left:33.33%;width:1px;height:20px;background:#9ca3af;transform:translate(-50%,-50%)}.plate-separator-right[_ngcontent-%COMP%]{position:absolute;top:50%;left:66.67%;width:1px;height:20px;background:#9ca3af;transform:translate(-50%,-50%)}']})};function Ut(a,e){if(a&1){let t=b();i(0,"div",13)(1,"div",14),_(2,"img",15),r(),i(3,"div",16)(4,"h3",17),l(5),r(),i(6,"p",18),l(7," PRICE "),r(),i(8,"p",19),l(9),r(),i(10,"div",20)(11,"button",21),k(),i(12,"svg",22),_(13,"path",23),r(),l(14," Favorite "),r(),R(),i(15,"button",24),C("click",function(o){let c=m(t).$implicit;return d().viewListing(c.id),u(o.stopPropagation())}),l(16," View "),r()()()()}if(a&2){let t=e.$implicit,n=e.index,o=d();M("opacity",o.shouldReduceOpacity(o.currentSlide+n)?"0.5":"1"),s(2),p("src",t.imageUrl,F)("alt",t.title),s(3),g(" ",t.title," "),s(4),U(" ",t.price," ",t.currency," ")}}function Ft(a,e){if(a&1){let t=b();i(0,"div",25),C("click",function(){let o=m(t).index,c=d();return u(c.goToSlide(o))}),r()}if(a&2){let t=e.index,n=d();M("background",t===n.currentDotIndex?"#F03D24":"#667085")}}function Wt(a,e){if(a&1){let t=b();i(0,"app-login-modal",26),C("close",function(){m(t);let o=d();return u(o.closeLoginModal())}),r()}}var tt=class a{constructor(e,t,n,o){this.platformId=e;this.listingbyService=t;this.router=n;this.authService=o}currentSlide=0;slidesToShow=5;recentProducts=[{id:1,title:"Honda Shadow - Aero 2006",price:54e3,currency:"SAR",imageUrl:"/pictures/hondablur1.png",type:"motorcycle"},{id:2,title:"Honda Shadow - Aero 2006",price:55e3,currency:"SAR",imageUrl:"/pictures/hondablur2.png",type:"motorcycle"},{id:3,title:"Honda Shadow - Aero 2006",price:54e3,currency:"SAR",imageUrl:"/pictures/hondashadow.png",type:"motorcycle"},{id:4,title:"Honda Shadow - Aero 2006",price:54e3,currency:"SAR",imageUrl:"/pictures/hondablur2.png",type:"motorcycle"},{id:5,title:"Honda Shadow - Aero 2006",price:54e3,currency:"SAR",imageUrl:"/pictures/hondablur1.png",type:"motorcycle"},{id:6,title:"Honda Shadow - Aero 2006",price:54e3,currency:"SAR",imageUrl:"/pictures/hondashadow.png",type:"motorcycle"},{id:7,title:"Honda Shadow - Aero 2006",price:54e3,currency:"SAR",imageUrl:"/pictures/hondablur2.png",type:"motorcycle"},{id:8,title:"Honda Shadow - Aero 2006",price:54e3,currency:"SAR",imageUrl:"/pictures/hondablur1.png",type:"motorcycle"},{id:9,title:"Honda Shadow - Aero 2006",price:54e3,currency:"SAR",imageUrl:"/pictures/hondablur2.png",type:"motorcycle"},{id:10,title:"Honda Shadow - Aero 2006",price:54e3,currency:"SAR",imageUrl:"/pictures/hondablur1.png",type:"motorcycle"},{id:11,title:"Honda Shadow - Aero 2006",price:54e3,currency:"SAR",imageUrl:"/pictures/hondablur2.png",type:"motorcycle"},{id:12,title:"Honda Shadow - Aero 2006",price:54e3,currency:"SAR",imageUrl:"/pictures/hondablur1.png",type:"motorcycle"}];slidesToMove=1;totalSlides=this.recentProducts.length;dotsArray=[];showLoginModal=!1;isLoggedIn=!1;sub;get currentSlidePosition(){return this.currentSlide*100/this.slidesToShow}updateSlidesToShow(){y(this.platformId)&&(window.innerWidth<640?(this.slidesToShow=1,this.slidesToMove=1):window.innerWidth<768?(this.slidesToShow=3,this.slidesToMove=1):window.innerWidth<1024?(this.slidesToShow=5,this.slidesToMove=1):(this.slidesToShow=5,this.slidesToMove=1))}shouldReduceOpacity(e){let t=this.currentSlide,n=t+2;return e===t||e===t+1||e===t+3||e===t+4}ngOnInit(){this.sub=this.authService.isLoggedIn$.subscribe(e=>{this.isLoggedIn=e}),y(this.platformId)&&(this.updateSlidesToShow(),this.updateDotsArray(),window.addEventListener("resize",()=>{this.updateSlidesToShow(),this.updateDotsArray(),this.currentSlide>this.totalSlides-this.slidesToShow&&(this.currentSlide=Math.max(0,this.totalSlides-this.slidesToShow))})),this.recentlyadd()}viewListing(e){this.isLoggedIn?this.router.navigate(["/listing",e]):this.openLoginModal()}openLoginModal(){this.showLoginModal=!0}closeLoginModal(){this.showLoginModal=!1}recentlyadd(){this.listingbyService.getRecentlyAdd().subscribe(e=>{let t=e;t&&t.listings&&(this.recentProducts=t.listings.map(n=>{let o=n.images&&n.images.length>0?n.images[0]:"/pictures/moto.png";return{id:n.id,title:n.title,price:parseFloat(n.price),currency:"SAR",imageUrl:o,type:this.getProductType(n.category_id)}}),this.totalSlides=this.recentProducts.length,this.updateDotsArray())})}getProductType(e){switch(e){case 1:return"motorcycle";case 2:return"part";case 3:return"plate";default:return"motorcycle"}}getVisibleProducts(){return this.recentProducts.slice(this.currentSlide,this.currentSlide+this.slidesToShow)}nextSlide(){this.currentSlide<this.totalSlides-this.slidesToShow&&(this.currentSlide+=1)}prevSlide(){this.currentSlide>0&&(this.currentSlide-=1)}goToSlide(e){this.currentSlide=e,this.currentSlide>this.totalSlides-this.slidesToShow&&(this.currentSlide=this.totalSlides-this.slidesToShow)}get currentDotIndex(){return this.currentSlide}updateDotsArray(){let e=this.totalSlides-this.slidesToShow+1;this.dotsArray=Array(e).fill(0).map((t,n)=>n)}static \u0275fac=function(t){return new(t||a)(h(E),h(V),h(A),h(D))};static \u0275cmp=S({type:a,selectors:[["app-recently-added-products"]],decls:17,vars:9,consts:[[1,"products-container"],[2,"width","639px","height","66px","color","#18181B","font-family","Manrope","font-size","52px","font-style","normal","font-weight","700","line-height","66px","text-align","center","margin","0 auto 40px"],[2,"display","flex","flex-direction","column","justify-content","center","align-items","center","gap","50px"],[2,"display","flex","align-items","center","gap","31px","position","relative"],["style","width: 259.2px; height: 392.8px; flex-shrink: 0; background: #FFF; border-radius: 12px; overflow: hidden; box-shadow: 0 1px 3px rgba(0,0,0,0.1); transition: opacity 0.3s ease;",3,"opacity",4,"ngFor","ngForOf"],[2,"display","flex","align-items","center","gap","236px","width","100%","justify-content","center"],[2,"display","flex","padding","8px","justify-content","center","align-items","center","border-radius","50%","background","#F03D24","border","none","cursor","pointer","width","36px","height","36px",3,"click","disabled"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","white","viewBox","0 0 24 24","stroke","currentColor","stroke-width","2"],["stroke-linecap","round","stroke-linejoin","round","d","M15 19l-7-7 7-7"],[2,"display","flex","padding","8px","justify-content","center","align-items","center","gap","12px","border-radius","12px","border","1px solid #D0D5DD","background","#FFF"],["style","width: 8px; height: 8px; border-radius: 50%; cursor: pointer; transition: background-color 0.3s;",3,"background","click",4,"ngFor","ngForOf"],["stroke-linecap","round","stroke-linejoin","round","d","M9 5l7 7-7 7"],[3,"close",4,"ngIf"],[2,"width","259.2px","height","392.8px","flex-shrink","0","background","#FFF","border-radius","12px","overflow","hidden","box-shadow","0 1px 3px rgba(0,0,0,0.1)","transition","opacity 0.3s ease"],[2,"width","259.2px","height","216px","flex-shrink","0","overflow","hidden","background","#F8F9FA"],[2,"width","100%","height","100%","object-fit","cover",3,"src","alt"],[2,"padding","20px 16px","display","flex","flex-direction","column","height","176.8px"],[2,"color","#151518","font-family","Manrope","font-size","14.4px","font-style","normal","font-weight","700","line-height","19.2px","margin","0 0 8px 0"],[2,"color","#71717A","font-family","Manrope","font-size","8.8px","font-style","normal","font-weight","500","line-height","14.4px","letter-spacing","0.8px","text-transform","uppercase","margin","0 0 4px 0"],[2,"color","#18181B","font-family","Manrope","font-size","14.4px","font-style","normal","font-weight","700","line-height","19.2px","margin","0 0 auto 0"],[2,"display","flex","gap","8px","margin-top","16px"],[2,"display","flex","width","98.4px","height","36px","justify-content","center","align-items","center","border","0.8px solid #D4D4D8","background","#FFF","border-radius","6px","cursor","pointer","font-family","Manrope","font-size","10px","color","#666","gap","4px"],["xmlns","http://www.w3.org/2000/svg","width","14","height","14","fill","none","viewBox","0 0 24 24","stroke","currentColor","stroke-width","1.5"],["stroke-linecap","round","stroke-linejoin","round","d","M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"],[2,"display","flex","width","99.2px","height","36px","justify-content","center","align-items","center","background","#032C40","border","none","border-radius","6px","cursor","pointer","font-family","Manrope","font-size","10px","color","#FFF","font-weight","500",3,"click"],[2,"width","8px","height","8px","border-radius","50%","cursor","pointer","transition","background-color 0.3s",3,"click"],[3,"close"]],template:function(t,n){t&1&&(i(0,"section")(1,"div",0)(2,"h2",1),l(3," Recently Added Products "),r(),i(4,"div",2)(5,"div",3),v(6,Ut,17,7,"div",4),r(),i(7,"div",5)(8,"button",6),C("click",function(){return n.prevSlide()}),k(),i(9,"svg",7),_(10,"path",8),r()(),R(),i(11,"div",9),v(12,Ft,1,2,"div",10),r(),i(13,"button",6),C("click",function(){return n.nextSlide()}),k(),i(14,"svg",7),_(15,"path",11),r()()()()()(),v(16,Wt,1,0,"app-login-modal",12)),t&2&&(s(6),p("ngForOf",n.getVisibleProducts()),s(2),M("opacity",n.currentSlide===0?"0.5":"1"),p("disabled",n.currentSlide===0),s(4),p("ngForOf",n.dotsArray),s(),M("opacity",n.currentSlide>=n.totalSlides-n.slidesToShow?"0.5":"1"),p("disabled",n.currentSlide>=n.totalSlides-n.slidesToShow),s(3),p("ngIf",n.showLoginModal))},dependencies:[I,T,L,z],styles:["[_nghost-%COMP%]{display:block;width:100%;max-width:100%;box-sizing:border-box;overflow-x:hidden}section[_ngcontent-%COMP%]{width:100%;max-width:100%;padding:32px 80px 48px;display:flex;flex-direction:column;align-items:center;background:#fff;box-sizing:border-box;overflow-x:hidden}.products-container[_ngcontent-%COMP%]{width:100%;max-width:1440px;margin:0 auto;box-sizing:border-box;overflow-x:hidden}.section-title[_ngcontent-%COMP%]{width:100%;max-width:639px;color:#18181b;font-family:Manrope;font-size:52px;font-style:normal;font-weight:700;line-height:66px;text-align:center;margin:0 auto 40px}.content-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:50px;width:100%}.products-grid[_ngcontent-%COMP%]{display:flex;align-items:center;gap:31px;position:relative;justify-content:center;flex-wrap:nowrap;overflow:hidden;width:100%;max-width:100%}.product-card[_ngcontent-%COMP%]{width:259.2px;height:392.8px;flex-shrink:0;background:#fff;border-radius:12px;overflow:hidden;box-shadow:0 1px 3px #0000001a;transition:opacity .3s ease}.product-image-wrapper[_ngcontent-%COMP%]{width:259.2px;height:216px;flex-shrink:0;overflow:hidden;background:#f8f9fa}.product-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.product-info[_ngcontent-%COMP%]{padding:20px 16px;display:flex;flex-direction:column;height:176.8px}.product-title[_ngcontent-%COMP%]{color:#151518;font-family:Manrope;font-size:14.4px;font-style:normal;font-weight:700;line-height:19.2px;margin:0 0 8px}.price-label[_ngcontent-%COMP%]{color:#71717a;font-family:Manrope;font-size:8.8px;font-style:normal;font-weight:500;line-height:14.4px;letter-spacing:.8px;text-transform:uppercase;margin:0 0 4px}.price-value[_ngcontent-%COMP%]{color:#18181b;font-family:Manrope;font-size:14.4px;font-style:normal;font-weight:700;line-height:19.2px;margin:0 0 auto}.button-group[_ngcontent-%COMP%]{display:flex;gap:8px;margin-top:16px}.favorite-btn[_ngcontent-%COMP%]{display:flex;width:98.4px;height:36px;justify-content:center;align-items:center;border:.8px solid #D4D4D8;background:#fff;border-radius:6px;cursor:pointer;font-family:Manrope;font-size:10px;color:#666;gap:4px;transition:background .2s}.favorite-btn[_ngcontent-%COMP%]:hover{background:#f9fafb}.view-btn[_ngcontent-%COMP%]{display:flex;width:99.2px;height:36px;justify-content:center;align-items:center;background:#032c40;border:none;border-radius:6px;cursor:pointer;font-family:Manrope;font-size:10px;color:#fff;font-weight:500;transition:background .2s}.view-btn[_ngcontent-%COMP%]:hover{background:#04394f}.navigation-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:236px;width:100%;justify-content:center}.nav-button[_ngcontent-%COMP%]{display:flex;padding:8px;justify-content:center;align-items:center;border-radius:50%;background:#f03d24;border:none;cursor:pointer;width:36px;height:36px;transition:opacity .2s,background .2s}.nav-button[_ngcontent-%COMP%]:hover:not(:disabled){background:#d63520}.nav-button[_ngcontent-%COMP%]:disabled{cursor:not-allowed}.dots-container[_ngcontent-%COMP%]{display:flex;padding:8px;justify-content:center;align-items:center;gap:12px;border-radius:12px;border:1px solid #D0D5DD;background:#fff}.dot[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%;cursor:pointer;transition:background-color .3s}@media (max-width: 1206px){section[_ngcontent-%COMP%]{padding:32px 40px 48px}.section-title[_ngcontent-%COMP%]{font-size:42px;line-height:52px}.navigation-wrapper[_ngcontent-%COMP%]{gap:150px}}@media (max-width: 1024px){section[_ngcontent-%COMP%]{padding:32px 20px 48px}.section-title[_ngcontent-%COMP%]{font-size:36px;line-height:46px;max-width:500px}.products-grid[_ngcontent-%COMP%]{gap:20px}.product-card[_ngcontent-%COMP%]{width:220px;height:auto}.product-image-wrapper[_ngcontent-%COMP%]{width:220px;height:180px}.navigation-wrapper[_ngcontent-%COMP%]{gap:100px}}@media (min-width: 1024px) and (max-width: 1189px){section[_ngcontent-%COMP%]{padding:32px 20px 48px}.products-grid[_ngcontent-%COMP%]{gap:16px;max-width:100%;overflow-x:hidden}.product-card[_ngcontent-%COMP%]{width:240px}.product-image-wrapper[_ngcontent-%COMP%]{width:240px;height:200px}.navigation-wrapper[_ngcontent-%COMP%]{gap:120px}}@media (max-width: 768px){.section-title[_ngcontent-%COMP%]{font-size:28px;line-height:36px;max-width:100%}.products-grid[_ngcontent-%COMP%]{flex-direction:column;gap:16px}.product-card[_ngcontent-%COMP%]{width:100%;max-width:320px}.product-image-wrapper[_ngcontent-%COMP%]{width:100%;height:200px}.navigation-wrapper[_ngcontent-%COMP%]{gap:40px}}"]})};var ft=class a{static \u0275fac=function(t){return new(t||a)};static \u0275cmp=S({type:a,selectors:[["app-home-page"]],decls:6,vars:0,consts:[[1,"home-page-wrapper"],[1,"home-page-container"]],template:function(t,n){t&1&&(i(0,"div",0)(1,"div",1),_(2,"app-used-moto-cycles-section")(3,"app-used-spare-parts-section")(4,"app-plates-section"),r(),_(5,"app-recently-added-products"),r())},dependencies:[Y,J,Q,I,tt],styles:[".home-page-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;max-width:1440px;overflow-x:hidden;box-sizing:border-box;padding:0 16px}"]})};export{ft as HomePageComponent};
