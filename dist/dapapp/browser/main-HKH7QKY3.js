import{a as id,b as hr,d as zn,e as rd}from"./chunk-DFOBYWZV.js";import{a as sd}from"./chunk-QE5GOPUX.js";import{a as Zs,b as Xs,c as cr,d as dr,e as F,f as je,g as ed,h as eo,i as td,j as Un,l as to,m as no,o as io,q as nn,r as ur,s as li,t as ci,u as Nt}from"./chunk-DGYB52SU.js";import{A as jc,B as qc,C as or,D as Ln,E as Kc,F as Qs,G as Gc,H as Mn,I as Yc,K as Jc,N as Fn,O as We,P as ar,Q as Le,R as Pe,S as ai,T as lr,U as Qc,V as Zc,W as Vn,X as Xc,Y as nd,a as oi,b as Gs,c as Nc,d as xc,e as Lc,f as Mc,g as Fc,i as Rt,k as Ys,l as Vc,m as $e,n as Be,o as Uc,p as zc,q as Xt,r as Hc,s as Dt,t as $c,u as en,v as Js,w as tn,x as Bc,y as Wc}from"./chunk-VMJQLUV7.js";import{a as Hn,b as st}from"./chunk-TBUEVTFH.js";import{a as pc,b as fc,d as nr,e as mc,f as gc,g as _c,j as yc,k as Dn,l as Nn,n as vc,o as ir}from"./chunk-IS6NNSJG.js";import{a as Ic,b as rr,c as ge,d as sr,e as bc,h as Ec,i as wc,m as Tc,o as Sc,p as Cc,q as Ac,r as kc,u as Oc,v as Pc,x as Rc,y as xn,z as Dc}from"./chunk-UQXO3AAA.js";import{$ as Ji,$a as le,$b as dc,Aa as nt,Ab as Ot,Ac as Qt,Bc as Zt,Cb as Ue,Db as Ie,Ea as At,Eb as J,Ec as be,F as Ws,Fa as js,Fb as Q,Gb as ze,Hb as I,Hc as Te,Ia as ic,Ib as Pt,Jb as me,Kb as lc,Na as _,Nb as ii,Ob as ri,Pa as rc,Pb as si,Qa as sc,Qb as xe,Rb as kn,Sa as $,Sb as ee,T as Ql,Tb as rt,Ua as oc,Ub as On,W as U,Wb as cc,X as Zl,Xa as q,Y as te,Ya as it,Z as tt,Za as ac,_b as ke,a as L,ab as E,ac as uc,b as we,ba as Ne,c as ti,ca as X,cc as qs,d as St,da as Jt,e as d,ea as Qi,fa as Xl,fc as W,gb as Y,gc as He,h as ni,ha as ec,hb as y,ia as Zi,ib as er,ic as Pn,ja as tc,jb as An,jc as Ks,ka as Sn,kb as tr,la as S,lb as fe,lc as hc,m as Yl,ma as C,mb as ne,n as Jl,na as Ct,oa as nc,p as Yi,pa as ie,q as Hs,qb as f,r as $s,ra as Cn,rb as h,sb as M,tb as re,u as Bs,ua as Xi,ub as se,uc as ft,va as j,vb as oe,vc as Rn,wa as ue,wb as B,wc as Oe,xb as w,yb as m,zb as kt}from"./chunk-LYZWVPAS.js";var Zp=["*"],Xp=({dt:n})=>`
.p-iconfield {
    position: relative;
    display: block;
}

.p-inputicon {
    position: absolute;
    top: 50%;
    margin-top: calc(-1 * (${n("icon.size")} / 2));
    color: ${n("iconfield.icon.color")};
    line-height: 1;
}

.p-iconfield .p-inputicon:first-child {
    inset-inline-start: ${n("form.field.padding.x")};
}

.p-iconfield .p-inputicon:last-child {
    inset-inline-end: ${n("form.field.padding.x")};
}

.p-iconfield .p-inputtext:not(:first-child) {
    padding-inline-start: calc((${n("form.field.padding.x")} * 2) + ${n("icon.size")});
}

.p-iconfield .p-inputtext:not(:last-child) {
    padding-inline-end: calc((${n("form.field.padding.x")} * 2) + ${n("icon.size")});
}

.p-iconfield:has(.p-inputfield-sm) .p-inputicon {
    font-size: ${n("form.field.sm.font.size")};
    width: ${n("form.field.sm.font.size")};
    height: ${n("form.field.sm.font.size")};
    margin-top: calc(-1 * (${n("form.field.sm.font.size")} / 2));
}

.p-iconfield:has(.p-inputfield-lg) .p-inputicon {
    font-size: ${n("form.field.lg.font.size")};
    width: ${n("form.field.lg.font.size")};
    height: ${n("form.field.lg.font.size")};
    margin-top: calc(-1 * (${n("form.field.lg.font.size")} / 2));
}
`,ef={root:"p-iconfield"},od=(()=>{class n extends Le{name="iconfield";theme=Xp;classes=ef;static \u0275fac=(()=>{let e;return function(r){return(e||(e=ie(n)))(r||n)}})();static \u0275prov=te({token:n,factory:n.\u0275fac})}return n})();var ro=(()=>{class n extends Pe{iconPosition="left";get _styleClass(){return this.styleClass}styleClass;_componentStyle=X(od);static \u0275fac=(()=>{let e;return function(r){return(e||(e=ie(n)))(r||n)}})();static \u0275cmp=q({type:n,selectors:[["p-iconfield"],["p-iconField"],["p-icon-field"]],hostAttrs:[1,"p-iconfield"],hostVars:6,hostBindings:function(i,r){i&2&&(fe(r._styleClass),An("p-iconfield-left",r.iconPosition==="left")("p-iconfield-right",r.iconPosition==="right"))},inputs:{iconPosition:"iconPosition",styleClass:"styleClass"},features:[xe([od]),le],ngContentSelectors:Zp,decls:1,vars:0,template:function(i,r){i&1&&(kt(),Ot(0))},dependencies:[be],encapsulation:2,changeDetection:0})}return n})();var so=(()=>{class n extends Vn{static \u0275fac=(()=>{let e;return function(r){return(e||(e=ie(n)))(r||n)}})();static \u0275cmp=q({type:n,selectors:[["BlankIcon"]],features:[le],decls:2,vars:0,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["width","1","height","1","fill","currentColor","fill-opacity","0"]],template:function(i,r){i&1&&(Ct(),f(0,"svg",0),M(1,"rect",1),h())},encapsulation:2})}return n})();var oo=(()=>{class n extends Vn{static \u0275fac=(()=>{let e;return function(r){return(e||(e=ie(n)))(r||n)}})();static \u0275cmp=q({type:n,selectors:[["ChevronDownIcon"]],features:[le],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z","fill","currentColor"]],template:function(i,r){i&1&&(Ct(),f(0,"svg",0),M(1,"path",1),h()),i&2&&(fe(r.getClassNames()),Y("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var ao=(()=>{class n extends Vn{pathId;ngOnInit(){this.pathId="url(#"+Mn()+")"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ie(n)))(r||n)}})();static \u0275cmp=q({type:n,selectors:[["SearchIcon"]],features:[le],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Ct(),f(0,"svg",0)(1,"g"),M(2,"path",1),h(),f(3,"defs")(4,"clipPath",2),M(5,"rect",3),h()()()),i&2&&(fe(r.getClassNames()),Y("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),_(),Y("clip-path",r.pathId),_(3),y("id",r.pathId))},encapsulation:2})}return n})();var tf=["*"],nf={root:"p-inputicon"},ad=(()=>{class n extends Le{name="inputicon";classes=nf;static \u0275fac=(()=>{let e;return function(r){return(e||(e=ie(n)))(r||n)}})();static \u0275prov=te({token:n,factory:n.\u0275fac})}return n})(),lo=(()=>{class n extends Pe{styleClass;get hostClasses(){return this.styleClass}_componentStyle=X(ad);static \u0275fac=(()=>{let e;return function(r){return(e||(e=ie(n)))(r||n)}})();static \u0275cmp=q({type:n,selectors:[["p-inputicon"],["p-inputIcon"]],hostVars:4,hostBindings:function(i,r){i&2&&(fe(r.hostClasses),An("p-inputicon",!0))},inputs:{styleClass:"styleClass"},features:[xe([ad]),le],ngContentSelectors:tf,decls:1,vars:0,template:function(i,r){i&1&&(kt(),Ot(0))},dependencies:[be,We],encapsulation:2,changeDetection:0})}return n})();var ld=["content"],sf=["overlay"],of=["*"],af=(n,t,e,i,r,s,o,a,l,c,u,p,g,v)=>({"p-overlay p-component":!0,"p-overlay-modal p-overlay-mask p-overlay-mask-enter":n,"p-overlay-center":t,"p-overlay-top":e,"p-overlay-top-start":i,"p-overlay-top-end":r,"p-overlay-bottom":s,"p-overlay-bottom-start":o,"p-overlay-bottom-end":a,"p-overlay-left":l,"p-overlay-left-start":c,"p-overlay-left-end":u,"p-overlay-right":p,"p-overlay-right-start":g,"p-overlay-right-end":v}),lf=(n,t,e)=>({showTransitionParams:n,hideTransitionParams:t,transform:e}),cf=n=>({value:"visible",params:n}),df=n=>({mode:n}),uf=n=>({$implicit:n});function hf(n,t){n&1&&oe(0)}function pf(n,t){if(n&1){let e=B();f(0,"div",3,1),w("click",function(r){S(e);let s=m(2);return C(s.onOverlayContentClick(r))})("@overlayContentAnimation.start",function(r){S(e);let s=m(2);return C(s.onOverlayContentAnimationStart(r))})("@overlayContentAnimation.done",function(r){S(e);let s=m(2);return C(s.onOverlayContentAnimationDone(r))}),Ot(2),E(3,hf,1,0,"ng-container",4),h()}if(n&2){let e=m(2);fe(e.contentStyleClass),y("ngStyle",e.contentStyle)("ngClass","p-overlay-content")("@overlayContentAnimation",ee(11,cf,On(7,lf,e.showTransitionOptions,e.hideTransitionOptions,e.transformOptions[e.modal?e.overlayResponsiveDirection:"default"]))),_(3),y("ngTemplateOutlet",e.contentTemplate||e._contentTemplate)("ngTemplateOutletContext",ee(15,uf,ee(13,df,e.overlayMode)))}}function ff(n,t){if(n&1){let e=B();f(0,"div",3,0),w("click",function(){S(e);let r=m();return C(r.onOverlayClick())}),E(2,pf,4,17,"div",2),h()}if(n&2){let e=m();fe(e.styleClass),y("ngStyle",e.style)("ngClass",cc(5,af,[e.modal,e.modal&&e.overlayResponsiveDirection==="center",e.modal&&e.overlayResponsiveDirection==="top",e.modal&&e.overlayResponsiveDirection==="top-start",e.modal&&e.overlayResponsiveDirection==="top-end",e.modal&&e.overlayResponsiveDirection==="bottom",e.modal&&e.overlayResponsiveDirection==="bottom-start",e.modal&&e.overlayResponsiveDirection==="bottom-end",e.modal&&e.overlayResponsiveDirection==="left",e.modal&&e.overlayResponsiveDirection==="left-start",e.modal&&e.overlayResponsiveDirection==="left-end",e.modal&&e.overlayResponsiveDirection==="right",e.modal&&e.overlayResponsiveDirection==="right-start",e.modal&&e.overlayResponsiveDirection==="right-end"])),_(2),y("ngIf",e.visible)}}var mf=({dt:n})=>`
.p-overlay {
    position: absolute;
    top: 0;
    inset-inline-start: 0;
}

.p-overlay-modal {
    display: flex;
    align-items: center;
    justify-content: center;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.p-overlay-content {
    transform-origin: inherit;
}

.p-overlay-modal > .p-overlay-content {
    z-index: 1;
    width: 90%;
}

/* Position */
/* top */
.p-overlay-top {
    align-items: flex-start;
}
.p-overlay-top-start {
    align-items: flex-start;
    justify-content: flex-start;
}
.p-overlay-top-end {
    align-items: flex-start;
    justify-content: flex-end;
}

/* bottom */
.p-overlay-bottom {
    align-items: flex-end;
}
.p-overlay-bottom-start {
    align-items: flex-end;
    justify-content: flex-start;
}
.p-overlay-bottom-end {
    align-items: flex-end;
    justify-content: flex-end;
}

/* left */
.p-overlay-left {
    justify-content: flex-start;
}
.p-overlay-left-start {
    justify-content: flex-start;
    align-items: flex-start;
}
.p-overlay-left-end {
    justify-content: flex-start;
    align-items: flex-end;
}

/* right */
.p-overlay-right {
    justify-content: flex-end;
}
.p-overlay-right-start {
    justify-content: flex-end;
    align-items: flex-start;
}
.p-overlay-right-end {
    justify-content: flex-end;
    align-items: flex-end;
}
`,cd=(()=>{class n extends Le{name="overlay";theme=mf;static \u0275fac=(()=>{let e;return function(r){return(e||(e=ie(n)))(r||n)}})();static \u0275prov=te({token:n,factory:n.\u0275fac})}return n})(),gf=no([Un({transform:"{{transform}}",opacity:0}),eo("{{showTransitionParams}}")]),_f=no([eo("{{hideTransitionParams}}",Un({transform:"{{transform}}",opacity:0}))]),co=(()=>{class n extends Pe{overlayService;zone;get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.modalVisible&&(this.modalVisible=!0)}get mode(){return this._mode||this.overlayOptions?.mode}set mode(e){this._mode=e}get style(){return ci.merge(this._style,this.modal?this.overlayResponsiveOptions?.style:this.overlayOptions?.style)}set style(e){this._style=e}get styleClass(){return ci.merge(this._styleClass,this.modal?this.overlayResponsiveOptions?.styleClass:this.overlayOptions?.styleClass)}set styleClass(e){this._styleClass=e}get contentStyle(){return ci.merge(this._contentStyle,this.modal?this.overlayResponsiveOptions?.contentStyle:this.overlayOptions?.contentStyle)}set contentStyle(e){this._contentStyle=e}get contentStyleClass(){return ci.merge(this._contentStyleClass,this.modal?this.overlayResponsiveOptions?.contentStyleClass:this.overlayOptions?.contentStyleClass)}set contentStyleClass(e){this._contentStyleClass=e}get target(){let e=this._target||this.overlayOptions?.target;return e===void 0?"@prev":e}set target(e){this._target=e}get appendTo(){return this._appendTo||this.overlayOptions?.appendTo}set appendTo(e){this._appendTo=e}get autoZIndex(){let e=this._autoZIndex||this.overlayOptions?.autoZIndex;return e===void 0?!0:e}set autoZIndex(e){this._autoZIndex=e}get baseZIndex(){let e=this._baseZIndex||this.overlayOptions?.baseZIndex;return e===void 0?0:e}set baseZIndex(e){this._baseZIndex=e}get showTransitionOptions(){let e=this._showTransitionOptions||this.overlayOptions?.showTransitionOptions;return e===void 0?".12s cubic-bezier(0, 0, 0.2, 1)":e}set showTransitionOptions(e){this._showTransitionOptions=e}get hideTransitionOptions(){let e=this._hideTransitionOptions||this.overlayOptions?.hideTransitionOptions;return e===void 0?".1s linear":e}set hideTransitionOptions(e){this._hideTransitionOptions=e}get listener(){return this._listener||this.overlayOptions?.listener}set listener(e){this._listener=e}get responsive(){return this._responsive||this.overlayOptions?.responsive}set responsive(e){this._responsive=e}get options(){return this._options}set options(e){this._options=e}visibleChange=new j;onBeforeShow=new j;onShow=new j;onBeforeHide=new j;onHide=new j;onAnimationStart=new j;onAnimationDone=new j;overlayViewChild;contentViewChild;contentTemplate;templates;_contentTemplate;_visible=!1;_mode;_style;_styleClass;_contentStyle;_contentStyleClass;_target;_appendTo;_autoZIndex;_baseZIndex;_showTransitionOptions;_hideTransitionOptions;_listener;_responsive;_options;modalVisible=!1;isOverlayClicked=!1;isOverlayContentClicked=!1;scrollHandler;documentClickListener;documentResizeListener;_componentStyle=X(cd);documentKeyboardListener;window;transformOptions={default:"scaleY(0.8)",center:"scale(0.7)",top:"translate3d(0px, -100%, 0px)","top-start":"translate3d(0px, -100%, 0px)","top-end":"translate3d(0px, -100%, 0px)",bottom:"translate3d(0px, 100%, 0px)","bottom-start":"translate3d(0px, 100%, 0px)","bottom-end":"translate3d(0px, 100%, 0px)",left:"translate3d(-100%, 0px, 0px)","left-start":"translate3d(-100%, 0px, 0px)","left-end":"translate3d(-100%, 0px, 0px)",right:"translate3d(100%, 0px, 0px)","right-start":"translate3d(100%, 0px, 0px)","right-end":"translate3d(100%, 0px, 0px)"};get modal(){if(Te(this.platformId))return this.mode==="modal"||this.overlayResponsiveOptions&&this.document.defaultView?.matchMedia(this.overlayResponsiveOptions.media?.replace("@media","")||`(max-width: ${this.overlayResponsiveOptions.breakpoint})`).matches}get overlayMode(){return this.mode||(this.modal?"modal":"overlay")}get overlayOptions(){return L(L({},this.config?.overlayOptions),this.options)}get overlayResponsiveOptions(){return L(L({},this.overlayOptions?.responsive),this.responsive)}get overlayResponsiveDirection(){return this.overlayResponsiveOptions?.direction||"center"}get overlayEl(){return this.overlayViewChild?.nativeElement}get contentEl(){return this.contentViewChild?.nativeElement}get targetEl(){return $c(this.target,this.el?.nativeElement)}constructor(e,i){super(),this.overlayService=e,this.zone=i}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this._contentTemplate=e.template;break;default:this._contentTemplate=e.template;break}})}show(e,i=!1){this.onVisibleChange(!0),this.handleEvents("onShow",{overlay:e||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),i&&Be(this.targetEl),this.modal&&Gs(this.document?.body,"p-overflow-hidden")}hide(e,i=!1){if(this.visible)this.onVisibleChange(!1),this.handleEvents("onHide",{overlay:e||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),i&&Be(this.targetEl),this.modal&&Nc(this.document?.body,"p-overflow-hidden");else return}alignOverlay(){!this.modal&&ai.alignOverlay(this.overlayEl,this.targetEl,this.appendTo)}onVisibleChange(e){this._visible=e,this.visibleChange.emit(e)}onOverlayClick(){this.isOverlayClicked=!0}onOverlayContentClick(e){this.overlayService.add({originalEvent:e,target:this.targetEl}),this.isOverlayContentClicked=!0}onOverlayContentAnimationStart(e){switch(e.toState){case"visible":this.handleEvents("onBeforeShow",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.autoZIndex&&Nt.set(this.overlayMode,this.overlayEl,this.baseZIndex+this.config?.zIndex[this.overlayMode]),ai.appendOverlay(this.overlayEl,this.appendTo==="body"?this.document.body:this.appendTo,this.appendTo),this.alignOverlay();break;case"void":this.handleEvents("onBeforeHide",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.modal&&Gs(this.overlayEl,"p-overlay-mask-leave");break}this.handleEvents("onAnimationStart",e)}onOverlayContentAnimationDone(e){let i=this.overlayEl||e.element.parentElement;switch(e.toState){case"visible":this.visible&&(this.show(i,!0),this.bindListeners());break;case"void":if(!this.visible){this.hide(i,!0),this.modalVisible=!1,this.unbindListeners(),ai.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),Nt.clear(i),this.cd.markForCheck();break}}this.handleEvents("onAnimationDone",e)}handleEvents(e,i){this[e].emit(i),this.options&&this.options[e]&&this.options[e](i),this.config?.overlayOptions&&(this.config?.overlayOptions)[e]&&(this.config?.overlayOptions)[e](i)}bindListeners(){this.bindScrollListener(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindDocumentKeyboardListener()}unbindListeners(){this.unbindScrollListener(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindDocumentKeyboardListener()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new lr(this.targetEl,e=>{(this.listener?this.listener(e,{type:"scroll",mode:this.overlayMode,valid:!0}):!0)&&this.hide(e,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.document,"click",e=>{let r=!(this.targetEl&&(this.targetEl.isSameNode(e.target)||!this.isOverlayClicked&&this.targetEl.contains(e.target)))&&!this.isOverlayContentClicked;(this.listener?this.listener(e,{type:"outside",mode:this.overlayMode,valid:e.which!==3&&r}):r)&&this.hide(e),this.isOverlayClicked=this.isOverlayContentClicked=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener||(this.documentResizeListener=this.renderer.listen(this.document.defaultView,"resize",e=>{(this.listener?this.listener(e,{type:"resize",mode:this.overlayMode,valid:!tn()}):!tn())&&this.hide(e,!0)}))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindDocumentKeyboardListener(){this.documentKeyboardListener||this.zone.runOutsideAngular(()=>{this.documentKeyboardListener=this.renderer.listen(this.document.defaultView,"keydown",e=>{if(this.overlayOptions.hideOnEscape===!1||e.code!=="Escape")return;(this.listener?this.listener(e,{type:"keydown",mode:this.overlayMode,valid:!tn()}):!tn())&&this.zone.run(()=>{this.hide(e,!0)})})})}unbindDocumentKeyboardListener(){this.documentKeyboardListener&&(this.documentKeyboardListener(),this.documentKeyboardListener=null)}ngOnDestroy(){this.hide(this.overlayEl,!0),this.overlayEl&&(ai.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),Nt.clear(this.overlayEl)),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.unbindListeners(),super.ngOnDestroy()}static \u0275fac=function(i){return new(i||n)($(Jc),$(ue))};static \u0275cmp=q({type:n,selectors:[["p-overlay"]],contentQueries:function(i,r,s){if(i&1&&(Ue(s,ld,4),Ue(s,Fn,4)),i&2){let o;J(o=Q())&&(r.contentTemplate=o.first),J(o=Q())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&(Ie(sf,5),Ie(ld,5)),i&2){let s;J(s=Q())&&(r.overlayViewChild=s.first),J(s=Q())&&(r.contentViewChild=s.first)}},inputs:{visible:"visible",mode:"mode",style:"style",styleClass:"styleClass",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",target:"target",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",listener:"listener",responsive:"responsive",options:"options"},outputs:{visibleChange:"visibleChange",onBeforeShow:"onBeforeShow",onShow:"onShow",onBeforeHide:"onBeforeHide",onHide:"onHide",onAnimationStart:"onAnimationStart",onAnimationDone:"onAnimationDone"},features:[xe([cd]),le],ngContentSelectors:of,decls:1,vars:1,consts:[["overlay",""],["content",""],[3,"ngStyle","class","ngClass","click",4,"ngIf"],[3,"click","ngStyle","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,r){i&1&&(kt(),E(0,ff,3,20,"div",2)),i&2&&y("ngIf",r.modalVisible)},dependencies:[be,ft,Oe,Zt,Qt,We],encapsulation:2,data:{animation:[ed("overlayContentAnimation",[to(":enter",[io(gf)]),to(":leave",[io(_f)])])]},changeDetection:0})}return n})(),uo=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=it({type:n});static \u0275inj=tt({imports:[co,We,We]})}return n})();var dd=["content"],vf=["item"],If=["loader"],bf=["loadericon"],Ef=["element"],wf=["*"],Tf=(n,t,e)=>({"p-virtualscroller":!0,"p-virtualscroller-inline":n,"p-virtualscroller-both p-both-scroll":t,"p-virtualscroller-horizontal p-horizontal-scroll":e}),ho=(n,t)=>({$implicit:n,options:t}),Sf=n=>({"p-virtualscroller-loading ":n}),Cf=n=>({"p-virtualscroller-loader-mask":n}),Af=n=>({numCols:n}),hd=n=>({options:n}),kf=()=>({styleClass:"p-virtualscroller-loading-icon"}),Of=(n,t)=>({rows:n,columns:t});function Pf(n,t){n&1&&oe(0)}function Rf(n,t){if(n&1&&(re(0),E(1,Pf,1,0,"ng-container",10),se()),n&2){let e=m(2);_(),y("ngTemplateOutlet",e.contentTemplate||e._contentTemplate)("ngTemplateOutletContext",rt(2,ho,e.loadedItems,e.getContentOptions()))}}function Df(n,t){n&1&&oe(0)}function Nf(n,t){if(n&1&&(re(0),E(1,Df,1,0,"ng-container",10),se()),n&2){let e=t.$implicit,i=t.index,r=m(3);_(),y("ngTemplateOutlet",r.itemTemplate||r._itemTemplate)("ngTemplateOutletContext",rt(2,ho,e,r.getOptions(i)))}}function xf(n,t){if(n&1&&(f(0,"div",11,3),E(2,Nf,2,5,"ng-container",12),h()),n&2){let e=m(2);y("ngClass",ee(5,Sf,e.d_loading))("ngStyle",e.contentStyle),Y("data-pc-section","content"),_(2),y("ngForOf",e.loadedItems)("ngForTrackBy",e._trackBy)}}function Lf(n,t){if(n&1&&M(0,"div",13),n&2){let e=m(2);y("ngStyle",e.spacerStyle),Y("data-pc-section","spacer")}}function Mf(n,t){n&1&&oe(0)}function Ff(n,t){if(n&1&&(re(0),E(1,Mf,1,0,"ng-container",10),se()),n&2){let e=t.index,i=m(4);_(),y("ngTemplateOutlet",i.loaderTemplate||i._loaderTemplate)("ngTemplateOutletContext",ee(4,hd,i.getLoaderOptions(e,i.both&&ee(2,Af,i.numItemsInViewport.cols))))}}function Vf(n,t){if(n&1&&(re(0),E(1,Ff,2,6,"ng-container",15),se()),n&2){let e=m(3);_(),y("ngForOf",e.loaderArr)}}function Uf(n,t){n&1&&oe(0)}function zf(n,t){if(n&1&&(re(0),E(1,Uf,1,0,"ng-container",10),se()),n&2){let e=m(4);_(),y("ngTemplateOutlet",e.loaderIconTemplate||e._loaderIconTemplate)("ngTemplateOutletContext",ee(3,hd,kn(2,kf)))}}function Hf(n,t){n&1&&M(0,"SpinnerIcon",16),n&2&&(y("styleClass","p-virtualscroller-loading-icon pi-spin"),Y("data-pc-section","loadingIcon"))}function $f(n,t){if(n&1&&E(0,zf,2,5,"ng-container",6)(1,Hf,1,2,"ng-template",null,5,ke),n&2){let e=ze(2),i=m(3);y("ngIf",i.loaderIconTemplate||i._loaderIconTemplate)("ngIfElse",e)}}function Bf(n,t){if(n&1&&(f(0,"div",14),E(1,Vf,2,1,"ng-container",6)(2,$f,3,2,"ng-template",null,4,ke),h()),n&2){let e=ze(3),i=m(2);y("ngClass",ee(4,Cf,!i.loaderTemplate)),Y("data-pc-section","loader"),_(),y("ngIf",i.loaderTemplate||i._loaderTemplate)("ngIfElse",e)}}function Wf(n,t){if(n&1){let e=B();re(0),f(1,"div",7,1),w("scroll",function(r){S(e);let s=m();return C(s.onContainerScroll(r))}),E(3,Rf,2,5,"ng-container",6)(4,xf,3,7,"ng-template",null,2,ke)(6,Lf,1,2,"div",8)(7,Bf,4,6,"div",9),h(),se()}if(n&2){let e=ze(5),i=m();_(),fe(i._styleClass),y("ngStyle",i._style)("ngClass",On(12,Tf,i.inline,i.both,i.horizontal)),Y("id",i._id)("tabindex",i.tabindex)("data-pc-name","scroller")("data-pc-section","root"),_(2),y("ngIf",i.contentTemplate||i._contentTemplate)("ngIfElse",e),_(3),y("ngIf",i._showSpacer),_(),y("ngIf",!i.loaderDisabled&&i._showLoader&&i.d_loading)}}function jf(n,t){n&1&&oe(0)}function qf(n,t){if(n&1&&(re(0),E(1,jf,1,0,"ng-container",10),se()),n&2){let e=m(2);_(),y("ngTemplateOutlet",e.contentTemplate||e._contentTemplate)("ngTemplateOutletContext",rt(5,ho,e.items,rt(2,Of,e._items,e.loadedColumns)))}}function Kf(n,t){if(n&1&&(Ot(0),E(1,qf,2,8,"ng-container",17)),n&2){let e=m();_(),y("ngIf",e.contentTemplate||e._contentTemplate)}}var Gf=({dt:n})=>`
.p-virtualscroller {
    position: relative;
    overflow: auto;
    contain: strict;
    transform: translateZ(0);
    will-change: scroll-position;
    outline: 0 none;
}

.p-virtualscroller-content {
    position: absolute;
    top: 0;
    left: 0;
    min-height: 100%;
    min-width: 100%;
    will-change: transform;
}

.p-virtualscroller-spacer {
    position: absolute;
    top: 0;
    left: 0;
    height: 1px;
    width: 1px;
    transform-origin: 0 0;
    pointer-events: none;
}

.p-virtualscroller-loader {
    position: sticky;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: ${n("virtualscroller.loader.mask.background")};
    color: ${n("virtualscroller.loader.mask.color")};
}

.p-virtualscroller-loader-mask {
    display: flex;
    align-items: center;
    justify-content: center;
}

.p-virtualscroller-loading-icon {
    font-size: ${n("virtualscroller.loader.icon.size")};
    width: ${n("virtualscroller.loader.icon.size")};
    height: ${n("virtualscroller.loader.icon.size")};
}

.p-virtualscroller-horizontal > .p-virtualscroller-content {
    display: flex;
}

.p-virtualscroller-inline .p-virtualscroller-content {
    position: static;
}
`,ud=(()=>{class n extends Le{name="virtualscroller";theme=Gf;static \u0275fac=(()=>{let e;return function(r){return(e||(e=ie(n)))(r||n)}})();static \u0275prov=te({token:n,factory:n.\u0275fac})}return n})();var po=(()=>{class n extends Pe{zone;get id(){return this._id}set id(e){this._id=e}get style(){return this._style}set style(e){this._style=e}get styleClass(){return this._styleClass}set styleClass(e){this._styleClass=e}get tabindex(){return this._tabindex}set tabindex(e){this._tabindex=e}get items(){return this._items}set items(e){this._items=e}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e}get scrollHeight(){return this._scrollHeight}set scrollHeight(e){this._scrollHeight=e}get scrollWidth(){return this._scrollWidth}set scrollWidth(e){this._scrollWidth=e}get orientation(){return this._orientation}set orientation(e){this._orientation=e}get step(){return this._step}set step(e){this._step=e}get delay(){return this._delay}set delay(e){this._delay=e}get resizeDelay(){return this._resizeDelay}set resizeDelay(e){this._resizeDelay=e}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=e}get inline(){return this._inline}set inline(e){this._inline=e}get lazy(){return this._lazy}set lazy(e){this._lazy=e}get disabled(){return this._disabled}set disabled(e){this._disabled=e}get loaderDisabled(){return this._loaderDisabled}set loaderDisabled(e){this._loaderDisabled=e}get columns(){return this._columns}set columns(e){this._columns=e}get showSpacer(){return this._showSpacer}set showSpacer(e){this._showSpacer=e}get showLoader(){return this._showLoader}set showLoader(e){this._showLoader=e}get numToleratedItems(){return this._numToleratedItems}set numToleratedItems(e){this._numToleratedItems=e}get loading(){return this._loading}set loading(e){this._loading=e}get autoSize(){return this._autoSize}set autoSize(e){this._autoSize=e}get trackBy(){return this._trackBy}set trackBy(e){this._trackBy=e}get options(){return this._options}set options(e){this._options=e,e&&typeof e=="object"&&Object.entries(e).forEach(([i,r])=>this[`_${i}`]!==r&&(this[`_${i}`]=r))}onLazyLoad=new j;onScroll=new j;onScrollIndexChange=new j;elementViewChild;contentViewChild;height;_id;_style;_styleClass;_tabindex=0;_items;_itemSize=0;_scrollHeight;_scrollWidth;_orientation="vertical";_step=0;_delay=0;_resizeDelay=10;_appendOnly=!1;_inline=!1;_lazy=!1;_disabled=!1;_loaderDisabled=!1;_columns;_showSpacer=!0;_showLoader=!1;_numToleratedItems;_loading;_autoSize=!1;_trackBy;_options;d_loading=!1;d_numToleratedItems;contentEl;contentTemplate;itemTemplate;loaderTemplate;loaderIconTemplate;templates;_contentTemplate;_itemTemplate;_loaderTemplate;_loaderIconTemplate;first=0;last=0;page=0;isRangeChanged=!1;numItemsInViewport=0;lastScrollPos=0;lazyLoadState={};loaderArr=[];spacerStyle={};contentStyle={};scrollTimeout;resizeTimeout;initialized=!1;windowResizeListener;defaultWidth;defaultHeight;defaultContentWidth;defaultContentHeight;get vertical(){return this._orientation==="vertical"}get horizontal(){return this._orientation==="horizontal"}get both(){return this._orientation==="both"}get loadedItems(){return this._items&&!this.d_loading?this.both?this._items.slice(this._appendOnly?0:this.first.rows,this.last.rows).map(e=>this._columns?e:e.slice(this._appendOnly?0:this.first.cols,this.last.cols)):this.horizontal&&this._columns?this._items:this._items.slice(this._appendOnly?0:this.first,this.last):[]}get loadedRows(){return this.d_loading?this._loaderDisabled?this.loaderArr:[]:this.loadedItems}get loadedColumns(){return this._columns&&(this.both||this.horizontal)?this.d_loading&&this._loaderDisabled?this.both?this.loaderArr[0]:this.loaderArr:this._columns.slice(this.both?this.first.cols:this.first,this.both?this.last.cols:this.last):this._columns}_componentStyle=X(ud);constructor(e){super(),this.zone=e}ngOnInit(){super.ngOnInit(),this.setInitialState()}ngOnChanges(e){super.ngOnChanges(e);let i=!1;if(this.scrollHeight=="100%"&&(this.height="100%"),e.loading){let{previousValue:r,currentValue:s}=e.loading;this.lazy&&r!==s&&s!==this.d_loading&&(this.d_loading=s,i=!0)}if(e.orientation&&(this.lastScrollPos=this.both?{top:0,left:0}:0),e.numToleratedItems){let{previousValue:r,currentValue:s}=e.numToleratedItems;r!==s&&s!==this.d_numToleratedItems&&(this.d_numToleratedItems=s)}if(e.options){let{previousValue:r,currentValue:s}=e.options;this.lazy&&r?.loading!==s?.loading&&s?.loading!==this.d_loading&&(this.d_loading=s.loading,i=!0),r?.numToleratedItems!==s?.numToleratedItems&&s?.numToleratedItems!==this.d_numToleratedItems&&(this.d_numToleratedItems=s.numToleratedItems)}this.initialized&&!i&&(e.items?.previousValue?.length!==e.items?.currentValue?.length||e.itemSize||e.scrollHeight||e.scrollWidth)&&(this.init(),this.calculateAutoSize())}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this._contentTemplate=e.template;break;case"item":this._itemTemplate=e.template;break;case"loader":this._loaderTemplate=e.template;break;case"loadericon":this._loaderIconTemplate=e.template;break;default:this._itemTemplate=e.template;break}})}ngAfterViewInit(){super.ngAfterViewInit(),Promise.resolve().then(()=>{this.viewInit()})}ngAfterViewChecked(){this.initialized||this.viewInit()}ngOnDestroy(){this.unbindResizeListener(),this.contentEl=null,this.initialized=!1,super.ngOnDestroy()}viewInit(){Te(this.platformId)&&!this.initialized&&Js(this.elementViewChild?.nativeElement)&&(this.setInitialState(),this.setContentEl(this.contentEl),this.init(),this.defaultWidth=en(this.elementViewChild?.nativeElement),this.defaultHeight=Xt(this.elementViewChild?.nativeElement),this.defaultContentWidth=en(this.contentEl),this.defaultContentHeight=Xt(this.contentEl),this.initialized=!0)}init(){this._disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize(),this.bindResizeListener(),this.cd.detectChanges())}setContentEl(e){this.contentEl=e||this.contentViewChild?.nativeElement||$e(this.elementViewChild?.nativeElement,".p-virtualscroller-content")}setInitialState(){this.first=this.both?{rows:0,cols:0}:0,this.last=this.both?{rows:0,cols:0}:0,this.numItemsInViewport=this.both?{rows:0,cols:0}:0,this.lastScrollPos=this.both?{top:0,left:0}:0,this.d_loading=this._loading||!1,this.d_numToleratedItems=this._numToleratedItems,this.loaderArr=[],this.spacerStyle={},this.contentStyle={}}getElementRef(){return this.elementViewChild}getPageByFirst(e){return Math.floor(((e??this.first)+this.d_numToleratedItems*4)/(this._step||1))}isPageChanged(e){return this._step?this.page!==this.getPageByFirst(e??this.first):!0}scrollTo(e){this.elementViewChild?.nativeElement?.scrollTo(e)}scrollToIndex(e,i="auto"){if(this.both?e.every(s=>s>-1):e>-1){let s=this.first,{scrollTop:o=0,scrollLeft:a=0}=this.elementViewChild?.nativeElement,{numToleratedItems:l}=this.calculateNumItems(),c=this.getContentPosition(),u=this.itemSize,p=(O=0,D)=>O<=D?0:O,g=(O,D,V)=>O*D+V,v=(O=0,D=0)=>this.scrollTo({left:O,top:D,behavior:i}),b=this.both?{rows:0,cols:0}:0,A=!1,T=!1;this.both?(b={rows:p(e[0],l[0]),cols:p(e[1],l[1])},v(g(b.cols,u[1],c.left),g(b.rows,u[0],c.top)),T=this.lastScrollPos.top!==o||this.lastScrollPos.left!==a,A=b.rows!==s.rows||b.cols!==s.cols):(b=p(e,l),this.horizontal?v(g(b,u,c.left),o):v(a,g(b,u,c.top)),T=this.lastScrollPos!==(this.horizontal?a:o),A=b!==s),this.isRangeChanged=A,T&&(this.first=b)}}scrollInView(e,i,r="auto"){if(i){let{first:s,viewport:o}=this.getRenderedRange(),a=(u=0,p=0)=>this.scrollTo({left:u,top:p,behavior:r}),l=i==="to-start",c=i==="to-end";if(l){if(this.both)o.first.rows-s.rows>e[0]?a(o.first.cols*this._itemSize[1],(o.first.rows-1)*this._itemSize[0]):o.first.cols-s.cols>e[1]&&a((o.first.cols-1)*this._itemSize[1],o.first.rows*this._itemSize[0]);else if(o.first-s>e){let u=(o.first-1)*this._itemSize;this.horizontal?a(u,0):a(0,u)}}else if(c){if(this.both)o.last.rows-s.rows<=e[0]+1?a(o.first.cols*this._itemSize[1],(o.first.rows+1)*this._itemSize[0]):o.last.cols-s.cols<=e[1]+1&&a((o.first.cols+1)*this._itemSize[1],o.first.rows*this._itemSize[0]);else if(o.last-s<=e+1){let u=(o.first+1)*this._itemSize;this.horizontal?a(u,0):a(0,u)}}}else this.scrollToIndex(e,r)}getRenderedRange(){let e=(s,o)=>o||s?Math.floor(s/(o||s)):0,i=this.first,r=0;if(this.elementViewChild?.nativeElement){let{scrollTop:s,scrollLeft:o}=this.elementViewChild.nativeElement;if(this.both)i={rows:e(s,this._itemSize[0]),cols:e(o,this._itemSize[1])},r={rows:i.rows+this.numItemsInViewport.rows,cols:i.cols+this.numItemsInViewport.cols};else{let a=this.horizontal?o:s;i=e(a,this._itemSize),r=i+this.numItemsInViewport}}return{first:this.first,last:this.last,viewport:{first:i,last:r}}}calculateNumItems(){let e=this.getContentPosition(),i=(this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetWidth-e.left:0)||0,r=(this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetHeight-e.top:0)||0,s=(c,u)=>u||c?Math.ceil(c/(u||c)):0,o=c=>Math.ceil(c/2),a=this.both?{rows:s(r,this._itemSize[0]),cols:s(i,this._itemSize[1])}:s(this.horizontal?i:r,this._itemSize),l=this.d_numToleratedItems||(this.both?[o(a.rows),o(a.cols)]:o(a));return{numItemsInViewport:a,numToleratedItems:l}}calculateOptions(){let{numItemsInViewport:e,numToleratedItems:i}=this.calculateNumItems(),r=(a,l,c,u=!1)=>this.getLast(a+l+(a<c?2:3)*c,u),s=this.first,o=this.both?{rows:r(this.first.rows,e.rows,i[0]),cols:r(this.first.cols,e.cols,i[1],!0)}:r(this.first,e,i);this.last=o,this.numItemsInViewport=e,this.d_numToleratedItems=i,this.showLoader&&(this.loaderArr=this.both?Array.from({length:e.rows}).map(()=>Array.from({length:e.cols})):Array.from({length:e})),this._lazy&&Promise.resolve().then(()=>{this.lazyLoadState={first:this._step?this.both?{rows:0,cols:s.cols}:0:s,last:Math.min(this._step?this._step:this.last,this.items.length)},this.handleEvents("onLazyLoad",this.lazyLoadState)})}calculateAutoSize(){this._autoSize&&!this.d_loading&&Promise.resolve().then(()=>{if(this.contentEl){this.contentEl.style.minHeight=this.contentEl.style.minWidth="auto",this.contentEl.style.position="relative",this.elementViewChild.nativeElement.style.contain="none";let[e,i]=[en(this.contentEl),Xt(this.contentEl)];e!==this.defaultContentWidth&&(this.elementViewChild.nativeElement.style.width=""),i!==this.defaultContentHeight&&(this.elementViewChild.nativeElement.style.height="");let[r,s]=[en(this.elementViewChild.nativeElement),Xt(this.elementViewChild.nativeElement)];(this.both||this.horizontal)&&(this.elementViewChild.nativeElement.style.width=r<this.defaultWidth?r+"px":this._scrollWidth||this.defaultWidth+"px"),(this.both||this.vertical)&&(this.elementViewChild.nativeElement.style.height=s<this.defaultHeight?s+"px":this._scrollHeight||this.defaultHeight+"px"),this.contentEl.style.minHeight=this.contentEl.style.minWidth="",this.contentEl.style.position="",this.elementViewChild.nativeElement.style.contain=""}})}getLast(e=0,i=!1){return this._items?Math.min(i?(this._columns||this._items[0]).length:this._items.length,e):0}getContentPosition(){if(this.contentEl){let e=getComputedStyle(this.contentEl),i=parseFloat(e.paddingLeft)+Math.max(parseFloat(e.left)||0,0),r=parseFloat(e.paddingRight)+Math.max(parseFloat(e.right)||0,0),s=parseFloat(e.paddingTop)+Math.max(parseFloat(e.top)||0,0),o=parseFloat(e.paddingBottom)+Math.max(parseFloat(e.bottom)||0,0);return{left:i,right:r,top:s,bottom:o,x:i+r,y:s+o}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}}setSize(){if(this.elementViewChild?.nativeElement){let e=this.elementViewChild.nativeElement.parentElement.parentElement,i=this._scrollWidth||`${this.elementViewChild.nativeElement.offsetWidth||e.offsetWidth}px`,r=this._scrollHeight||`${this.elementViewChild.nativeElement.offsetHeight||e.offsetHeight}px`,s=(o,a)=>this.elementViewChild.nativeElement.style[o]=a;this.both||this.horizontal?(s("height",r),s("width",i)):s("height",r)}}setSpacerSize(){if(this._items){let e=this.getContentPosition(),i=(r,s,o,a=0)=>this.spacerStyle=we(L({},this.spacerStyle),{[`${r}`]:(s||[]).length*o+a+"px"});this.both?(i("height",this._items,this._itemSize[0],e.y),i("width",this._columns||this._items[1],this._itemSize[1],e.x)):this.horizontal?i("width",this._columns||this._items,this._itemSize,e.x):i("height",this._items,this._itemSize,e.y)}}setContentPosition(e){if(this.contentEl&&!this._appendOnly){let i=e?e.first:this.first,r=(o,a)=>o*a,s=(o=0,a=0)=>this.contentStyle=we(L({},this.contentStyle),{transform:`translate3d(${o}px, ${a}px, 0)`});if(this.both)s(r(i.cols,this._itemSize[1]),r(i.rows,this._itemSize[0]));else{let o=r(i,this._itemSize);this.horizontal?s(o,0):s(0,o)}}}onScrollPositionChange(e){let i=e.target,r=this.getContentPosition(),s=(T,O)=>T?T>O?T-O:T:0,o=(T,O)=>O||T?Math.floor(T/(O||T)):0,a=(T,O,D,V,H,pe)=>T<=H?H:pe?D-V-H:O+H-1,l=(T,O,D,V,H,pe,ae)=>T<=pe?0:Math.max(0,ae?T<O?D:T-pe:T>O?D:T-2*pe),c=(T,O,D,V,H,pe=!1)=>{let ae=O+V+2*H;return T>=H&&(ae+=H+1),this.getLast(ae,pe)},u=s(i.scrollTop,r.top),p=s(i.scrollLeft,r.left),g=this.both?{rows:0,cols:0}:0,v=this.last,b=!1,A=this.lastScrollPos;if(this.both){let T=this.lastScrollPos.top<=u,O=this.lastScrollPos.left<=p;if(!this._appendOnly||this._appendOnly&&(T||O)){let D={rows:o(u,this._itemSize[0]),cols:o(p,this._itemSize[1])},V={rows:a(D.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],T),cols:a(D.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],O)};g={rows:l(D.rows,V.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],T),cols:l(D.cols,V.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],O)},v={rows:c(D.rows,g.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:c(D.cols,g.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},b=g.rows!==this.first.rows||v.rows!==this.last.rows||g.cols!==this.first.cols||v.cols!==this.last.cols||this.isRangeChanged,A={top:u,left:p}}}else{let T=this.horizontal?p:u,O=this.lastScrollPos<=T;if(!this._appendOnly||this._appendOnly&&O){let D=o(T,this._itemSize),V=a(D,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,O);g=l(D,V,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,O),v=c(D,g,this.last,this.numItemsInViewport,this.d_numToleratedItems),b=g!==this.first||v!==this.last||this.isRangeChanged,A=T}}return{first:g,last:v,isRangeChanged:b,scrollPos:A}}onScrollChange(e){let{first:i,last:r,isRangeChanged:s,scrollPos:o}=this.onScrollPositionChange(e);if(s){let a={first:i,last:r};if(this.setContentPosition(a),this.first=i,this.last=r,this.lastScrollPos=o,this.handleEvents("onScrollIndexChange",a),this._lazy&&this.isPageChanged(i)){let l={first:this._step?Math.min(this.getPageByFirst(i)*this._step,this.items.length-this._step):i,last:Math.min(this._step?(this.getPageByFirst(i)+1)*this._step:r,this.items.length)};(this.lazyLoadState.first!==l.first||this.lazyLoadState.last!==l.last)&&this.handleEvents("onLazyLoad",l),this.lazyLoadState=l}}}onContainerScroll(e){if(this.handleEvents("onScroll",{originalEvent:e}),this._delay&&this.isPageChanged()){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),!this.d_loading&&this.showLoader){let{isRangeChanged:i}=this.onScrollPositionChange(e);(i||(this._step?this.isPageChanged():!1))&&(this.d_loading=!0,this.cd.detectChanges())}this.scrollTimeout=setTimeout(()=>{this.onScrollChange(e),this.d_loading&&this.showLoader&&(!this._lazy||this._loading===void 0)&&(this.d_loading=!1,this.page=this.getPageByFirst()),this.cd.detectChanges()},this._delay)}else!this.d_loading&&this.onScrollChange(e)}bindResizeListener(){Te(this.platformId)&&(this.windowResizeListener||this.zone.runOutsideAngular(()=>{let e=this.document.defaultView,i=tn()?"orientationchange":"resize";this.windowResizeListener=this.renderer.listen(e,i,this.onWindowResize.bind(this))}))}unbindResizeListener(){this.windowResizeListener&&(this.windowResizeListener(),this.windowResizeListener=null)}onWindowResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{if(Js(this.elementViewChild?.nativeElement)){let[e,i]=[en(this.elementViewChild?.nativeElement),Xt(this.elementViewChild?.nativeElement)],[r,s]=[e!==this.defaultWidth,i!==this.defaultHeight];(this.both?r||s:this.horizontal?r:this.vertical?s:!1)&&this.zone.run(()=>{this.d_numToleratedItems=this._numToleratedItems,this.defaultWidth=e,this.defaultHeight=i,this.defaultContentWidth=en(this.contentEl),this.defaultContentHeight=Xt(this.contentEl),this.init()})}},this._resizeDelay)}handleEvents(e,i){return this.options&&this.options[e]?this.options[e](i):this[e].emit(i)}getContentOptions(){return{contentStyleClass:`p-virtualscroller-content ${this.d_loading?"p-virtualscroller-loading":""}`,items:this.loadedItems,getItemOptions:e=>this.getOptions(e),loading:this.d_loading,getLoaderOptions:(e,i)=>this.getLoaderOptions(e,i),itemSize:this._itemSize,rows:this.loadedRows,columns:this.loadedColumns,spacerStyle:this.spacerStyle,contentStyle:this.contentStyle,vertical:this.vertical,horizontal:this.horizontal,both:this.both}}getOptions(e){let i=(this._items||[]).length,r=this.both?this.first.rows+e:this.first+e;return{index:r,count:i,first:r===0,last:r===i-1,even:r%2===0,odd:r%2!==0}}getLoaderOptions(e,i){let r=this.loaderArr.length;return L({index:e,count:r,first:e===0,last:e===r-1,even:e%2===0,odd:e%2!==0},i)}static \u0275fac=function(i){return new(i||n)($(ue))};static \u0275cmp=q({type:n,selectors:[["p-scroller"],["p-virtualscroller"],["p-virtual-scroller"],["p-virtualScroller"]],contentQueries:function(i,r,s){if(i&1&&(Ue(s,dd,4),Ue(s,vf,4),Ue(s,If,4),Ue(s,bf,4),Ue(s,Fn,4)),i&2){let o;J(o=Q())&&(r.contentTemplate=o.first),J(o=Q())&&(r.itemTemplate=o.first),J(o=Q())&&(r.loaderTemplate=o.first),J(o=Q())&&(r.loaderIconTemplate=o.first),J(o=Q())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&(Ie(Ef,5),Ie(dd,5)),i&2){let s;J(s=Q())&&(r.elementViewChild=s.first),J(s=Q())&&(r.contentViewChild=s.first)}},hostVars:2,hostBindings:function(i,r){i&2&&er("height",r.height)},inputs:{id:"id",style:"style",styleClass:"styleClass",tabindex:"tabindex",items:"items",itemSize:"itemSize",scrollHeight:"scrollHeight",scrollWidth:"scrollWidth",orientation:"orientation",step:"step",delay:"delay",resizeDelay:"resizeDelay",appendOnly:"appendOnly",inline:"inline",lazy:"lazy",disabled:"disabled",loaderDisabled:"loaderDisabled",columns:"columns",showSpacer:"showSpacer",showLoader:"showLoader",numToleratedItems:"numToleratedItems",loading:"loading",autoSize:"autoSize",trackBy:"trackBy",options:"options"},outputs:{onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange"},features:[xe([ud]),le,Sn],ngContentSelectors:wf,decls:3,vars:2,consts:[["disabledContainer",""],["element",""],["buildInContent",""],["content",""],["buildInLoader",""],["buildInLoaderIcon",""],[4,"ngIf","ngIfElse"],[3,"scroll","ngStyle","ngClass"],["class","p-virtualscroller-spacer",3,"ngStyle",4,"ngIf"],["class","p-virtualscroller-loader",3,"ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-virtualscroller-content",3,"ngClass","ngStyle"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-virtualscroller-spacer",3,"ngStyle"],[1,"p-virtualscroller-loader",3,"ngClass"],[4,"ngFor","ngForOf"],[3,"styleClass"],[4,"ngIf"]],template:function(i,r){if(i&1&&(kt(),E(0,Wf,8,16,"ng-container",6)(1,Kf,2,1,"ng-template",null,0,ke)),i&2){let s=ze(2);y("ngIf",!r._disabled)("ngIfElse",s)}},dependencies:[be,ft,Rn,Oe,Zt,Qt,Xc,We],encapsulation:2})}return n})();var Yf=({dt:n})=>`
.p-tooltip {
    position: absolute;
    display: none;
    max-width: ${n("tooltip.max.width")};
}

.p-tooltip-right,
.p-tooltip-left {
    padding: 0 ${n("tooltip.gutter")};
}

.p-tooltip-top,
.p-tooltip-bottom {
    padding: ${n("tooltip.gutter")} 0;
}

.p-tooltip-text {
    white-space: pre-line;
    word-break: break-word;
    background: ${n("tooltip.background")};
    color: ${n("tooltip.color")};
    padding: ${n("tooltip.padding")};
    box-shadow: ${n("tooltip.shadow")};
    border-radius: ${n("tooltip.border.radius")};
}

.p-tooltip-arrow {
    position: absolute;
    width: 0;
    height: 0;
    border-color: transparent;
    border-style: solid;
    scale: 2;
}

.p-tooltip-right .p-tooltip-arrow {
    top: 50%;
    left: 0;
    margin-top: calc(-1 * ${n("tooltip.gutter")});
    border-width: ${n("tooltip.gutter")} ${n("tooltip.gutter")} ${n("tooltip.gutter")} 0;
    border-right-color: ${n("tooltip.background")};
}

.p-tooltip-left .p-tooltip-arrow {
    top: 50%;
    right: 0;
    margin-top: calc(-1 * ${n("tooltip.gutter")});
    border-width: ${n("tooltip.gutter")} 0 ${n("tooltip.gutter")} ${n("tooltip.gutter")};
    border-left-color: ${n("tooltip.background")};
}

.p-tooltip-top .p-tooltip-arrow {
    bottom: 0;
    left: 50%;
    margin-left: calc(-1 * ${n("tooltip.gutter")});
    border-width: ${n("tooltip.gutter")} ${n("tooltip.gutter")} 0 ${n("tooltip.gutter")};
    border-top-color: ${n("tooltip.background")};
    border-bottom-color: ${n("tooltip.background")};
}

.p-tooltip-bottom .p-tooltip-arrow {
    top: 0;
    left: 50%;
    margin-left: calc(-1 * ${n("tooltip.gutter")});
    border-width: 0 ${n("tooltip.gutter")} ${n("tooltip.gutter")} ${n("tooltip.gutter")};
    border-top-color: ${n("tooltip.background")};
    border-bottom-color: ${n("tooltip.background")};
}
`,Jf={root:"p-tooltip p-component",arrow:"p-tooltip-arrow",text:"p-tooltip-text"},pd=(()=>{class n extends Le{name="tooltip";theme=Yf;classes=Jf;static \u0275fac=(()=>{let e;return function(r){return(e||(e=ie(n)))(r||n)}})();static \u0275prov=te({token:n,factory:n.\u0275fac})}return n})();var fd=(()=>{class n extends Pe{zone;viewContainer;tooltipPosition;tooltipEvent="hover";appendTo;positionStyle;tooltipStyleClass;tooltipZIndex;escape=!0;showDelay;hideDelay;life;positionTop;positionLeft;autoHide=!0;fitContent=!0;hideOnEscape=!0;content;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this.deactivate()}tooltipOptions;_tooltipOptions={tooltipLabel:null,tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",positionStyle:null,tooltipStyleClass:null,tooltipZIndex:"auto",escape:!0,disabled:null,showDelay:null,hideDelay:null,positionTop:null,positionLeft:null,life:null,autoHide:!0,hideOnEscape:!0,id:Mn("pn_id_")+"_tooltip"};_disabled;container;styleClass;tooltipText;showTimeout;hideTimeout;active;mouseEnterListener;mouseLeaveListener;containerMouseleaveListener;clickListener;focusListener;blurListener;documentEscapeListener;scrollHandler;resizeListener;_componentStyle=X(pd);interactionInProgress=!1;constructor(e,i){super(),this.zone=e,this.viewContainer=i}ngAfterViewInit(){super.ngAfterViewInit(),Te(this.platformId)&&this.zone.runOutsideAngular(()=>{let e=this.getOption("tooltipEvent");if((e==="hover"||e==="both")&&(this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onInputClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("click",this.clickListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener)),e==="focus"||e==="both"){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let i=this.el.nativeElement.querySelector(".p-component");i||(i=this.getTarget(this.el.nativeElement)),i.addEventListener("focus",this.focusListener),i.addEventListener("blur",this.blurListener)}})}ngOnChanges(e){super.ngOnChanges(e),e.tooltipPosition&&this.setOption({tooltipPosition:e.tooltipPosition.currentValue}),e.tooltipEvent&&this.setOption({tooltipEvent:e.tooltipEvent.currentValue}),e.appendTo&&this.setOption({appendTo:e.appendTo.currentValue}),e.positionStyle&&this.setOption({positionStyle:e.positionStyle.currentValue}),e.tooltipStyleClass&&this.setOption({tooltipStyleClass:e.tooltipStyleClass.currentValue}),e.tooltipZIndex&&this.setOption({tooltipZIndex:e.tooltipZIndex.currentValue}),e.escape&&this.setOption({escape:e.escape.currentValue}),e.showDelay&&this.setOption({showDelay:e.showDelay.currentValue}),e.hideDelay&&this.setOption({hideDelay:e.hideDelay.currentValue}),e.life&&this.setOption({life:e.life.currentValue}),e.positionTop&&this.setOption({positionTop:e.positionTop.currentValue}),e.positionLeft&&this.setOption({positionLeft:e.positionLeft.currentValue}),e.disabled&&this.setOption({disabled:e.disabled.currentValue}),e.content&&(this.setOption({tooltipLabel:e.content.currentValue}),this.active&&(e.content.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),e.autoHide&&this.setOption({autoHide:e.autoHide.currentValue}),e.id&&this.setOption({id:e.id.currentValue}),e.tooltipOptions&&(this._tooltipOptions=L(L({},this._tooltipOptions),e.tooltipOptions.currentValue),this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}isAutoHide(){return this.getOption("autoHide")}onMouseEnter(e){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(e){this.isAutoHide()?this.deactivate():!(oi(e.relatedTarget,"p-tooltip")||oi(e.relatedTarget,"p-tooltip-text")||oi(e.relatedTarget,"p-tooltip-arrow"))&&this.deactivate()}onFocus(e){this.activate()}onBlur(e){this.deactivate()}onInputClick(e){this.deactivate()}activate(){if(!this.interactionInProgress){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let e=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},e)}this.getOption("hideOnEscape")&&(this.documentEscapeListener=this.renderer.listen("document","keydown.escape",()=>{this.deactivate(),this.documentEscapeListener()})),this.interactionInProgress=!0}}deactivate(){this.interactionInProgress=!1,this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide(),this.documentEscapeListener&&this.documentEscapeListener()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div"),this.container.setAttribute("id",this.getOption("id")),this.container.setAttribute("role","tooltip");let e=document.createElement("div");e.className="p-tooltip-arrow",this.container.appendChild(e),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),this.getOption("appendTo")==="body"?document.body.appendChild(this.container):this.getOption("appendTo")==="target"?Ys(this.container,this.el.nativeElement):Ys(this.getOption("appendTo"),this.container),this.container.style.display="none",this.fitContent&&(this.container.style.width="fit-content"),this.isAutoHide()?this.container.style.pointerEvents="none":(this.container.style.pointerEvents="unset",this.bindContainerMouseleaveListener())}bindContainerMouseleaveListener(){if(!this.containerMouseleaveListener){let e=this.container??this.container.nativeElement;this.containerMouseleaveListener=this.renderer.listen(e,"mouseleave",i=>{this.deactivate()})}}unbindContainerMouseleaveListener(){this.containerMouseleaveListener&&(this.bindContainerMouseleaveListener(),this.containerMouseleaveListener=null)}show(){if(!this.getOption("tooltipLabel")||this.getOption("disabled"))return;this.create(),this.el.nativeElement.closest("p-dialog")?setTimeout(()=>{this.container&&(this.container.style.display="inline-block"),this.container&&this.align()},100):(this.container.style.display="inline-block",this.align()),Vc(this.container,250),this.getOption("tooltipZIndex")==="auto"?Nt.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener()}hide(){this.getOption("tooltipZIndex")==="auto"&&Nt.clear(this.container),this.remove()}updateText(){let e=this.getOption("tooltipLabel");if(e instanceof rc){let i=this.viewContainer.createEmbeddedView(e);i.detectChanges(),i.rootNodes.forEach(r=>this.tooltipText.appendChild(r))}else this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(e))):this.tooltipText.innerHTML=e}align(){let e=this.getOption("tooltipPosition"),i={top:[this.alignTop,this.alignBottom,this.alignRight,this.alignLeft],bottom:[this.alignBottom,this.alignTop,this.alignRight,this.alignLeft],left:[this.alignLeft,this.alignRight,this.alignTop,this.alignBottom],right:[this.alignRight,this.alignLeft,this.alignTop,this.alignBottom]};for(let[r,s]of i[e].entries())if(r===0)s.call(this);else if(this.isOutOfBounds())s.call(this);else break}getHostOffset(){if(this.getOption("appendTo")==="body"||this.getOption("appendTo")==="target"){let e=this.el.nativeElement.getBoundingClientRect(),i=e.left+Mc(),r=e.top+Fc();return{left:i,top:r}}else return{left:0,top:0}}get activeElement(){return this.el.nativeElement.nodeName.startsWith("P-")?$e(this.el.nativeElement,".p-component"):this.el.nativeElement}alignRight(){this.preAlign("right");let e=this.activeElement,i=Rt(e),r=(Dt(e)-Dt(this.container))/2;this.alignTooltip(i,r)}alignLeft(){this.preAlign("left");let e=Rt(this.container),i=(Dt(this.el.nativeElement)-Dt(this.container))/2;this.alignTooltip(-e,i)}alignTop(){this.preAlign("top");let e=(Rt(this.el.nativeElement)-Rt(this.container))/2,i=Dt(this.container);this.alignTooltip(e,-i)}alignBottom(){this.preAlign("bottom");let e=(Rt(this.el.nativeElement)-Rt(this.container))/2,i=Dt(this.el.nativeElement);this.alignTooltip(e,i)}alignTooltip(e,i){let r=this.getHostOffset(),s=r.left+e,o=r.top+i;this.container.style.left=s+this.getOption("positionLeft")+"px",this.container.style.top=o+this.getOption("positionTop")+"px"}setOption(e){this._tooltipOptions=L(L({},this._tooltipOptions),e)}getOption(e){return this._tooltipOptions[e]}getTarget(e){return oi(e,"p-inputwrapper")?$e(e,"input"):e}preAlign(e){this.container.style.left="-999px",this.container.style.top="-999px";let i="p-tooltip p-component p-tooltip-"+e;this.container.className=this.getOption("tooltipStyleClass")?i+" "+this.getOption("tooltipStyleClass"):i}isOutOfBounds(){let e=this.container.getBoundingClientRect(),i=e.top,r=e.left,s=Rt(this.container),o=Dt(this.container),a=Lc();return r+s>a.width||r<0||i<0||i+o>a.height}onWindowResize(e){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new lr(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){let e=this.getOption("tooltipEvent");if((e==="hover"||e==="both")&&(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)),e==="focus"||e==="both"){let i=this.el.nativeElement.querySelector(".p-component");i||(i=this.getTarget(this.el.nativeElement)),i.removeEventListener("focus",this.focusListener),i.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&(this.getOption("appendTo")==="body"?document.body.removeChild(this.container):this.getOption("appendTo")==="target"?this.el.nativeElement.removeChild(this.container):Bc(this.getOption("appendTo"),this.container)),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.unbindContainerMouseleaveListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),super.ngOnDestroy(),this.container&&Nt.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.documentEscapeListener&&this.documentEscapeListener()}static \u0275fac=function(i){return new(i||n)($(ue),$(oc))};static \u0275dir=ac({type:n,selectors:[["","pTooltip",""]],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:[2,"escape","escape",W],showDelay:[2,"showDelay","showDelay",He],hideDelay:[2,"hideDelay","hideDelay",He],life:[2,"life","life",He],positionTop:[2,"positionTop","positionTop",He],positionLeft:[2,"positionLeft","positionLeft",He],autoHide:[2,"autoHide","autoHide",W],fitContent:[2,"fitContent","fitContent",W],hideOnEscape:[2,"hideOnEscape","hideOnEscape",W],content:[0,"pTooltip","content"],disabled:[0,"tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[xe([pd]),le,Sn]})}return n})(),md=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=it({type:n});static \u0275inj=tt({})}return n})();var ui=n=>({height:n}),Xf=(n,t,e)=>({"p-select-option":!0,"p-select-option-selected":n,"p-disabled":t,"p-focus":e}),fo=n=>({$implicit:n});function em(n,t){n&1&&M(0,"CheckIcon",4),n&2&&y("styleClass","p-select-option-check-icon")}function tm(n,t){n&1&&M(0,"BlankIcon",4),n&2&&y("styleClass","p-select-option-blank-icon")}function nm(n,t){if(n&1&&(re(0),E(1,em,1,1,"CheckIcon",3)(2,tm,1,1,"BlankIcon",3),se()),n&2){let e=m();_(),y("ngIf",e.selected),_(),y("ngIf",!e.selected)}}function im(n,t){if(n&1&&(f(0,"span"),I(1),h()),n&2){let e,i=m();_(),Pt((e=i.label)!==null&&e!==void 0?e:"empty")}}function rm(n,t){n&1&&oe(0)}var sm=["container"],om=["filter"],am=["focusInput"],lm=["editableInput"],cm=["items"],dm=["scroller"],um=["overlay"],hm=["firstHiddenFocusableEl"],pm=["lastHiddenFocusableEl"],fm=()=>({class:"p-select-clear-icon"}),mm=()=>({class:"p-select-dropdown-icon"}),yd=n=>({options:n}),vd=(n,t)=>({$implicit:n,options:t}),gm=()=>({});function _m(n,t){if(n&1&&(re(0),I(1),se()),n&2){let e=m(2);_(),Pt(e.label()==="p-emptylabel"?"\xA0":e.label())}}function ym(n,t){if(n&1&&oe(0,23),n&2){let e=m(2);y("ngTemplateOutlet",e.selectedItemTemplate)("ngTemplateOutletContext",ee(2,fo,e.selectedOption))}}function vm(n,t){if(n&1&&(f(0,"span"),I(1),h()),n&2){let e=m(3);_(),Pt(e.label()==="p-emptylabel"?"\xA0":e.label())}}function Im(n,t){if(n&1&&E(0,vm,2,1,"span",17),n&2){let e=m(2);y("ngIf",!e.selectedOption)}}function bm(n,t){if(n&1){let e=B();f(0,"span",21,3),w("focus",function(r){S(e);let s=m();return C(s.onInputFocus(r))})("blur",function(r){S(e);let s=m();return C(s.onInputBlur(r))})("keydown",function(r){S(e);let s=m();return C(s.onKeyDown(r))}),E(2,_m,2,1,"ng-container",19)(3,ym,1,4,"ng-container",22)(4,Im,1,1,"ng-template",null,4,ke),h()}if(n&2){let e,i=ze(5),r=m();y("ngClass",r.inputClass)("pTooltip",r.tooltip)("tooltipPosition",r.tooltipPosition)("positionStyle",r.tooltipPositionStyle)("tooltipStyleClass",r.tooltipStyleClass)("pAutoFocus",r.autofocus),Y("aria-disabled",r.disabled)("id",r.inputId)("aria-label",r.ariaLabel||(r.label()==="p-emptylabel"?void 0:r.label()))("aria-labelledby",r.ariaLabelledBy)("aria-haspopup","listbox")("aria-expanded",(e=r.overlayVisible)!==null&&e!==void 0?e:!1)("aria-controls",r.overlayVisible?r.id+"_list":null)("tabindex",r.disabled?-1:r.tabindex)("aria-activedescendant",r.focused?r.focusedOptionId:void 0)("aria-required",r.required)("required",r.required),_(2),y("ngIf",!r.selectedItemTemplate)("ngIfElse",i),_(),y("ngIf",r.selectedItemTemplate&&r.selectedOption)}}function Em(n,t){if(n&1){let e=B();f(0,"input",24,5),w("input",function(r){S(e);let s=m();return C(s.onEditableInput(r))})("keydown",function(r){S(e);let s=m();return C(s.onKeyDown(r))})("focus",function(r){S(e);let s=m();return C(s.onInputFocus(r))})("blur",function(r){S(e);let s=m();return C(s.onInputBlur(r))}),h()}if(n&2){let e=m();y("ngClass",e.inputClass)("disabled",e.disabled)("pAutoFocus",e.autofocus),Y("id",e.inputId)("maxlength",e.maxlength)("placeholder",e.modelValue()===void 0||e.modelValue()===null?e.placeholder():void 0)("aria-label",e.ariaLabel||(e.label()==="p-emptylabel"?void 0:e.label()))("aria-activedescendant",e.focused?e.focusedOptionId:void 0)}}function wm(n,t){if(n&1){let e=B();f(0,"TimesIcon",26),w("click",function(r){S(e);let s=m(2);return C(s.clear(r))}),h()}n&2&&Y("data-pc-section","clearicon")}function Tm(n,t){}function Sm(n,t){n&1&&E(0,Tm,0,0,"ng-template")}function Cm(n,t){if(n&1){let e=B();f(0,"span",26),w("click",function(r){S(e);let s=m(2);return C(s.clear(r))}),E(1,Sm,1,0,null,27),h()}if(n&2){let e=m(2);Y("data-pc-section","clearicon"),_(),y("ngTemplateOutlet",e.clearIconTemplate)("ngTemplateOutletContext",kn(3,fm))}}function Am(n,t){if(n&1&&(re(0),E(1,wm,1,1,"TimesIcon",25)(2,Cm,2,4,"span",25),se()),n&2){let e=m();_(),y("ngIf",!e.clearIconTemplate),_(),y("ngIf",e.clearIconTemplate)}}function km(n,t){n&1&&oe(0)}function Om(n,t){if(n&1&&(re(0),E(1,km,1,0,"ng-container",28),se()),n&2){let e=m(2);_(),y("ngTemplateOutlet",e.loadingIconTemplate)}}function Pm(n,t){if(n&1&&M(0,"span",31),n&2){let e=m(3);y("ngClass","p-select-loading-icon pi-spin "+e.loadingIcon)}}function Rm(n,t){n&1&&M(0,"span",32),n&2&&fe("p-select-loading-icon pi pi-spinner pi-spin")}function Dm(n,t){if(n&1&&(re(0),E(1,Pm,1,1,"span",29)(2,Rm,1,2,"span",30),se()),n&2){let e=m(2);_(),y("ngIf",e.loadingIcon),_(),y("ngIf",!e.loadingIcon)}}function Nm(n,t){if(n&1&&(re(0),E(1,Om,2,1,"ng-container",17)(2,Dm,3,2,"ng-container",17),se()),n&2){let e=m();_(),y("ngIf",e.loadingIconTemplate),_(),y("ngIf",!e.loadingIconTemplate)}}function xm(n,t){if(n&1&&M(0,"span",36),n&2){let e=m(3);y("ngClass",e.dropdownIcon)}}function Lm(n,t){n&1&&M(0,"ChevronDownIcon",37),n&2&&y("styleClass","p-select-dropdown-icon")}function Mm(n,t){if(n&1&&(re(0),E(1,xm,1,1,"span",34)(2,Lm,1,1,"ChevronDownIcon",35),se()),n&2){let e=m(2);_(),y("ngIf",e.dropdownIcon),_(),y("ngIf",!e.dropdownIcon)}}function Fm(n,t){}function Vm(n,t){n&1&&E(0,Fm,0,0,"ng-template")}function Um(n,t){if(n&1&&(f(0,"span",38),E(1,Vm,1,0,null,27),h()),n&2){let e=m(2);_(),y("ngTemplateOutlet",e.dropdownIconTemplate)("ngTemplateOutletContext",kn(2,mm))}}function zm(n,t){if(n&1&&E(0,Mm,3,2,"ng-container",17)(1,Um,2,3,"span",33),n&2){let e=m();y("ngIf",!e.dropdownIconTemplate),_(),y("ngIf",e.dropdownIconTemplate)}}function Hm(n,t){n&1&&oe(0)}function $m(n,t){n&1&&oe(0)}function Bm(n,t){if(n&1&&(re(0),E(1,$m,1,0,"ng-container",27),se()),n&2){let e=m(3);_(),y("ngTemplateOutlet",e.filterTemplate)("ngTemplateOutletContext",ee(2,yd,e.filterOptions))}}function Wm(n,t){n&1&&M(0,"SearchIcon")}function jm(n,t){}function qm(n,t){n&1&&E(0,jm,0,0,"ng-template")}function Km(n,t){if(n&1&&(f(0,"span"),E(1,qm,1,0,null,28),h()),n&2){let e=m(4);_(),y("ngTemplateOutlet",e.filterIconTemplate)}}function Gm(n,t){if(n&1){let e=B();f(0,"p-iconfield")(1,"input",45,10),w("input",function(r){S(e);let s=m(3);return C(s.onFilterInputChange(r))})("keydown",function(r){S(e);let s=m(3);return C(s.onFilterKeyDown(r))})("blur",function(r){S(e);let s=m(3);return C(s.onFilterBlur(r))}),h(),f(3,"p-inputicon"),E(4,Wm,1,0,"SearchIcon",17)(5,Km,2,1,"span",17),h()()}if(n&2){let e=m(3);_(),y("value",e._filterValue()||"")("variant",e.variant),Y("placeholder",e.filterPlaceholder)("aria-owns",e.id+"_list")("aria-label",e.ariaFilterLabel)("aria-activedescendant",e.focusedOptionId),_(3),y("ngIf",!e.filterIconTemplate),_(),y("ngIf",e.filterIconTemplate)}}function Ym(n,t){if(n&1){let e=B();f(0,"div",44),w("click",function(r){return S(e),C(r.stopPropagation())}),E(1,Bm,2,4,"ng-container",19)(2,Gm,6,8,"ng-template",null,9,ke),h()}if(n&2){let e=ze(3),i=m(2);_(),y("ngIf",i.filterTemplate)("ngIfElse",e)}}function Jm(n,t){n&1&&oe(0)}function Qm(n,t){if(n&1&&E(0,Jm,1,0,"ng-container",27),n&2){let e=t.$implicit,i=t.options;m(2);let r=ze(9);y("ngTemplateOutlet",r)("ngTemplateOutletContext",rt(2,vd,e,i))}}function Zm(n,t){n&1&&oe(0)}function Xm(n,t){if(n&1&&E(0,Zm,1,0,"ng-container",27),n&2){let e=t.options,i=m(4);y("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",ee(2,yd,e))}}function eg(n,t){n&1&&(re(0),E(1,Xm,1,4,"ng-template",null,12,ke),se())}function tg(n,t){if(n&1){let e=B();f(0,"p-scroller",46,11),w("onLazyLoad",function(r){S(e);let s=m(2);return C(s.onLazyLoad.emit(r))}),E(2,Qm,1,5,"ng-template",null,2,ke)(4,eg,3,0,"ng-container",17),h()}if(n&2){let e=m(2);tr(ee(8,ui,e.scrollHeight)),y("items",e.visibleOptions())("itemSize",e.virtualScrollItemSize||e._itemSize)("autoSize",!0)("lazy",e.lazy)("options",e.virtualScrollOptions),_(4),y("ngIf",e.loaderTemplate)}}function ng(n,t){n&1&&oe(0)}function ig(n,t){if(n&1&&(re(0),E(1,ng,1,0,"ng-container",27),se()),n&2){m();let e=ze(9),i=m();_(),y("ngTemplateOutlet",e)("ngTemplateOutletContext",rt(3,vd,i.visibleOptions(),kn(2,gm)))}}function rg(n,t){if(n&1&&(f(0,"span"),I(1),h()),n&2){let e=m(2).$implicit,i=m(3);_(),Pt(i.getOptionGroupLabel(e.optionGroup))}}function sg(n,t){n&1&&oe(0)}function og(n,t){if(n&1&&(re(0),f(1,"li",50),E(2,rg,2,1,"span",17)(3,sg,1,0,"ng-container",27),h(),se()),n&2){let e=m(),i=e.$implicit,r=e.index,s=m().options,o=m(2);_(),y("ngStyle",ee(5,ui,s.itemSize+"px")),Y("id",o.id+"_"+o.getOptionIndex(r,s)),_(),y("ngIf",!o.groupTemplate),_(),y("ngTemplateOutlet",o.groupTemplate)("ngTemplateOutletContext",ee(7,fo,i.optionGroup))}}function ag(n,t){if(n&1){let e=B();re(0),f(1,"p-dropdownItem",51),w("onClick",function(r){S(e);let s=m().$implicit,o=m(3);return C(o.onOptionSelect(r,s))})("onMouseEnter",function(r){S(e);let s=m().index,o=m().options,a=m(2);return C(a.onOptionMouseEnter(r,a.getOptionIndex(s,o)))}),h(),se()}if(n&2){let e=m(),i=e.$implicit,r=e.index,s=m().options,o=m(2);_(),y("id",o.id+"_"+o.getOptionIndex(r,s))("option",i)("checkmark",o.checkmark)("selected",o.isSelected(i))("label",o.getOptionLabel(i))("disabled",o.isOptionDisabled(i))("template",o.itemTemplate)("focused",o.focusedOptionIndex()===o.getOptionIndex(r,s))("ariaPosInset",o.getAriaPosInset(o.getOptionIndex(r,s)))("ariaSetSize",o.ariaSetSize)}}function lg(n,t){if(n&1&&E(0,og,4,9,"ng-container",17)(1,ag,2,10,"ng-container",17),n&2){let e=t.$implicit,i=m(3);y("ngIf",i.isOptionGroup(e)),_(),y("ngIf",!i.isOptionGroup(e))}}function cg(n,t){if(n&1&&I(0),n&2){let e=m(4);me(" ",e.emptyFilterMessageLabel," ")}}function dg(n,t){n&1&&oe(0,null,14)}function ug(n,t){if(n&1&&E(0,dg,2,0,"ng-container",28),n&2){let e=m(4);y("ngTemplateOutlet",e.emptyFilterTemplate||e.emptyTemplate)}}function hg(n,t){if(n&1&&(f(0,"li",52),E(1,cg,1,1)(2,ug,1,1,"ng-container"),h()),n&2){let e=m().options,i=m(2);y("ngStyle",ee(2,ui,e.itemSize+"px")),_(),ne(!i.emptyFilterTemplate&&!i.emptyTemplate?1:2)}}function pg(n,t){if(n&1&&I(0),n&2){let e=m(4);me(" ",e.emptyMessageLabel," ")}}function fg(n,t){n&1&&oe(0)}function mg(n,t){if(n&1&&E(0,fg,1,0,"ng-container",28),n&2){let e=m(4);y("ngTemplateOutlet",e.emptyTemplate)}}function gg(n,t){if(n&1&&(f(0,"li",52),E(1,pg,1,1)(2,mg,1,1,"ng-container"),h()),n&2){let e=m().options,i=m(2);y("ngStyle",ee(2,ui,e.itemSize+"px")),_(),ne(i.emptyTemplate?2:1)}}function _g(n,t){if(n&1&&(f(0,"ul",47,13),E(2,lg,2,2,"ng-template",48)(3,hg,3,4,"li",49)(4,gg,3,4,"li",49),h()),n&2){let e=t.$implicit,i=t.options,r=m(2);tr(i.contentStyle),y("ngClass",i.contentStyleClass),Y("id",r.id+"_list")("aria-label",r.listLabel),_(2),y("ngForOf",e),_(),y("ngIf",r.filterValue&&r.isEmpty()),_(),y("ngIf",!r.filterValue&&r.isEmpty())}}function yg(n,t){n&1&&oe(0)}function vg(n,t){if(n&1){let e=B();f(0,"div",39)(1,"span",40,6),w("focus",function(r){S(e);let s=m();return C(s.onFirstHiddenFocus(r))}),h(),E(3,Hm,1,0,"ng-container",28)(4,Ym,4,2,"div",41),f(5,"div",42),E(6,tg,5,10,"p-scroller",43)(7,ig,2,6,"ng-container",17)(8,_g,5,8,"ng-template",null,7,ke),h(),E(10,yg,1,0,"ng-container",28),f(11,"span",40,8),w("focus",function(r){S(e);let s=m();return C(s.onLastHiddenFocus(r))}),h()()}if(n&2){let e=m();fe(e.panelStyleClass),y("ngClass","p-select-overlay p-component")("ngStyle",e.panelStyle),_(),Y("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0),_(2),y("ngTemplateOutlet",e.headerTemplate),_(),y("ngIf",e.filter),_(),er("max-height",e.virtualScroll?"auto":e.scrollHeight||"auto"),_(),y("ngIf",e.virtualScroll),_(),y("ngIf",!e.virtualScroll),_(3),y("ngTemplateOutlet",e.footerTemplate),_(),Y("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0)}}var Ig=({dt:n})=>`
.p-select {
    display: inline-flex;
    cursor: pointer;
    position: relative;
    user-select: none;
    background: ${n("select.background")};
    border: 1px solid ${n("select.border.color")};
    transition: background ${n("select.transition.duration")}, color ${n("select.transition.duration")}, border-color ${n("select.transition.duration")},
        outline-color ${n("select.transition.duration")}, box-shadow ${n("select.transition.duration")};
    border-radius: ${n("select.border.radius")};
    outline-color: transparent;
    box-shadow: ${n("select.shadow")};
}

.p-select:not(.p-disabled):hover {
    border-color: ${n("select.hover.border.color")};
}

.p-select:not(.p-disabled).p-focus {
    border-color: ${n("select.focus.border.color")};
    box-shadow: ${n("select.focus.ring.shadow")};
    outline: ${n("select.focus.ring.width")} ${n("select.focus.ring.style")} ${n("select.focus.ring.color")};
    outline-offset: ${n("select.focus.ring.offset")};
}

.p-select.p-variant-filled {
    background: ${n("select.filled.background")};
}

.p-select.p-variant-filled.p-focus {
    background: ${n("select.filled.focus.background")};
}

.p-select.p-disabled {
    opacity: 1;
    background: ${n("select.disabled.background")};
}

.p-select-clear-icon {
    position: absolute;
    top: 50%;
    margin-top: -0.5rem;
    color: ${n("select.clear.icon.color")};
    right: ${n("select.dropdown.width")};
}

.p-select-dropdown {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    background: transparent;
    color: ${n("select.dropdown.color")};
    width: ${n("select.dropdown.width")};
    border-start-end-radius: ${n("select.border.radius")};
    border-end-end-radius: ${n("select.border.radius")};
}

.p-select-label {
    display: block;
    white-space: nowrap;
    overflow: hidden;
    flex: 1 1 auto;
    width: 1%;
    padding: ${n("select.padding.y")} ${n("select.padding.x")};
    text-overflow: ellipsis;
    cursor: pointer;
    color: ${n("select.color")};
    background: transparent;
    border: 0 none;
    outline: 0 none;
}

.p-select-label.p-placeholder {
    color: ${n("select.placeholder.color")};
}

.p-select:has(.p-select-clear-icon) .p-select-label {
    padding-right: calc(1rem + ${n("select.padding.x")});
}

.p-select.p-disabled .p-select-label {
    color: ${n("select.disabled.color")};
}

.p-select-label-empty {
    overflow: hidden;
    opacity: 0;
}

input.p-select-label {
    cursor: default;
}

.p-select .p-select-overlay {
    min-width: 100%;
}

.p-select-overlay {
    position: absolute;
    top: 0;
    left: 0;
    background: ${n("select.overlay.background")};
    color: ${n("select.overlay.color")};
    border: 1px solid ${n("select.overlay.border.color")};
    border-radius: ${n("select.overlay.border.radius")};
    box-shadow: ${n("select.overlay.shadow")};
}

.p-select-header {
    padding: ${n("select.list.header.padding")};
}

.p-select-filter {
    width: 100%;
}

.p-select-list-container {
    overflow: auto;
}

.p-select-option-group {
    cursor: auto;
    margin: 0;
    padding: ${n("select.option.group.padding")};
    background: ${n("select.option.group.background")};
    color: ${n("select.option.group.color")};
    font-weight: ${n("select.option.group.font.weight")};
}

.p-select-list {
    margin: 0;
    padding: 0;
    list-style-type: none;
    padding: ${n("select.list.padding")};
    gap: ${n("select.list.gap")};
    display: flex;
    flex-direction: column;
}

.p-select-option {
    cursor: pointer;
    font-weight: normal;
    white-space: nowrap;
    position: relative;
    overflow: hidden;
    display: flex;
    align-items: center;
    padding: ${n("select.option.padding")};
    border: 0 none;
    color: ${n("select.option.color")};
    background: transparent;
    transition: background ${n("select.transition.duration")}, color ${n("select.transition.duration")}, border-color ${n("select.transition.duration")},
    box-shadow ${n("select.transition.duration")}, outline-color ${n("select.transition.duration")};
    border-radius: ${n("select.option.border.radius")};
}

.p-select-option:not(.p-select-option-selected):not(.p-disabled).p-focus {
    background: ${n("select.option.focus.background")};
    color: ${n("select.option.focus.color")};
}

.p-select-option.p-select-option-selected {
    background: ${n("select.option.selected.background")};
    color: ${n("select.option.selected.color")};
}

.p-select-option.p-select-option-selected.p-focus {
    background: ${n("select.option.selected.focus.background")};
    color: ${n("select.option.selected.focus.color")};
}

.p-select-option-check-icon {
    position: relative;
    margin-inline-start: ${n("select.checkmark.gutter.start")};
    margin-inline-end: ${n("select.checkmark.gutter.end")};
    color: ${n("select.checkmark.color")};
}

.p-select-empty-message {
    padding: ${n("select.empty.message.padding")};
}

.p-select-fluid {
    display: flex;
}

/*For PrimeNG*/

.p-dropdown.ng-invalid.ng-dirty,
.p-select.ng-invalid.ng-dirty {
    outline: 1px solid ${n("select.invalid.border.color")};
    outline-offset: 0;
}

.p-dropdown.ng-invalid.ng-dirty .p-dropdown-label.p-placeholder,
.p-select.ng-invalid.ng-dirty .p-select-label.p-placeholder {
    color: ${n("select.invalid.placeholder.color")};
}
`,bg={root:({instance:n})=>["p-dropdown p-select p-component p-inputwrapper",{"p-disabled":n.disabled,"p-variant-filled":n.variant==="filled"||n.config.inputVariant()==="filled"||n.config.inputStyle()==="filled","p-focus":n.focused,"p-inputwrapper-filled":n.modelValue()!==void 0&&n.modelValue()!==null&&!n.modelValue().length,"p-inputwrapper-focus":n.focused||n.overlayVisible,"p-select-open":n.overlayVisible,"p-select-fluid":n.hasFluid,"p-select-sm p-inputfield-sm":n.size==="small","p-select-lg p-inputfield-lg":n.size==="large"}],label:({instance:n,props:t})=>["p-select-label",{"p-placeholder":!t.editable&&n.label===t.placeholder,"p-select-label-empty":!t.editable&&!n.$slots.value&&(n.label==="p-emptylabel"||n.label.length===0)}],clearIcon:"p-select-clear-icon",dropdown:"p-select-dropdown",loadingicon:"p-select-loading-icon",dropdownIcon:"p-select-dropdown-icon",overlay:"p-select-overlay p-component",header:"p-select-header",pcFilter:"p-select-filter",listContainer:"p-select-list-container",list:"p-select-list",optionGroup:"p-select-option-group",optionGroupLabel:"p-select-option-group-label",option:({instance:n,props:t,state:e,option:i,focusedOption:r})=>["p-select-option",{"p-select-option-selected":n.isSelected(i)&&t.highlightOnSelect,"p-focus":e.focusedOptionIndex===r,"p-disabled":n.isOptionDisabled(i)}],optionLabel:"p-select-option-label",optionCheckIcon:"p-select-option-check-icon",optionBlankIcon:"p-select-option-blank-icon",emptyMessage:"p-select-empty-message"},gd=(()=>{class n extends Le{name="select";theme=Ig;classes=bg;static \u0275fac=(()=>{let e;return function(r){return(e||(e=ie(n)))(r||n)}})();static \u0275prov=te({token:n,factory:n.\u0275fac})}return n})(),_d;_d||(_d={});var Eg={provide:Ic,useExisting:Zl(()=>Tg),multi:!0},wg=(()=>{class n extends Pe{id;option;selected;focused;label;disabled;visible;itemSize;ariaPosInset;ariaSetSize;template;checkmark;onClick=new j;onMouseEnter=new j;onOptionClick(e){this.onClick.emit(e)}onOptionMouseEnter(e){this.onMouseEnter.emit(e)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ie(n)))(r||n)}})();static \u0275cmp=q({type:n,selectors:[["p-dropdownItem"]],inputs:{id:"id",option:"option",selected:[2,"selected","selected",W],focused:[2,"focused","focused",W],label:"label",disabled:[2,"disabled","disabled",W],visible:[2,"visible","visible",W],itemSize:[2,"itemSize","itemSize",He],ariaPosInset:"ariaPosInset",ariaSetSize:"ariaSetSize",template:"template",checkmark:[2,"checkmark","checkmark",W]},outputs:{onClick:"onClick",onMouseEnter:"onMouseEnter"},standalone:!1,features:[le],decls:4,vars:22,consts:[["role","option","pRipple","",3,"click","mouseenter","id","ngStyle","ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"styleClass",4,"ngIf"],[3,"styleClass"]],template:function(i,r){i&1&&(f(0,"li",0),w("click",function(o){return r.onOptionClick(o)})("mouseenter",function(o){return r.onOptionMouseEnter(o)}),E(1,nm,3,2,"ng-container",1)(2,im,2,1,"span",1)(3,rm,1,0,"ng-container",2),h()),i&2&&(y("id",r.id)("ngStyle",ee(14,ui,r.itemSize+"px"))("ngClass",On(16,Xf,r.selected,r.disabled,r.focused)),Y("aria-label",r.label)("aria-setsize",r.ariaSetSize)("aria-posinset",r.ariaPosInset)("aria-selected",r.selected)("data-p-focused",r.focused)("data-p-highlight",r.selected)("data-p-disabled",r.disabled),_(),y("ngIf",r.checkmark),_(),y("ngIf",!r.template),_(),y("ngTemplateOutlet",r.template)("ngTemplateOutletContext",ee(20,fo,r.option)))},dependencies:()=>[ft,Oe,Zt,Qt,nd,so,Zs],encapsulation:2})}return n})(),Tg=(()=>{class n extends Pe{zone;filterService;id;scrollHeight="200px";filter;name;style;panelStyle;styleClass;panelStyleClass;readonly;required;editable;appendTo;tabindex=0;set placeholder(e){this._placeholder.set(e)}get placeholder(){return this._placeholder.asReadonly()}loadingIcon;filterPlaceholder;filterLocale;variant;inputId;dataKey;filterBy;filterFields;autofocus;resetFilterOnHide=!1;checkmark=!1;dropdownIcon;loading=!1;optionLabel;optionValue;optionDisabled;optionGroupLabel="label";optionGroupChildren="items";autoDisplayFirst=!0;group;showClear;emptyFilterMessage="";emptyMessage="";lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;overlayOptions;ariaFilterLabel;ariaLabel;ariaLabelledBy;filterMatchMode="contains";maxlength;tooltip="";tooltipPosition="right";tooltipPositionStyle="absolute";tooltipStyleClass;focusOnHover=!1;selectOnFocus=!1;autoOptionFocus=!0;autofocusFilter=!0;fluid;get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=e,this.cd.destroyed||this.cd.detectChanges()}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e,console.log("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}_itemSize;get autoZIndex(){return this._autoZIndex}set autoZIndex(e){this._autoZIndex=e,console.log("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}_autoZIndex;get baseZIndex(){return this._baseZIndex}set baseZIndex(e){this._baseZIndex=e,console.log("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}_baseZIndex;get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(e){this._showTransitionOptions=e,console.log("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}_showTransitionOptions;get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(e){this._hideTransitionOptions=e,console.log("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}_hideTransitionOptions;get filterValue(){return this._filterValue()}set filterValue(e){setTimeout(()=>{this._filterValue.set(e)})}get options(){return this._options()}set options(e){qc(e,this._options())||this._options.set(e)}onChange=new j;onFilter=new j;onFocus=new j;onBlur=new j;onClick=new j;onShow=new j;onHide=new j;onClear=new j;onLazyLoad=new j;_componentStyle=X(gd);containerViewChild;filterViewChild;focusInputViewChild;editableInputViewChild;itemsViewChild;scroller;overlayViewChild;firstHiddenFocusableElementOnOverlay;lastHiddenFocusableElementOnOverlay;get hostClass(){return this._componentStyle.classes.root({instance:this}).map(i=>typeof i=="string"?i:Object.keys(i).filter(r=>i[r]).join(" ")).join(" ")+" "+this.styleClass}get hostStyle(){return this.style}_disabled;itemsWrapper;itemTemplate;groupTemplate;loaderTemplate;selectedItemTemplate;headerTemplate;filterTemplate;footerTemplate;emptyFilterTemplate;emptyTemplate;dropdownIconTemplate;loadingIconTemplate;clearIconTemplate;filterIconTemplate;filterOptions;_options=nt(null);_placeholder=nt(void 0);modelValue=nt(null);value;onModelChange=()=>{};onModelTouched=()=>{};hover;focused;overlayVisible;optionsChanged;panel;selectedOptionUpdated;_filterValue=nt(null);searchValue;searchTimeout;preventModelTouched;focusedOptionIndex=nt(-1);clicked=nt(!1);get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(ar.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(ar.EMPTY_FILTER_MESSAGE)}get isVisibleClearIcon(){return this.modelValue()!=null&&this.hasSelectedOption()&&this.showClear&&!this.disabled}get listLabel(){return this.config.getTranslation(ar.ARIA).listLabel}get hasFluid(){let i=this.el.nativeElement.closest("p-fluid");return this.fluid||!!i}get inputClass(){let e=this.label();return{"p-select-label":!0,"p-placeholder":this.placeholder()&&e===this.placeholder(),"p-select-label-empty":!this.editable&&!this.selectedItemTemplate&&(e==null||e==="p-emptylabel"||e.length===0)}}get focusedOptionId(){return this.focusedOptionIndex()!==-1?`${this.id}_${this.focusedOptionIndex()}`:null}visibleOptions=Pn(()=>{let e=this.getAllVisibleAndNonVisibleOptions();if(this._filterValue()){let r=!(this.filterBy||this.optionLabel)&&!this.filterFields&&!this.optionValue?this.options.filter(s=>s.label?s.label.toString().toLowerCase().indexOf(this._filterValue().toLowerCase().trim())!==-1:s.toString().toLowerCase().indexOf(this._filterValue().toLowerCase().trim())!==-1):this.filterService.filter(e,this.searchFields(),this._filterValue().trim(),this.filterMatchMode,this.filterLocale);if(this.group){let s=this.options||[],o=[];return s.forEach(a=>{let c=this.getOptionGroupChildren(a).filter(u=>r.includes(u));c.length>0&&o.push(we(L({},a),{[typeof this.optionGroupChildren=="string"?this.optionGroupChildren:"items"]:[...c]}))}),this.flatOptions(o)}return r}return e});label=Pn(()=>{let e=this.getAllVisibleAndNonVisibleOptions(),i=e.findIndex(r=>this.isOptionValueEqualsModelValue(r));return i!==-1?this.getOptionLabel(e[i]):this.placeholder()||"p-emptylabel"});filled=Pn(()=>typeof this.modelValue()=="string"?!!this.modelValue():this.label()!=="p-emptylabel"&&this.modelValue()!==void 0&&this.modelValue()!==null);selectedOption;editableInputValue=Pn(()=>this.getOptionLabel(this.selectedOption)||this.modelValue()||"");constructor(e,i){super(),this.zone=e,this.filterService=i,Ks(()=>{let r=this.modelValue(),s=this.visibleOptions();if(s&&or(s)){let o=this.findSelectedOptionIndex();(o!==-1||r===void 0||typeof r=="string"&&r.length===0||this.isModelValueNotSet()||this.editable)&&(this.selectedOption=s[o])}jc(s)&&(r===void 0||this.isModelValueNotSet())&&or(this.selectedOption)&&(this.selectedOption=null),r!==void 0&&this.editable&&this.updateEditableLabel(),this.cd.markForCheck()})}isModelValueNotSet(){return this.modelValue()===null&&!this.isOptionValueEqualsModelValue(this.selectedOption)}getAllVisibleAndNonVisibleOptions(){return this.group?this.flatOptions(this.options):this.options||[]}ngOnInit(){super.ngOnInit(),console.log("Dropdown component is deprecated as of v18, use Select component instead."),this.id=this.id||Mn("pn_id_"),this.autoUpdateModel(),this.filterBy&&(this.filterOptions={filter:e=>this.onFilterInputChange(e),reset:()=>this.resetFilter()})}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild&&this.overlayViewChild.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){let e=$e(this.overlayViewChild?.overlayViewChild?.nativeElement,"li.p-highlight");e&&Wc(this.itemsWrapper,e),this.selectedOptionUpdated=!1}}templates;ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this.itemTemplate=e.template;break;case"selectedItem":this.selectedItemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"filter":this.filterTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;case"loader":this.loaderTemplate=e.template;break;case"dropdownicon":this.dropdownIconTemplate=e.template;break;case"loadingicon":this.loadingIconTemplate=e.template;break;case"clearicon":this.clearIconTemplate=e.template;break;case"filtericon":this.filterIconTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}flatOptions(e){return(e||[]).reduce((i,r,s)=>{i.push({optionGroup:r,group:!0,index:s});let o=this.getOptionGroupChildren(r);return o&&o.forEach(a=>i.push(a)),i},[])}autoUpdateModel(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption()&&(this.focusedOptionIndex.set(this.findFirstFocusedOptionIndex()),this.onOptionSelect(null,this.visibleOptions()[this.focusedOptionIndex()],!1)),this.autoDisplayFirst&&(this.modelValue()===null||this.modelValue()===void 0)&&!this.placeholder()){let e=this.findFirstOptionIndex();this.onOptionSelect(null,this.visibleOptions()[e],!1,!0)}}onOptionSelect(e,i,r=!0,s=!1){if(!this.isSelected(i)){let o=this.getOptionValue(i);this.updateModel(o,e),this.focusedOptionIndex.set(this.findSelectedOptionIndex()),s===!1&&this.onChange.emit({originalEvent:e,value:o})}r&&this.hide(!0)}onOptionMouseEnter(e,i){this.focusOnHover&&this.changeFocusedOptionIndex(e,i)}updateModel(e,i){this.value=e,this.onModelChange(e),this.modelValue.set(e),this.selectedOptionUpdated=!0}writeValue(e){this.filter&&this.resetFilter(),this.value=e,this.allowModelChange()&&this.onModelChange(e),this.modelValue.set(this.value),this.updateEditableLabel(),this.cd.markForCheck()}allowModelChange(){return this.autoDisplayFirst&&!this.placeholder()&&(this.modelValue()===void 0||this.modelValue()===null)&&!this.editable&&this.options&&this.options.length}isSelected(e){return this.isValidOption(e)&&this.isOptionValueEqualsModelValue(e)}isOptionValueEqualsModelValue(e){return Kc(this.modelValue(),this.getOptionValue(e),this.equalityKey())}ngAfterViewInit(){super.ngAfterViewInit(),this.editable&&this.updateEditableLabel(),this.updatePlaceHolderForFloatingLabel()}updatePlaceHolderForFloatingLabel(){let e=this.el.nativeElement.parentElement,i=e?.classList.contains("p-float-label");if(e&&i&&!this.selectedOption){let r=e.querySelector("label");r&&this._placeholder.set(r.textContent)}}updateEditableLabel(){this.editableInputViewChild&&(this.editableInputViewChild.nativeElement.value=this.getOptionLabel(this.selectedOption)||this.modelValue()||"")}clearEditableLabel(){this.editableInputViewChild&&(this.editableInputViewChild.nativeElement.value="")}getOptionIndex(e,i){return this.virtualScrollerDisabled?e:i&&i.getItemOptions(e).index}getOptionLabel(e){return this.optionLabel!==void 0&&this.optionLabel!==null?Ln(e,this.optionLabel):e&&e.label!==void 0?e.label:e}getOptionValue(e){return this.optionValue&&this.optionValue!==null?Ln(e,this.optionValue):!this.optionLabel&&e&&e.value!==void 0?e.value:e}isOptionDisabled(e){return this.getOptionValue(this.modelValue())===this.getOptionValue(e)||this.getOptionLabel(this.modelValue()===this.getOptionLabel(e))&&e.disabled===!1?!1:this.optionDisabled?Ln(e,this.optionDisabled):e&&e.disabled!==void 0?e.disabled:!1}getOptionGroupLabel(e){return this.optionGroupLabel!==void 0&&this.optionGroupLabel!==null?Ln(e,this.optionGroupLabel):e&&e.label!==void 0?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren!==void 0&&this.optionGroupChildren!==null?Ln(e,this.optionGroupChildren):e.items}getAriaPosInset(e){return(this.optionGroupLabel?e-this.visibleOptions().slice(0,e).filter(i=>this.isOptionGroup(i)).length:e)+1}get ariaSetSize(){return this.visibleOptions().filter(e=>!this.isOptionGroup(e)).length}resetFilter(){this._filterValue.set(null),this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value="")}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onContainerClick(e){this.disabled||this.readonly||this.loading||(this.focusInputViewChild?.nativeElement.focus({preventScroll:!0}),!(e.target.tagName==="INPUT"||e.target.getAttribute("data-pc-section")==="clearicon"||e.target.closest('[data-pc-section="clearicon"]'))&&((!this.overlayViewChild||!this.overlayViewChild.el.nativeElement.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.onClick.emit(e),this.clicked.set(!0),this.cd.detectChanges()))}isEmpty(){return!this._options()||this.visibleOptions()&&this.visibleOptions().length===0}onEditableInput(e){let i=e.target.value;this.searchValue="",!this.searchOptions(e,i)&&this.focusedOptionIndex.set(-1),this.onModelChange(i),this.updateModel(i,e),setTimeout(()=>{this.onChange.emit({originalEvent:e,value:i})},1),!this.overlayVisible&&or(i)&&this.show()}show(e){this.overlayVisible=!0;let i=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex();this.focusedOptionIndex.set(i),e&&Be(this.focusInputViewChild?.nativeElement),this.cd.markForCheck()}onOverlayAnimationStart(e){if(e.toState==="visible"){if(this.itemsWrapper=$e(this.overlayViewChild?.overlayViewChild?.nativeElement,this.virtualScroll?".p-scroller":".p-dropdown-items-wrapper"),this.virtualScroll&&this.scroller?.setContentEl(this.itemsViewChild?.nativeElement),this.options&&this.options.length)if(this.virtualScroll){let i=this.modelValue()?this.focusedOptionIndex():-1;i!==-1&&this.scroller?.scrollToIndex(i)}else{let i=$e(this.itemsWrapper,".p-dropdown-item.p-highlight");i&&i.scrollIntoView({block:"nearest",inline:"nearest"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&!this.editable&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(e)}e.toState==="void"&&(this.itemsWrapper=null,this.onModelTouched(),this.onHide.emit(e))}hide(e){this.overlayVisible=!1,this.focusedOptionIndex.set(-1),this.clicked.set(!1),this.searchValue="",this.overlayOptions?.mode==="modal"&&xc(),this.filter&&this.resetFilterOnHide&&this.resetFilter(),e&&(this.focusInputViewChild&&Be(this.focusInputViewChild?.nativeElement),this.editable&&this.editableInputViewChild&&Be(this.editableInputViewChild?.nativeElement)),this.cd.markForCheck()}onInputFocus(e){if(this.disabled)return;this.focused=!0;let i=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(i),this.overlayVisible&&this.scrollInView(this.focusedOptionIndex()),this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onBlur.emit(e),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}onKeyDown(e,i){if(!(this.disabled||this.readonly||this.loading)){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,this.editable);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,this.editable);break;case"Delete":this.onDeleteKey(e);break;case"Home":this.onHomeKey(e,this.editable);break;case"End":this.onEndKey(e,this.editable);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Space":this.onSpaceKey(e,i);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"Backspace":this.onBackspaceKey(e,this.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!e.metaKey&&Gc(e.key)&&(!this.overlayVisible&&this.show(),!this.editable&&this.searchOptions(e,e.key));break}this.clicked.set(!1)}}onFilterKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e,!0);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break;default:break}}onFilterBlur(e){this.focusedOptionIndex.set(-1)}onArrowDownKey(e){if(!this.overlayVisible)this.show(),this.editable&&this.changeFocusedOptionIndex(e,this.findSelectedOptionIndex());else{let i=this.focusedOptionIndex()!==-1?this.findNextOptionIndex(this.focusedOptionIndex()):this.clicked()?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(e,i)}e.preventDefault(),e.stopPropagation()}changeFocusedOptionIndex(e,i){if(this.focusedOptionIndex()!==i&&(this.focusedOptionIndex.set(i),this.scrollInView(),this.selectOnFocus)){let r=this.visibleOptions()[i];this.onOptionSelect(e,r,!1)}}get virtualScrollerDisabled(){return!this.virtualScroll}scrollInView(e=-1){let i=e!==-1?`${this.id}_${e}`:this.focusedOptionId;if(this.itemsViewChild&&this.itemsViewChild.nativeElement){let r=$e(this.itemsViewChild.nativeElement,`li[id="${i}"]`);r?r.scrollIntoView&&r.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||setTimeout(()=>{this.virtualScroll&&this.scroller?.scrollToIndex(e!==-1?e:this.focusedOptionIndex())},0)}}hasSelectedOption(){return this.modelValue()!==void 0}isValidSelectedOption(e){return this.isValidOption(e)&&this.isSelected(e)}equalityKey(){return this.optionValue?null:this.dataKey}findFirstFocusedOptionIndex(){let e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e}findFirstOptionIndex(){return this.visibleOptions().findIndex(e=>this.isValidOption(e))}findSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e)):-1}findNextOptionIndex(e){let i=e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(r=>this.isValidOption(r)):-1;return i>-1?i+e+1:e}findPrevOptionIndex(e){let i=e>0?Qs(this.visibleOptions().slice(0,e),r=>this.isValidOption(r)):-1;return i>-1?i:e}findLastOptionIndex(){return Qs(this.visibleOptions(),e=>this.isValidOption(e))}findLastFocusedOptionIndex(){let e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e}isValidOption(e){return e!=null&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))}isOptionGroup(e){return this.optionGroupLabel!==void 0&&this.optionGroupLabel!==null&&e.optionGroup!==void 0&&e.optionGroup!==null&&e.group}onArrowUpKey(e,i=!1){if(e.altKey&&!i){if(this.focusedOptionIndex()!==-1){let r=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(e,r)}this.overlayVisible&&this.hide()}else{let r=this.focusedOptionIndex()!==-1?this.findPrevOptionIndex(this.focusedOptionIndex()):this.clicked()?this.findLastOptionIndex():this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(e,r),!this.overlayVisible&&this.show()}e.preventDefault(),e.stopPropagation()}onArrowLeftKey(e,i=!1){i&&this.focusedOptionIndex.set(-1)}onDeleteKey(e){this.showClear&&(this.clear(e),e.preventDefault())}onHomeKey(e,i=!1){if(i){let r=e.currentTarget;e.shiftKey?r.setSelectionRange(0,r.value.length):(r.setSelectionRange(0,0),this.focusedOptionIndex.set(-1))}else this.changeFocusedOptionIndex(e,this.findFirstOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()}onEndKey(e,i=!1){if(i){let r=e.currentTarget;if(e.shiftKey)r.setSelectionRange(0,r.value.length);else{let s=r.value.length;r.setSelectionRange(s,s),this.focusedOptionIndex.set(-1)}}else this.changeFocusedOptionIndex(e,this.findLastOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()}onPageDownKey(e){this.scrollInView(this.visibleOptions().length-1),e.preventDefault()}onPageUpKey(e){this.scrollInView(0),e.preventDefault()}onSpaceKey(e,i=!1){!this.editable&&!i&&this.onEnterKey(e)}onEnterKey(e,i=!1){if(!this.overlayVisible)this.focusedOptionIndex.set(-1),this.onArrowDownKey(e);else{if(this.focusedOptionIndex()!==-1){let r=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(e,r)}!i&&this.hide()}e.preventDefault()}onEscapeKey(e){this.overlayVisible&&this.hide(!0),e.preventDefault()}onTabKey(e,i=!1){if(!i)if(this.overlayVisible&&this.hasFocusableElements())Be(e.shiftKey?this.lastHiddenFocusableElementOnOverlay.nativeElement:this.firstHiddenFocusableElementOnOverlay.nativeElement),e.preventDefault();else{if(this.focusedOptionIndex()!==-1&&this.overlayVisible){let r=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(e,r)}this.overlayVisible&&this.hide(this.filter)}e.stopPropagation()}onFirstHiddenFocus(e){let i=e.relatedTarget===this.focusInputViewChild?.nativeElement?zc(this.overlayViewChild.el?.nativeElement,":not(.p-hidden-focusable)"):this.focusInputViewChild?.nativeElement;Be(i)}onLastHiddenFocus(e){let i=e.relatedTarget===this.focusInputViewChild?.nativeElement?Hc(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInputViewChild?.nativeElement;Be(i)}hasFocusableElements(){return Uc(this.overlayViewChild.overlayViewChild.nativeElement,':not([data-p-hidden-focusable="true"])').length>0}onBackspaceKey(e,i=!1){i&&!this.overlayVisible&&this.show()}searchFields(){return this.filterBy?.split(",")||this.filterFields||[this.optionLabel]}searchOptions(e,i){this.searchValue=(this.searchValue||"")+i;let r=-1,s=!1;return r=this.visibleOptions().findIndex(o=>this.isOptionExactMatched(o)),r===-1&&(r=this.visibleOptions().findIndex(o=>this.isOptionStartsWith(o))),r!==-1&&(s=!0),r===-1&&this.focusedOptionIndex()===-1&&(r=this.findFirstFocusedOptionIndex()),r!==-1&&this.changeFocusedOptionIndex(e,r),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),s}isOptionStartsWith(e){return this.isValidOption(e)&&this.getOptionLabel(e).toString().toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))}isOptionExactMatched(e){return this.isValidOption(e)&&this.getOptionLabel(e).toString().toLocaleLowerCase(this.filterLocale)===this.searchValue.toLocaleLowerCase(this.filterLocale)}onFilterInputChange(e){let i=e.target.value;this._filterValue.set(i),this.focusedOptionIndex.set(-1),this.onFilter.emit({originalEvent:e,filter:this._filterValue()}),!this.virtualScrollerDisabled&&this.scroller.scrollToIndex(0),setTimeout(()=>{this.overlayViewChild.alignOverlay()}),this.cd.markForCheck()}applyFocus(){this.editable?$e(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():Be(this.focusInputViewChild?.nativeElement)}focus(){this.applyFocus()}clear(e){this.updateModel(null,e),this.clearEditableLabel(),this.onModelTouched(),this.onChange.emit({originalEvent:e,value:this.value}),this.onClear.emit(e),this.resetFilter()}static \u0275fac=function(i){return new(i||n)($(ue),$(Yc))};static \u0275cmp=q({type:n,selectors:[["p-dropdown"]],contentQueries:function(i,r,s){if(i&1&&Ue(s,Fn,4),i&2){let o;J(o=Q())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&(Ie(sm,5),Ie(om,5),Ie(am,5),Ie(lm,5),Ie(cm,5),Ie(dm,5),Ie(um,5),Ie(hm,5),Ie(pm,5)),i&2){let s;J(s=Q())&&(r.containerViewChild=s.first),J(s=Q())&&(r.filterViewChild=s.first),J(s=Q())&&(r.focusInputViewChild=s.first),J(s=Q())&&(r.editableInputViewChild=s.first),J(s=Q())&&(r.itemsViewChild=s.first),J(s=Q())&&(r.scroller=s.first),J(s=Q())&&(r.overlayViewChild=s.first),J(s=Q())&&(r.firstHiddenFocusableElementOnOverlay=s.first),J(s=Q())&&(r.lastHiddenFocusableElementOnOverlay=s.first)}},hostVars:5,hostBindings:function(i,r){i&1&&w("click",function(o){return r.onContainerClick(o)}),i&2&&(Y("id",r.id),tr(r.hostStyle),fe(r.hostClass))},inputs:{id:"id",scrollHeight:"scrollHeight",filter:[2,"filter","filter",W],name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:[2,"readonly","readonly",W],required:[2,"required","required",W],editable:[2,"editable","editable",W],appendTo:"appendTo",tabindex:[2,"tabindex","tabindex",He],placeholder:"placeholder",loadingIcon:"loadingIcon",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",variant:"variant",inputId:"inputId",dataKey:"dataKey",filterBy:"filterBy",filterFields:"filterFields",autofocus:[2,"autofocus","autofocus",W],resetFilterOnHide:[2,"resetFilterOnHide","resetFilterOnHide",W],checkmark:[2,"checkmark","checkmark",W],dropdownIcon:"dropdownIcon",loading:[2,"loading","loading",W],optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:[2,"autoDisplayFirst","autoDisplayFirst",W],group:[2,"group","group",W],showClear:[2,"showClear","showClear",W],emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",lazy:[2,"lazy","lazy",W],virtualScroll:[2,"virtualScroll","virtualScroll",W],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",He],virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:[2,"maxlength","maxlength",He],tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",focusOnHover:[2,"focusOnHover","focusOnHover",W],selectOnFocus:[2,"selectOnFocus","selectOnFocus",W],autoOptionFocus:[2,"autoOptionFocus","autoOptionFocus",W],autofocusFilter:[2,"autofocusFilter","autofocusFilter",W],fluid:[2,"fluid","fluid",W],disabled:"disabled",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",filterValue:"filterValue",options:"options"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear",onLazyLoad:"onLazyLoad"},standalone:!1,features:[xe([Eg,gd]),le],decls:11,vars:15,consts:[["elseBlock",""],["overlay",""],["content",""],["focusInput",""],["defaultPlaceholder",""],["editableInput",""],["firstHiddenFocusableEl",""],["buildInItems",""],["lastHiddenFocusableEl",""],["builtInFilterElement",""],["filter",""],["scroller",""],["loader",""],["items",""],["emptyFilter",""],["role","combobox",3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","pAutoFocus","focus","blur","keydown",4,"ngIf"],["type","text","aria-haspopup","listbox",3,"ngClass","disabled","pAutoFocus","input","keydown","focus","blur",4,"ngIf"],[4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-select-dropdown"],[4,"ngIf","ngIfElse"],[3,"visibleChange","onAnimationStart","onHide","visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions"],["role","combobox",3,"focus","blur","keydown","ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","pAutoFocus"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["type","text","aria-haspopup","listbox",3,"input","keydown","focus","blur","ngClass","disabled","pAutoFocus"],["class","p-select-clear-icon",3,"click",4,"ngIf"],[1,"p-select-clear-icon",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngTemplateOutlet"],["aria-hidden","true",3,"ngClass",4,"ngIf"],["aria-hidden","true",3,"class",4,"ngIf"],["aria-hidden","true",3,"ngClass"],["aria-hidden","true"],["class","p-select-dropdown-icon",4,"ngIf"],["class","p-select-dropdown-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-select-dropdown-icon",3,"ngClass"],[3,"styleClass"],[1,"p-select-dropdown-icon"],[3,"ngClass","ngStyle"],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"focus"],["class","p-select-header",3,"click",4,"ngIf"],[1,"p-select-list-container"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],[1,"p-select-header",3,"click"],["pInputText","","type","text","role","searchbox","autocomplete","off",1,"p-select-filter",3,"input","keydown","blur","value","variant"],[3,"onLazyLoad","items","itemSize","autoSize","lazy","options"],["role","listbox",1,"p-select-list",3,"ngClass"],["ngFor","",3,"ngForOf"],["class","p-select-empty-message","role","option",3,"ngStyle",4,"ngIf"],["role","option",1,"p-select-option-group",3,"ngStyle"],[3,"onClick","onMouseEnter","id","option","checkmark","selected","label","disabled","template","focused","ariaPosInset","ariaSetSize"],["role","option",1,"p-select-empty-message",3,"ngStyle"]],template:function(i,r){if(i&1){let s=B();E(0,bm,6,20,"span",15)(1,Em,2,8,"input",16)(2,Am,3,2,"ng-container",17),f(3,"div",18),E(4,Nm,3,2,"ng-container",19)(5,zm,2,2,"ng-template",null,0,ke),h(),f(7,"p-overlay",20,1),si("visibleChange",function(a){return S(s),ri(r.overlayVisible,a)||(r.overlayVisible=a),C(a)}),w("onAnimationStart",function(a){return S(s),C(r.onOverlayAnimationStart(a))})("onHide",function(){return S(s),C(r.hide())}),E(9,vg,13,17,"ng-template",null,2,ke),h()}if(i&2){let s,o=ze(6);y("ngIf",!r.editable),_(),y("ngIf",r.editable),_(),y("ngIf",r.isVisibleClearIcon),_(),Y("aria-expanded",(s=r.overlayVisible)!==null&&s!==void 0?s:!1)("data-pc-section","trigger"),_(),y("ngIf",r.loading)("ngIfElse",o),_(3),ii("visible",r.overlayVisible),y("options",r.overlayOptions)("target","@parent")("appendTo",r.appendTo)("autoZIndex",r.autoZIndex)("baseZIndex",r.baseZIndex)("showTransitionOptions",r.showTransitionOptions)("hideTransitionOptions",r.hideTransitionOptions)}},dependencies:()=>[ft,Rn,Oe,Zt,Qt,co,fd,po,Qc,Xs,oo,ao,cr,ro,lo,wg],encapsulation:2,changeDetection:0})}return n})(),pr=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=it({type:n});static \u0275inj=tt({imports:[be,uo,We,md,po,Zc,Xs,oo,ao,so,Zs,dr,ro,lo,uo,We]})}return n})();var Id=()=>{};var Ed=function(n){let t=[],e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},Sg=function(n){let t=[],e=0,i=0;for(;e<n.length;){let r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){let s=n[e++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){let s=n[e++],o=n[e++],a=n[e++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(l&1023))}else{let s=n[e++],o=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return t.join("")},fr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){let s=n[r],o=r+1<n.length,a=o?n[r+1]:0,l=r+2<n.length,c=l?n[r+2]:0,u=s>>2,p=(s&3)<<4|a>>4,g=(a&15)<<2|c>>6,v=c&63;l||(v=64,o||(g=64)),i.push(e[u],e[p],e[g],e[v])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(Ed(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):Sg(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();let e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){let s=e[n.charAt(r++)],a=r<n.length?e[n.charAt(r)]:0;++r;let c=r<n.length?e[n.charAt(r)]:64;++r;let p=r<n.length?e[n.charAt(r)]:64;if(++r,s==null||a==null||c==null||p==null)throw new go;let g=s<<2|a>>4;if(i.push(g),c!==64){let v=a<<4&240|c>>2;if(i.push(v),p!==64){let b=c<<6&192|p;i.push(b)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},go=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Cg=function(n){let t=Ed(n);return fr.encodeByteArray(t,!0)},yo=function(n){return Cg(n).replace(/\./g,"")},mr=function(n){try{return fr.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function wd(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Ag=()=>wd().__FIREBASE_DEFAULTS__,kg=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Og=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=n&&mr(n[1]);return t&&JSON.parse(t)},Td=()=>{try{return Id()||Ag()||kg()||Og()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}};var vo=()=>{var n;return(n=Td())===null||n===void 0?void 0:n.config},Sd=n=>{var t;return(t=Td())===null||t===void 0?void 0:t[`_${n}`]};var rn=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}};function Io(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function Ge(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Cd(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function Ad(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kd(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Od(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gr(){try{return typeof indexedDB=="object"}catch{return!1}}function Pd(){return new Promise((n,t)=>{try{let e=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var s;t(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(e){t(e)}})}var Pg="FirebaseError",qe=class n extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=Pg,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ke.prototype.create)}},Ke=class{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){let i=e[0]||{},r=`${this.service}/${t}`,s=this.errors[t],o=s?Rg(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new qe(r,a,i)}};function Rg(n,t){return n.replace(Dg,(e,i)=>{let r=t[i];return r!=null?String(r):`<${i}?>`})}var Dg=/\{\$([^}]+)}/g;function hi(n,t){if(n===t)return!0;let e=Object.keys(n),i=Object.keys(t);for(let r of e){if(!i.includes(r))return!1;let s=n[r],o=t[r];if(bd(s)&&bd(o)){if(!hi(s,o))return!1}else if(s!==o)return!1}for(let r of i)if(!e.includes(r))return!1;return!0}function bd(n){return n!==null&&typeof n=="object"}function pi(n){let t=[];for(let[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Rd(n,t){let e=new _o(n,t);return e.subscribe.bind(e)}var _o=class{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");Ng(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=mo),r.error===void 0&&(r.error=mo),r.complete===void 0&&(r.complete=mo);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Ng(n,t){if(typeof n!="object"||n===null)return!1;for(let e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function mo(){}var WS=4*60*60*1e3;function sn(n){return n&&n._delegate?n._delegate:n}var Re=class{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var on="[DEFAULT]";var bo=class{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){let e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){let i=new rn;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;let i=this.normalizeInstanceIdentifier(t?.identifier),r=(e=t?.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Lg(t))try{this.getOrInitializeService({instanceIdentifier:on})}catch{}for(let[e,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(e);try{let s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=on){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){return d(this,null,function*(){let t=Array.from(this.instances.values());yield Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])})}isComponentSet(){return this.component!=null}isInitialized(t=on){return this.instances.has(t)}getOptions(t=on){return this.instancesOptions.get(t)||{}}initialize(t={}){let{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(t,e){var i;let r=this.normalizeInstanceIdentifier(e),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(r,s);let o=this.instances.get(r);return o&&t(o,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){let i=this.onInitCallbacks.get(e);if(i)for(let r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:xg(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=on){return this.component?this.component.multipleInstances?t:on:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function xg(n){return n===on?void 0:n}function Lg(n){return n.instantiationMode==="EAGER"}var _r=class{constructor(t){this.name=t,this.providers=new Map}addComponent(t){let e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);let e=new bo(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}};var Mg=[],K=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(K||{}),Fg={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},Vg=K.INFO,Ug={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},zg=(n,t,...e)=>{if(t<n.logLevel)return;let i=new Date().toISOString(),r=Ug[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},xt=class{constructor(t){this.name=t,this._logLevel=Vg,this._logHandler=zg,this._userLogHandler=null,Mg.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in K))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Fg[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...t),this._logHandler(this,K.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...t),this._logHandler(this,K.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,K.INFO,...t),this._logHandler(this,K.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,K.WARN,...t),this._logHandler(this,K.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...t),this._logHandler(this,K.ERROR,...t)}};var Hg=(n,t)=>t.some(e=>n instanceof e),Dd,Nd;function $g(){return Dd||(Dd=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Bg(){return Nd||(Nd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var xd=new WeakMap,wo=new WeakMap,Ld=new WeakMap,Eo=new WeakMap,So=new WeakMap;function Wg(n){let t=new Promise((e,i)=>{let r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{e(ot(n.result)),r()},o=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",o)});return t.then(e=>{e instanceof IDBCursor&&xd.set(e,n)}).catch(()=>{}),So.set(t,n),t}function jg(n){if(wo.has(n))return;let t=new Promise((e,i)=>{let r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{e(),r()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});wo.set(n,t)}var To={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return wo.get(n);if(t==="objectStoreNames")return n.objectStoreNames||Ld.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return ot(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function Md(n){To=n(To)}function qg(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){let i=n.call(yr(this),t,...e);return Ld.set(i,t.sort?t.sort():[t]),ot(i)}:Bg().includes(n)?function(...t){return n.apply(yr(this),t),ot(xd.get(this))}:function(...t){return ot(n.apply(yr(this),t))}}function Kg(n){return typeof n=="function"?qg(n):(n instanceof IDBTransaction&&jg(n),Hg(n,$g())?new Proxy(n,To):n)}function ot(n){if(n instanceof IDBRequest)return Wg(n);if(Eo.has(n))return Eo.get(n);let t=Kg(n);return t!==n&&(Eo.set(n,t),So.set(t,n)),t}var yr=n=>So.get(n);function vr(n,t,{blocked:e,upgrade:i,blocking:r,terminated:s}={}){let o=indexedDB.open(n,t),a=ot(o);return i&&o.addEventListener("upgradeneeded",l=>{i(ot(o.result),l.oldVersion,l.newVersion,ot(o.transaction),l)}),e&&o.addEventListener("blocked",l=>e(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}var Gg=["get","getKey","getAll","getAllKeys","count"],Yg=["put","add","delete","clear"],Co=new Map;function Fd(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Co.get(t))return Co.get(t);let e=t.replace(/FromIndex$/,""),i=t!==e,r=Yg.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||Gg.includes(e)))return;let s=function(o,...a){return d(this,null,function*(){let l=this.transaction(o,r?"readwrite":"readonly"),c=l.store;return i&&(c=c.index(a.shift())),(yield Promise.all([c[e](...a),r&&l.done]))[0]})};return Co.set(t,s),s}Md(n=>we(L({},n),{get:(t,e,i)=>Fd(t,e)||n.get(t,e,i),has:(t,e)=>!!Fd(t,e)||n.has(t,e)}));var ko=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(Jg(e)){let i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}};function Jg(n){let t=n.getComponent();return t?.type==="VERSION"}var Oo="@firebase/app",Vd="0.13.2";var mt=new xt("@firebase/app"),Qg="@firebase/app-compat",Zg="@firebase/analytics-compat",Xg="@firebase/analytics",e_="@firebase/app-check-compat",t_="@firebase/app-check",n_="@firebase/auth",i_="@firebase/auth-compat",r_="@firebase/database",s_="@firebase/data-connect",o_="@firebase/database-compat",a_="@firebase/functions",l_="@firebase/functions-compat",c_="@firebase/installations",d_="@firebase/installations-compat",u_="@firebase/messaging",h_="@firebase/messaging-compat",p_="@firebase/performance",f_="@firebase/performance-compat",m_="@firebase/remote-config",g_="@firebase/remote-config-compat",__="@firebase/storage",y_="@firebase/storage-compat",v_="@firebase/firestore",I_="@firebase/ai",b_="@firebase/firestore-compat",E_="firebase",w_="11.10.0";var Po="[DEFAULT]",T_={[Oo]:"fire-core",[Qg]:"fire-core-compat",[Xg]:"fire-analytics",[Zg]:"fire-analytics-compat",[t_]:"fire-app-check",[e_]:"fire-app-check-compat",[n_]:"fire-auth",[i_]:"fire-auth-compat",[r_]:"fire-rtdb",[s_]:"fire-data-connect",[o_]:"fire-rtdb-compat",[a_]:"fire-fn",[l_]:"fire-fn-compat",[c_]:"fire-iid",[d_]:"fire-iid-compat",[u_]:"fire-fcm",[h_]:"fire-fcm-compat",[p_]:"fire-perf",[f_]:"fire-perf-compat",[m_]:"fire-rc",[g_]:"fire-rc-compat",[__]:"fire-gcs",[y_]:"fire-gcs-compat",[v_]:"fire-fst",[b_]:"fire-fst-compat",[I_]:"fire-vertex","fire-js":"fire-js",[E_]:"fire-js-all"};var fi=new Map,S_=new Map,Ro=new Map;function Ud(n,t){try{n.container.addComponent(t)}catch(e){mt.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function gt(n){let t=n.name;if(Ro.has(t))return mt.debug(`There were multiple attempts to register component ${t}.`),!1;Ro.set(t,n);for(let e of fi.values())Ud(e,n);for(let e of S_.values())Ud(e,n);return!0}function Ye(n){return n==null?!1:n.settings!==void 0}var C_={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Lt=new Ke("app","Firebase",C_);var Do=class{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Re("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Lt.create("app-deleted",{appName:this._name})}};var Ir=w_;function Bd(n,t={}){let e=n;typeof t!="object"&&(t={name:t});let i=Object.assign({name:Po,automaticDataCollectionEnabled:!0},t),r=i.name;if(typeof r!="string"||!r)throw Lt.create("bad-app-name",{appName:String(r)});if(e||(e=vo()),!e)throw Lt.create("no-options");let s=fi.get(r);if(s){if(hi(e,s.options)&&hi(i,s.config))return s;throw Lt.create("duplicate-app",{appName:r})}let o=new _r(r);for(let l of Ro.values())o.addComponent(l);let a=new Do(e,i,o);return fi.set(r,a),a}function br(n=Po){let t=fi.get(n);if(!t&&n===Po&&vo())return Bd();if(!t)throw Lt.create("no-app",{appName:n});return t}function Er(){return Array.from(fi.values())}function _e(n,t,e){var i;let r=(i=T_[n])!==null&&i!==void 0?i:n;e&&(r+=`-${e}`);let s=r.match(/\s|\//),o=t.match(/\s|\//);if(s||o){let a=[`Unable to register library "${r}" with version "${t}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),mt.warn(a.join(" "));return}gt(new Re(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}var A_="firebase-heartbeat-database",k_=1,mi="firebase-heartbeat-store",Ao=null;function Wd(){return Ao||(Ao=vr(A_,k_,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(mi)}catch(e){console.warn(e)}}}}).catch(n=>{throw Lt.create("idb-open",{originalErrorMessage:n.message})})),Ao}function O_(n){return d(this,null,function*(){try{let e=(yield Wd()).transaction(mi),i=yield e.objectStore(mi).get(jd(n));return yield e.done,i}catch(t){if(t instanceof qe)mt.warn(t.message);else{let e=Lt.create("idb-get",{originalErrorMessage:t?.message});mt.warn(e.message)}}})}function zd(n,t){return d(this,null,function*(){try{let i=(yield Wd()).transaction(mi,"readwrite");yield i.objectStore(mi).put(t,jd(n)),yield i.done}catch(e){if(e instanceof qe)mt.warn(e.message);else{let i=Lt.create("idb-set",{originalErrorMessage:e?.message});mt.warn(i.message)}}})}function jd(n){return`${n.name}!${n.options.appId}`}var P_=1024,R_=30,No=class{constructor(t){this.container=t,this._heartbeatsCache=null;let e=this.container.getProvider("app").getImmediate();this._storage=new xo(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return d(this,null,function*(){var t,e;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Hd();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>R_){let o=N_(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){mt.warn(i)}})}getHeartbeatsHeader(){return d(this,null,function*(){var t;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=Hd(),{heartbeatsToSend:i,unsentEntries:r}=D_(this._heartbeatsCache.heartbeats),s=yo(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return mt.warn(e),""}})}};function Hd(){return new Date().toISOString().substring(0,10)}function D_(n,t=P_){let e=[],i=n.slice();for(let r of n){let s=e.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),$d(e)>t){s.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),$d(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}var xo=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return d(this,null,function*(){return gr()?Pd().then(()=>!0).catch(()=>!1):!1})}read(){return d(this,null,function*(){if(yield this._canUseIndexedDBPromise){let e=yield O_(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(t){return d(this,null,function*(){var e;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return zd(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return})}add(t){return d(this,null,function*(){var e;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return zd(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return})}};function $d(n){return yo(JSON.stringify({version:2,heartbeats:n})).length}function N_(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}function x_(n){gt(new Re("platform-logger",t=>new ko(t),"PRIVATE")),gt(new Re("heartbeat",t=>new No(t),"PRIVATE")),_e(Oo,Vd,n),_e(Oo,Vd,"esm2017"),_e("fire-js","")}x_("");var L_="firebase",M_="11.10.0";_e(L_,M_,"app");function Lo(n){n===void 0&&(tc(Lo),n=X(Cn));let t=n.get(Xi);return e=>new ni(i=>{let r=t.add(),s=!1;function o(){s||(r(),s=!0)}let a=e.subscribe({next:l=>{i.next(l),o()},complete:()=>{i.complete(),o()},error:l=>{i.error(l),o()}});return a.add(()=>{i.unsubscribe(),o()}),a})}var Bn=new dc("ANGULARFIRE2_VERSION");function Mo(n,t,e){if(t){if(t.length===1)return t[0];let s=t.filter(o=>o.app===e);if(s.length===1)return s[0]}return e.container.getProvider(n).getImmediate({optional:!0})}var Tr=(n,t)=>{let e=t?[t]:Er(),i=[];return e.forEach(r=>{r.container.getProvider(n).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i},$n=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}($n||{}),qd=qs()&&typeof Zone<"u"?$n.WARN:$n.SILENT;var wr=class{zone;delegate;constructor(t,e=Jl){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,i){let r=this.zone,s=function(o){r?r.runGuarded(()=>{t.apply(this,[o])}):t.apply(this,[o])};return this.delegate.schedule(s,e,i)}},Wn=(()=>{class n{outsideAngular;insideAngular;constructor(){let e=X(ue);this.outsideAngular=e.runOutsideAngular(()=>new wr(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=e.run(()=>new wr(typeof Zone>"u"?void 0:Zone.current,Yl))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Kd=!1;function F_(n,t){!Kd&&(qd>$n.SILENT||qs())&&(Kd=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),qd>=t&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function V_(n){let t=X(ue,{optional:!0});return t?t.runOutsideAngular(()=>n()):n()}function an(n){let t=X(ue,{optional:!0});return t?t.run(()=>n()):n()}var U_=(n,t,e)=>(...i)=>(t&&setTimeout(t,0),Zi(e,()=>an(()=>n.apply(void 0,i)))),gi=(n,t,e)=>(e||=t?$n.WARN:$n.VERBOSE,function(){let i,r=arguments,s,o,a;try{s=X(Wn),o=X(Xi),a=X(ec)}catch{return F_(n,e),n.apply(this,r)}for(let c=0;c<arguments.length;c++)typeof r[c]=="function"&&(t&&(i||=an(()=>o.add())),r[c]=U_(r[c],i,a));let l=V_(()=>n.apply(this,r));return t?l instanceof ni?l.pipe($s(s.outsideAngular),Hs(s.insideAngular),Lo(a)):l instanceof Promise?an(()=>new Promise((c,u)=>{o.run(()=>l).then(p=>Zi(a,()=>an(()=>c(p))),p=>Zi(a,()=>an(()=>u(p))))})):typeof l=="function"&&i?function(){return setTimeout(i,0),l.apply(this,arguments)}:an(()=>l):l instanceof ni?l.pipe($s(s.outsideAngular),Hs(s.insideAngular)):an(()=>l)});var ln=class{constructor(t){return t}},_i=class{constructor(){return Er()}};function z_(n){return n&&n.length===1?n[0]:new ln(br())}var Fo=new Ji("angularfire2._apps"),H_={provide:ln,useFactory:z_,deps:[[new Jt,Fo]]},$_={provide:_i,deps:[[new Jt,Fo]]};function B_(n){return(t,e)=>{let i=e.get(At);_e("angularfire",Bn.full,"core"),_e("angularfire",Bn.full,"app"),_e("angular",uc.full,i.toString());let r=t.runOutsideAngular(()=>n(e));return new ln(r)}}function Gd(n,...t){return Qi([H_,$_,{provide:Fo,useFactory:B_(n),multi:!0,deps:[ue,Cn,Wn,...t]}])}var j_=new Map,q_={activated:!1,tokenObservers:[]},K_={initialized:!1,enabled:!1};function Je(n){return j_.get(n)||Object.assign({},q_)}function Zd(){return K_}var G_="https://content-firebaseappcheck.googleapis.com/v1";var Y_="exchangeDebugToken",Yd={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},QC=24*60*60*1e3;var zo=class{constructor(t,e,i,r,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){return d(this,null,function*(){this.stop();try{this.pending=new rn,this.pending.promise.catch(e=>{}),yield J_(this.getNextRun(t)),this.pending.resolve(),yield this.pending.promise,this.pending=new rn,this.pending.promise.catch(e=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(e){this.retryPolicy(e)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}};function J_(n){return new Promise(t=>{setTimeout(t,n)})}var Q_={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Mt=new Ke("appCheck","AppCheck",Q_);function Xd(n){if(!Je(n).activated)throw Mt.create("use-before-activation",{appName:n.name})}function eu(i,r){return d(this,arguments,function*({url:n,body:t},e){let s={"Content-Type":"application/json"},o=e.getImmediate({optional:!0});if(o){let v=yield o.getHeartbeatsHeader();v&&(s["X-Firebase-Client"]=v)}let a={method:"POST",body:JSON.stringify(t),headers:s},l;try{l=yield fetch(n,a)}catch(v){throw Mt.create("fetch-network-error",{originalErrorMessage:v?.message})}if(l.status!==200)throw Mt.create("fetch-status-error",{httpStatus:l.status});let c;try{c=yield l.json()}catch(v){throw Mt.create("fetch-parse-error",{originalErrorMessage:v?.message})}let u=c.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Mt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let p=Number(u[1])*1e3,g=Date.now();return{token:c.token,expireTimeMillis:g+p,issuedAtTimeMillis:g}})}function tu(n,t){let{projectId:e,appId:i,apiKey:r}=n.options;return{url:`${G_}/projects/${e}/apps/${i}:${Y_}?key=${r}`,body:{debug_token:t}}}var Z_="firebase-app-check-database",X_=1,Ho="firebase-app-check-store";var Sr=null;function ey(){return Sr||(Sr=new Promise((n,t)=>{try{let e=indexedDB.open(Z_,X_);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(Mt.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},e.onupgradeneeded=i=>{let r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(Ho,{keyPath:"compositeKey"})}}}catch(e){t(Mt.create("storage-open",{originalErrorMessage:e?.message}))}}),Sr)}function ty(n,t){return ny(iy(n),t)}function ny(n,t){return d(this,null,function*(){let i=(yield ey()).transaction(Ho,"readwrite"),s=i.objectStore(Ho).put({compositeKey:n,value:t});return new Promise((o,a)=>{s.onsuccess=l=>{o()},i.onerror=l=>{var c;a(Mt.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})})}function iy(n){return`${n.options.appId}-${n.name}`}var yi=new xt("@firebase/app-check");function Vo(n,t){return gr()?ty(n,t).catch(e=>{yi.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function nu(){return Zd().enabled}function iu(){return d(this,null,function*(){let n=Zd();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var ry={error:"UNKNOWN_ERROR"};function sy(n){return fr.encodeString(JSON.stringify(n),!1)}function $o(n,t=!1,e=!1){return d(this,null,function*(){let i=n.app;Xd(i);let r=Je(i),s=r.token,o;if(s&&!vi(s)&&(r.token=void 0,s=void 0),!s){let c=yield r.cachedTokenPromise;c&&(vi(c)?s=c:yield Vo(i,void 0))}if(!t&&s&&vi(s))return{token:s.token};let a=!1;if(nu())try{r.exchangeTokenPromise||(r.exchangeTokenPromise=eu(tu(i,yield iu()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),a=!0);let c=yield r.exchangeTokenPromise;return yield Vo(i,c),r.token=c,{token:c.token}}catch(c){return c.code==="appCheck/throttled"||c.code==="appCheck/initial-throttle"?yi.warn(c.message):e&&yi.error(c),Uo(c)}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),a=!0),s=yield Je(i).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"||c.code==="appCheck/initial-throttle"?yi.warn(c.message):e&&yi.error(c),o=c}let l;return s?o?vi(s)?l={token:s.token,internalError:o}:l=Uo(o):(l={token:s.token},r.token=s,yield Vo(i,s)):l=Uo(o),a&&cy(i,l),l})}function oy(n){return d(this,null,function*(){let t=n.app;Xd(t);let{provider:e}=Je(t);if(nu()){let i=yield iu(),{token:r}=yield eu(tu(t,i),n.heartbeatServiceProvider);return{token:r}}else{let{token:i}=yield e.getToken();return{token:i}}})}function ay(n,t,e,i){let{app:r}=n,s=Je(r),o={next:e,error:i,type:t};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&vi(s.token)){let a=s.token;Promise.resolve().then(()=>{e({token:a.token}),Jd(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Jd(n))}function ru(n,t){let e=Je(n),i=e.tokenObservers.filter(r=>r.next!==t);i.length===0&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function Jd(n){let{app:t}=n,e=Je(t),i=e.tokenRefresher;i||(i=ly(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function ly(n){let{app:t}=n;return new zo(()=>d(this,null,function*(){let e=Je(t),i;if(e.token?i=yield $o(n,!0):i=yield $o(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let e=Je(t);if(e.token){let i=e.token.issuedAtTimeMillis+(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)*.5+3e5,r=e.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},Yd.RETRIAL_MIN_WAIT,Yd.RETRIAL_MAX_WAIT)}function cy(n,t){let e=Je(n).tokenObservers;for(let i of e)try{i.type==="EXTERNAL"&&t.error!=null?i.error(t.error):i.next(t)}catch{}}function vi(n){return n.expireTimeMillis-Date.now()>0}function Uo(n){return{token:sy(ry),error:n}}var Bo=class{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){let{tokenObservers:t}=Je(this.app);for(let e of t)ru(this.app,e.next);return Promise.resolve()}};function dy(n,t){return new Bo(n,t)}function uy(n){return{getToken:t=>$o(n,t),getLimitedUseToken:()=>oy(n),addTokenListener:t=>ay(n,"INTERNAL",t),removeTokenListener:t=>ru(n.app,t)}}var hy="@firebase/app-check",py="0.10.1";var fy="app-check",Qd="app-check-internal";function my(){gt(new Re(fy,n=>{let t=n.getProvider("app").getImmediate(),e=n.getProvider("heartbeat");return dy(t,e)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(Qd).initialize()})),gt(new Re(Qd,n=>{let t=n.getProvider("app-check").getImmediate();return uy(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),_e(hy,py)}my();var gy="app-check";var Cr=class{constructor(){return Tr(gy)}};var _y=["localhost","0.0.0.0","127.0.0.1"],d1=typeof window<"u"&&_y.includes(window.location.hostname);function _u(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var yu=_u,vu=new Ke("auth","Firebase",_u());var Or=new xt("@firebase/auth");function yy(n,...t){Or.logLevel<=K.WARN&&Or.warn(`Auth (${Ir}): ${n}`,...t)}function kr(n,...t){Or.logLevel<=K.ERROR&&Or.error(`Auth (${Ir}): ${n}`,...t)}function dn(n,...t){throw pa(n,...t)}function at(n,...t){return pa(n,...t)}function ha(n,t,e){let i=Object.assign(Object.assign({},yu()),{[t]:e});return new Ke("auth","Firebase",i).create(t,{appName:n.name})}function cn(n){return ha(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vy(n,t,e){let i=e;if(!(t instanceof i))throw i.name!==t.constructor.name&&dn(n,"argument-error"),ha(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function pa(n,...t){if(typeof n!="string"){let e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return vu.create(n,...t)}function P(n,t,...e){if(!n)throw pa(t,...e)}function _t(n){let t="INTERNAL ASSERTION FAILED: "+n;throw kr(t),new Error(t)}function un(n,t){n||_t(t)}function Iu(){return su()==="http:"||su()==="https:"}function su(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function Iy(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Iu()||kd()||"connection"in navigator)?navigator.onLine:!0}function by(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var hn=class{constructor(t,e){this.shortDelay=t,this.longDelay=e,un(e>t,"Short delay should be less than long delay!"),this.isMobile=Cd()||Od()}get(){return Iy()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Ey(n,t){un(n.emulator,"Emulator should always be set here");let{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}var Pr=class{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_t("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_t("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_t("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var wy={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Ty=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Sy=new hn(3e4,6e4);function lt(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}function ct(s,o,a,l){return d(this,arguments,function*(n,t,e,i,r={}){return bu(n,r,()=>d(this,null,function*(){let c={},u={};i&&(t==="GET"?u=i:c={body:JSON.stringify(i)});let p=pi(Object.assign({key:n.config.apiKey},u)).slice(1),g=yield n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);let v=Object.assign({method:t,headers:g},c);return Ad()||(v.referrerPolicy="no-referrer"),n.emulatorConfig&&Io(n.emulatorConfig.host)&&(v.credentials="include"),Pr.fetch()(yield Eu(n,n.config.apiHost,e,p),v)}))})}function bu(n,t,e){return d(this,null,function*(){n._canInitEmulator=!1;let i=Object.assign(Object.assign({},wy),t);try{let r=new Yo(n),s=yield Promise.race([e(),r.promise]);r.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw bi(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw bi(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw bi(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw bi(n,"user-disabled",o);let u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw ha(n,u,c);dn(n,u)}}catch(r){if(r instanceof qe)throw r;dn(n,"network-request-failed",{message:String(r)})}})}function zr(s,o,a,l){return d(this,arguments,function*(n,t,e,i,r={}){let c=yield ct(n,t,e,i,r);return"mfaPendingCredential"in c&&dn(n,"multi-factor-auth-required",{_serverResponse:c}),c})}function Eu(n,t,e,i){return d(this,null,function*(){let r=`${t}${e}?${i}`,s=n,o=s.config.emulator?Ey(n.config,r):`${n.config.apiScheme}://${r}`;return Ty.includes(e)&&(yield s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o})}function Cy(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Yo=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(at(this.auth,"network-request-failed")),Sy.get())})}};function bi(n,t,e){let i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);let r=at(n,t,i);return r.customData._tokenResponse=e,r}function ou(n){return n!==void 0&&n.getResponse!==void 0}function au(n){return n!==void 0&&n.enterprise!==void 0}var Rr=class{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return Cy(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function Ay(n){return d(this,null,function*(){return(yield ct(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})}function wu(n,t){return d(this,null,function*(){return ct(n,"GET","/v2/recaptchaConfig",lt(n,t))})}function ky(n,t){return d(this,null,function*(){return ct(n,"POST","/v1/accounts:delete",t)})}function Dr(n,t){return d(this,null,function*(){return ct(n,"POST","/v1/accounts:lookup",t)})}function Ei(n){if(n)try{let t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function fa(n,t=!1){return d(this,null,function*(){let e=sn(n),i=yield e.getIdToken(t),r=ma(i);P(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");let s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:Ei(Wo(r.auth_time)),issuedAtTime:Ei(Wo(r.iat)),expirationTime:Ei(Wo(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Wo(n){return Number(n)*1e3}function ma(n){let[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return kr("JWT malformed, contained fewer than 3 sections"),null;try{let r=mr(e);return r?JSON.parse(r):(kr("Failed to decode base64 JWT payload"),null)}catch(r){return kr("Caught error parsing JWT payload as JSON",r?.toString()),null}}function lu(n){let t=ma(n);return P(t,"internal-error"),P(typeof t.exp<"u","internal-error"),P(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}function Ci(n,t,e=!1){return d(this,null,function*(){if(e)return t;try{return yield t}catch(i){throw i instanceof qe&&Oy(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})}function Oy({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Jo=class{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;let e=this.getInterval(t);this.timerId=setTimeout(()=>d(this,null,function*(){yield this.iteration()}),e)}iteration(){return d(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ai=class{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ei(this.lastLoginAt),this.creationTime=Ei(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Nr(n){return d(this,null,function*(){var t;let e=n.auth,i=yield n.getIdToken(),r=yield Ci(n,Dr(e,{idToken:i}));P(r?.users.length,e,"internal-error");let s=r.users[0];n._notifyReloadListener(s);let o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?Tu(s.providerUserInfo):[],a=Py(n.providerData,o),l=n.isAnonymous,c=!(n.email&&s.passwordHash)&&!a?.length,u=l?c:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ai(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(n,p)})}function ga(n){return d(this,null,function*(){let t=sn(n);yield Nr(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})}function Py(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function Tu(n){return n.map(t=>{var{providerId:e}=t,i=Yi(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function Ry(n,t){return d(this,null,function*(){let e=yield bu(n,{},()=>d(this,null,function*(){let i=pi({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,o=yield Eu(n,r,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let l={method:"POST",headers:a,body:i};return n.emulatorConfig&&Io(n.emulatorConfig.host)&&(l.credentials="include"),Pr.fetch()(o,l)}));return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}})}function Dy(n,t){return d(this,null,function*(){return ct(n,"POST","/v2/accounts:revokeToken",lt(n,t))})}var wi=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){P(t.idToken,"internal-error"),P(typeof t.idToken<"u","internal-error"),P(typeof t.refreshToken<"u","internal-error");let e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):lu(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){P(t.length!==0,"internal-error");let e=lu(t);this.updateTokensAndExpiration(t,null,e)}getToken(t,e=!1){return d(this,null,function*(){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(P(this.refreshToken,t,"user-token-expired"),this.refreshToken?(yield this.refresh(t,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(t,e){return d(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:s}=yield Ry(t,e);this.updateTokensAndExpiration(i,r,Number(s))})}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){let{refreshToken:i,accessToken:r,expirationTime:s}=e,o=new n;return i&&(P(typeof i=="string","internal-error",{appName:t}),o.refreshToken=i),r&&(P(typeof r=="string","internal-error",{appName:t}),o.accessToken=r),s&&(P(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return _t("not implemented")}};function Ft(n,t){P(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}var Vt=class n{constructor(t){var{uid:e,auth:i,stsTokenManager:r}=t,s=Yi(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Jo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ai(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(t){return d(this,null,function*(){let e=yield Ci(this,this.stsTokenManager.getToken(this.auth,t));return P(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e})}getIdTokenResult(t){return fa(this,t)}reload(){return ga(this)}_assign(t){this!==t&&(P(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){let e=new n(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){P(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,e=!1){return d(this,null,function*(){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&(yield Nr(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return d(this,null,function*(){if(Ye(this.auth.app))return Promise.reject(cn(this.auth));let t=yield this.getIdToken();return yield Ci(this,ky(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,r,s,o,a,l,c,u;let p=(i=e.displayName)!==null&&i!==void 0?i:void 0,g=(r=e.email)!==null&&r!==void 0?r:void 0,v=(s=e.phoneNumber)!==null&&s!==void 0?s:void 0,b=(o=e.photoURL)!==null&&o!==void 0?o:void 0,A=(a=e.tenantId)!==null&&a!==void 0?a:void 0,T=(l=e._redirectEventId)!==null&&l!==void 0?l:void 0,O=(c=e.createdAt)!==null&&c!==void 0?c:void 0,D=(u=e.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:V,emailVerified:H,isAnonymous:pe,providerData:ae,stsTokenManager:ce}=e;P(V&&ce,t,"internal-error");let ye=wi.fromJSON(this.name,ce);P(typeof V=="string",t,"internal-error"),Ft(p,t.name),Ft(g,t.name),P(typeof H=="boolean",t,"internal-error"),P(typeof pe=="boolean",t,"internal-error"),Ft(v,t.name),Ft(b,t.name),Ft(A,t.name),Ft(T,t.name),Ft(O,t.name),Ft(D,t.name);let Ve=new n({uid:V,auth:t,email:g,emailVerified:H,displayName:p,isAnonymous:pe,photoURL:b,phoneNumber:v,tenantId:A,stsTokenManager:ye,createdAt:O,lastLoginAt:D});return ae&&Array.isArray(ae)&&(Ve.providerData=ae.map(wt=>Object.assign({},wt))),T&&(Ve._redirectEventId=T),Ve}static _fromIdTokenResponse(t,e,i=!1){return d(this,null,function*(){let r=new wi;r.updateFromServerResponse(e);let s=new n({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return yield Nr(s),s})}static _fromGetAccountInfoResponse(t,e,i){return d(this,null,function*(){let r=e.users[0];P(r.localId!==void 0,"internal-error");let s=r.providerUserInfo!==void 0?Tu(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!s?.length,a=new wi;a.updateFromIdToken(i);let l=new n({uid:r.localId,auth:t,stsTokenManager:a,isAnonymous:o}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Ai(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(l,c),l})}};var cu=new Map;function Ut(n){un(n instanceof Function,"Expected a class definition");let t=cu.get(n);return t?(un(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,cu.set(n,t),t)}var Ny=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return d(this,null,function*(){return!0})}_set(e,i){return d(this,null,function*(){this.storage[e]=i})}_get(e){return d(this,null,function*(){let i=this.storage[e];return i===void 0?null:i})}_remove(e){return d(this,null,function*(){delete this.storage[e]})}_addListener(e,i){}_removeListener(e,i){}}return n.type="NONE",n})(),Qo=Ny;function jo(n,t,e){return`firebase:${n}:${t}:${e}`}var xr=class n{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;let{config:r,name:s}=this.auth;this.fullUserKey=jo(this.userKey,r.apiKey,s),this.fullPersistenceKey=jo("persistence",r.apiKey,s),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){return d(this,null,function*(){let t=yield this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){let e=yield Dr(this.auth,{idToken:t}).catch(()=>{});return e?Vt._fromGetAccountInfoResponse(this.auth,e,t):null}return Vt._fromJSON(this.auth,t)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){return d(this,null,function*(){if(this.persistence===t)return;let e=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,e,i="authUser"){return d(this,null,function*(){if(!e.length)return new n(Ut(Qo),t,i);let r=(yield Promise.all(e.map(c=>d(this,null,function*(){if(yield c._isAvailable())return c})))).filter(c=>c),s=r[0]||Ut(Qo),o=jo(i,t.config.apiKey,t.name),a=null;for(let c of e)try{let u=yield c._get(o);if(u){let p;if(typeof u=="string"){let g=yield Dr(t,{idToken:u}).catch(()=>{});if(!g)break;p=yield Vt._fromGetAccountInfoResponse(t,g,u)}else p=Vt._fromJSON(t,u);c!==s&&(a=p),s=c;break}}catch{}let l=r.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new n(s,t,i):(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(e.map(c=>d(this,null,function*(){if(c!==s)try{yield c._remove(o)}catch{}}))),new n(s,t,i))})}};function du(n){let t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Fy(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(xy(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Uy(t))return"Blackberry";if(zy(t))return"Webos";if(Ly(t))return"Safari";if((t.includes("chrome/")||My(t))&&!t.includes("edge/"))return"Chrome";if(Vy(t))return"Android";{let e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function xy(n=Ge()){return/firefox\//i.test(n)}function Ly(n=Ge()){let t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function My(n=Ge()){return/crios\//i.test(n)}function Fy(n=Ge()){return/iemobile/i.test(n)}function Vy(n=Ge()){return/android/i.test(n)}function Uy(n=Ge()){return/blackberry/i.test(n)}function zy(n=Ge()){return/webos/i.test(n)}function Su(n,t=[]){let e;switch(n){case"Browser":e=du(Ge());break;case"Worker":e=`${du(Ge())}-${n}`;break;default:e=n}let i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Ir}/${i}`}var Zo=class{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){let i=s=>new Promise((o,a)=>{try{let l=t(s);o(l)}catch(l){a(l)}});i.onAbort=e,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(t){return d(this,null,function*(){if(this.auth.currentUser===t)return;let e=[];try{for(let i of this.queue)yield i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(let r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function Hy(e){return d(this,arguments,function*(n,t={}){return ct(n,"GET","/v2/passwordPolicy",lt(n,t))})}var $y=6,Xo=class{constructor(t){var e,i,r,s;let o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=o.minPasswordLength)!==null&&e!==void 0?e:$y,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,r,s,o,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(e=l.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(t,e){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}};var ea=class{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lr(this),this.idTokenSubscription=new Lr(this),this.beforeStateQueue=new Zo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vu,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Ut(e)),this._initializationPromise=this.queue(()=>d(this,null,function*(){var i,r,s;if(!this._deleted&&(this.persistenceManager=yield xr.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(e),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return d(this,null,function*(){if(this._deleted)return;let t=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(t,!0)}})}initializeCurrentUserFromIdToken(t){return d(this,null,function*(){try{let e=yield Dr(this,{idToken:t}),i=yield Vt._fromGetAccountInfoResponse(this,e,t);yield this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(t){return d(this,null,function*(){var e;if(Ye(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,s=!1;if(t&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,a=r?._redirectEventId,l=yield this.tryRedirectSignIn(t);(!o||o===a)&&l?.user&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return P(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(t){return d(this,null,function*(){let e=null;try{e=yield this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{yield this._setRedirectUser(null)}return e})}reloadAndSetCurrentUserOrClear(t){return d(this,null,function*(){try{yield Nr(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)})}useDeviceLanguage(){this.languageCode=by()}_delete(){return d(this,null,function*(){this._deleted=!0})}updateCurrentUser(t){return d(this,null,function*(){if(Ye(this.app))return Promise.reject(cn(this));let e=t?sn(t):null;return e&&P(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))})}_updateCurrentUser(t,e=!1){return d(this,null,function*(){if(!this._deleted)return t&&P(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||(yield this.beforeStateQueue.runMiddleware(t)),this.queue(()=>d(this,null,function*(){yield this.directlySetCurrentUser(t),this.notifyAuthListeners()}))})}signOut(){return d(this,null,function*(){return Ye(this.app)?Promise.reject(cn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(t){return Ye(this.app)?Promise.reject(cn(this)):this.queue(()=>d(this,null,function*(){yield this.assertedPersistence.setPersistence(Ut(t))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){return d(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return d(this,null,function*(){let t=yield Hy(this),e=new Xo(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ke("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{let i=this.onAuthStateChanged(()=>{i(),t()},e)}})}revokeAccessToken(t){return d(this,null,function*(){if(this.currentUser){let e=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),yield Dy(this,i)}})}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}_setRedirectUser(t,e){return d(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)})}getOrInitRedirectPersistenceManager(t){return d(this,null,function*(){if(!this.redirectPersistenceManager){let e=t&&Ut(t)||this._popupRedirectResolver;P(e,this,"argument-error"),this.redirectPersistenceManager=yield xr.create(this,[Ut(e._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(t){return d(this,null,function*(){var e,i;return this._isInitialized&&(yield this.queue(()=>d(this,null,function*(){}))),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null})}_persistUserIfCurrent(t){return d(this,null,function*(){if(t===this.currentUser)return this.queue(()=>d(this,null,function*(){return this.directlySetCurrentUser(t)}))})}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};let s=typeof e=="function"?e:e.next.bind(e),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(P(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof e=="function"){let l=t.addObserver(e,i,r);return()=>{o=!0,l()}}else{let l=t.addObserver(e);return()=>{o=!0,l()}}}directlySetCurrentUser(t){return d(this,null,function*(){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?yield this.assertedPersistence.setCurrentUser(t):yield this.assertedPersistence.removeCurrentUser()})}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return P(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Su(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return d(this,null,function*(){var t;let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e})}_getAppCheckToken(){return d(this,null,function*(){var t;if(Ye(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=yield(t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken();return e?.error&&yy(`Error while retrieving App Check token: ${e.error}`),e?.token})}};function pn(n){return sn(n)}var Lr=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=Rd(e=>this.observer=e)}get next(){return P(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Hr={loadJS(){return d(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function By(n){Hr=n}function Cu(n){return Hr.loadJS(n)}function Wy(){return Hr.recaptchaV2Script}function jy(){return Hr.recaptchaEnterpriseScript}function qy(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var Ky=500,Gy=6e4,Ar=1e12,ta=class{constructor(t){this.auth=t,this.counter=Ar,this._widgets=new Map}render(t,e){let i=this.counter;return this._widgets.set(i,new ra(t,this.auth.name,e||{})),this.counter++,i}reset(t){var e;let i=t||Ar;(e=this._widgets.get(i))===null||e===void 0||e.delete(),this._widgets.delete(i)}getResponse(t){var e;let i=t||Ar;return((e=this._widgets.get(i))===null||e===void 0?void 0:e.getResponse())||""}execute(t){return d(this,null,function*(){var e;let i=t||Ar;return(e=this._widgets.get(i))===null||e===void 0||e.execute(),""})}},na=class{constructor(){this.enterprise=new ia}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}},ia=class{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}},ra=class{constructor(t,e,i){this.params=i,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};let r=typeof t=="string"?document.getElementById(t):t;P(r,"argument-error",{appName:e}),this.container=r,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=Yy(50);let{callback:t,"expired-callback":e}=this.params;if(t)try{t(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,e)try{e()}catch{}this.isVisible&&this.execute()},Gy)},Ky))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}};function Yy(n){let t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<n;i++)t.push(e.charAt(Math.floor(Math.random()*e.length)));return t.join("")}var Jy="recaptcha-enterprise",Ti="NO_RECAPTCHA",Mr=class{constructor(t){this.type=Jy,this.auth=pn(t)}verify(t="verify",e=!1){return d(this,null,function*(){function i(s){return d(this,null,function*(){if(!e){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>d(this,null,function*(){wu(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let c=new Rr(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})}))})}function r(s,o,a){let l=window.grecaptcha;au(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:t}).then(c=>{o(c)}).catch(()=>{o(Ti)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new na().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{i(this.auth).then(a=>{if(!e&&au(window.grecaptcha))r(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=jy();l.length!==0&&(l+=a),Cu(l).then(()=>{r(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})})}};function Ii(n,t,e,i=!1,r=!1){return d(this,null,function*(){let s=new Mr(n),o;if(r)o=Ti;else try{o=yield s.verify(e)}catch{o=yield s.verify(e,!0)}let a=Object.assign({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return i?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function qo(n,t,e,i,r){return d(this,null,function*(){var s,o;if(r==="EMAIL_PASSWORD_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield Ii(n,t,e,e==="getOobCode");return i(n,a)}else return i(n,t).catch(a=>d(this,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let l=yield Ii(n,t,e,e==="getOobCode");return i(n,l)}else return Promise.reject(a)}));else if(r==="PHONE_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){let a=yield Ii(n,t,e);return i(n,a).catch(l=>d(this,null,function*(){var c;if(((c=n._getRecaptchaConfig())===null||c===void 0?void 0:c.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${e} flow.`);let u=yield Ii(n,t,e,!1,!0);return i(n,u)}return Promise.reject(l)}))}else{let a=yield Ii(n,t,e,!1,!0);return i(n,a)}else return Promise.reject(r+" provider is not supported.")})}function Qy(n){return d(this,null,function*(){let t=pn(n),e=yield wu(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new Rr(e);t.tenantId==null?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,i.isAnyProviderEnabled()&&new Mr(t).verify()})}function Zy(n,t){let e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Ut);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}var qn=class{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return _t("not implemented")}_getIdTokenResponse(t){return _t("not implemented")}_linkToIdToken(t,e){return _t("not implemented")}_getReauthenticationResolver(t){return _t("not implemented")}};function jn(n,t){return d(this,null,function*(){return zr(n,"POST","/v1/accounts:signInWithIdp",lt(n,t))})}var Xy="http://localhost",Fr=class n extends qn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){let e=new n(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):dn("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){let e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=e,s=Yi(e,["providerId","signInMethod"]);if(!i||!r)return null;let o=new n(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){let e=this.buildRequest();return jn(t,e)}_linkToIdToken(t,e){let i=this.buildRequest();return i.idToken=e,jn(t,i)}_getReauthenticationResolver(t){let e=this.buildRequest();return e.autoCreate=!1,jn(t,e)}buildRequest(){let t={requestUri:Xy,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{let e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=pi(e)}return t}};function uu(n,t){return d(this,null,function*(){return ct(n,"POST","/v1/accounts:sendVerificationCode",lt(n,t))})}function ev(n,t){return d(this,null,function*(){return zr(n,"POST","/v1/accounts:signInWithPhoneNumber",lt(n,t))})}function tv(n,t){return d(this,null,function*(){let e=yield zr(n,"POST","/v1/accounts:signInWithPhoneNumber",lt(n,t));if(e.temporaryProof)throw bi(n,"account-exists-with-different-credential",e);return e})}var nv={USER_NOT_FOUND:"user-not-found"};function iv(n,t){return d(this,null,function*(){let e=Object.assign(Object.assign({},t),{operation:"REAUTH"});return zr(n,"POST","/v1/accounts:signInWithPhoneNumber",lt(n,e),nv)})}var Vr=class n extends qn{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,e){return new n({verificationId:t,verificationCode:e})}static _fromTokenResponse(t,e){return new n({phoneNumber:t,temporaryProof:e})}_getIdTokenResponse(t){return ev(t,this._makeVerificationRequest())}_linkToIdToken(t,e){return tv(t,Object.assign({idToken:e},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return iv(t,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:t,phoneNumber:e,verificationId:i,verificationCode:r}=this.params;return t&&e?{temporaryProof:t,phoneNumber:e}:{sessionInfo:i,code:r}}toJSON(){let t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){typeof t=="string"&&(t=JSON.parse(t));let{verificationId:e,verificationCode:i,phoneNumber:r,temporaryProof:s}=t;return!i&&!e&&!r&&!s?null:new n({verificationId:e,verificationCode:i,phoneNumber:r,temporaryProof:s})}};var Ur=class{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}};var sa=class extends Ur{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}};var _a=(()=>{class n extends sa{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Fr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return n.credentialFromTaggedObject(e)}static credentialFromError(e){return n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return n.credential(i,r)}catch{return null}}}n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com";return n})();var ki=class n{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,e,i,r=!1){return d(this,null,function*(){let s=yield Vt._fromIdTokenResponse(t,i,r),o=hu(i);return new n({user:s,providerId:o,_tokenResponse:i,operationType:e})})}static _forOperation(t,e,i){return d(this,null,function*(){yield t._updateTokensIfNecessary(i,!0);let r=hu(i);return new n({user:t,providerId:r,_tokenResponse:i,operationType:e})})}};function hu(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var oa=class n extends qe{constructor(t,e,i,r){var s;super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,n.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new n(t,e,i,r)}};function Au(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?oa._fromErrorAndOperation(n,s,t,i):s})}function rv(n,t,e=!1){return d(this,null,function*(){let i=yield Ci(n,t._linkToIdToken(n.auth,yield n.getIdToken()),e);return ki._forOperation(n,"link",i)})}function sv(n,t,e=!1){return d(this,null,function*(){let{auth:i}=n;if(Ye(i.app))return Promise.reject(cn(i));let r="reauthenticate";try{let s=yield Ci(n,Au(i,r,t,n),e);P(s.idToken,i,"internal-error");let o=ma(s.idToken);P(o,i,"internal-error");let{sub:a}=o;return P(n.uid===a,i,"user-mismatch"),ki._forOperation(n,r,s)}catch(s){throw s?.code==="auth/user-not-found"&&dn(i,"user-mismatch"),s}})}function ku(n,t,e=!1){return d(this,null,function*(){if(Ye(n.app))return Promise.reject(cn(n));let i="signIn",r=yield Au(n,i,t),s=yield ki._fromIdTokenResponse(n,i,r);return e||(yield n._updateCurrentUser(s.user)),s})}function ya(n,t){return d(this,null,function*(){return ku(pn(n),t)})}function pu(n,t){return ct(n,"POST","/v2/accounts/mfaEnrollment:start",lt(n,t))}function ov(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}function Me(){return window}function av(){return typeof Me().WorkerGlobalScope<"u"&&typeof Me().importScripts=="function"}function fu(n,t){return ct(n,"POST","/v2/accounts/mfaSignIn:start",lt(n,t))}var Ko=qy("rcb"),lv=new hn(3e4,6e4),aa=class{constructor(){var t;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((t=Me().grecaptcha)===null||t===void 0)&&t.render)}load(t,e=""){return P(cv(e),t,"argument-error"),this.shouldResolveImmediately(e)&&ou(Me().grecaptcha)?Promise.resolve(Me().grecaptcha):new Promise((i,r)=>{let s=Me().setTimeout(()=>{r(at(t,"network-request-failed"))},lv.get());Me()[Ko]=()=>{Me().clearTimeout(s),delete Me()[Ko];let a=Me().grecaptcha;if(!a||!ou(a)){r(at(t,"internal-error"));return}let l=a.render;a.render=(c,u)=>{let p=l(c,u);return this.counter++,p},this.hostLanguage=e,i(a)};let o=`${Wy()}?${pi({onload:Ko,render:"explicit",hl:e})}`;Cu(o).catch(()=>{clearTimeout(s),r(at(t,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(t){var e;return!!(!((e=Me().grecaptcha)===null||e===void 0)&&e.render)&&(t===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}};function cv(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}var la=class{load(t){return d(this,null,function*(){return new ta(t)})}clearedOneInstance(){}};var Si="recaptcha",dv={theme:"light",type:"image"},Oi=class{constructor(t,e,i=Object.assign({},dv)){this.parameters=i,this.type=Si,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=pn(t),this.isInvisible=this.parameters.size==="invisible",P(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");let r=typeof e=="string"?document.getElementById(e):e;P(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new la:new aa,this.validateStartingState()}verify(){return d(this,null,function*(){this.assertNotDestroyed();let t=yield this.render(),e=this.getAssertedRecaptcha(),i=e.getResponse(t);return i||new Promise(r=>{let s=o=>{o&&(this.tokenChangeListeners.delete(s),r(o))};this.tokenChangeListeners.add(s),this.isInvisible&&e.execute(t)})})}render(){try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(t=>{throw this.renderPromise=null,t}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(t=>{this.container.removeChild(t)})}validateStartingState(){P(!this.parameters.sitekey,this.auth,"argument-error"),P(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),P(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(t){return e=>{if(this.tokenChangeListeners.forEach(i=>i(e)),typeof t=="function")t(e);else if(typeof t=="string"){let i=Me()[t];typeof i=="function"&&i(e)}}}assertNotDestroyed(){P(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){return d(this,null,function*(){if(yield this.init(),!this.widgetId){let t=this.container;if(!this.isInvisible){let e=document.createElement("div");t.appendChild(e),t=e}this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)}return this.widgetId})}init(){return d(this,null,function*(){P(Iu()&&!av(),this.auth,"internal-error"),yield uv(),this.recaptcha=yield this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);let t=yield Ay(this.auth);P(t,this.auth,"internal-error"),this.parameters.sitekey=t})}getAssertedRecaptcha(){return P(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function uv(){let n=null;return new Promise(t=>{if(document.readyState==="complete"){t();return}n=()=>t(),window.addEventListener("load",n)}).catch(t=>{throw n&&window.removeEventListener("load",n),t})}var ca=class{constructor(t,e){this.verificationId=t,this.onConfirmation=e}confirm(t){let e=Vr._fromVerification(this.verificationId,t);return this.onConfirmation(e)}};function va(n,t,e){return d(this,null,function*(){if(Ye(n.app))return Promise.reject(cn(n));let i=pn(n),r=yield hv(i,t,sn(e));return new ca(r,s=>ya(i,s))})}function hv(n,t,e){return d(this,null,function*(){var i;if(!n._getRecaptchaConfig())try{yield Qy(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(typeof t=="string"?r={phoneNumber:t}:r=t,"session"in r){let s=r.session;if("phoneNumber"in r){P(s.type==="enroll",n,"internal-error");let o={idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(yield qo(n,o,"mfaSmsEnrollment",(u,p)=>d(this,null,function*(){if(p.phoneEnrollmentInfo.captchaResponse===Ti){P(e?.type===Si,u,"argument-error");let g=yield Go(u,p,e);return pu(u,g)}return pu(u,p)}),"PHONE_PROVIDER").catch(u=>Promise.reject(u))).phoneSessionInfo.sessionInfo}else{P(s.type==="signin",n,"internal-error");let o=((i=r.multiFactorHint)===null||i===void 0?void 0:i.uid)||r.multiFactorUid;P(o,n,"missing-multi-factor-info");let a={mfaPendingCredential:s.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(yield qo(n,a,"mfaSmsSignIn",(p,g)=>d(this,null,function*(){if(g.phoneSignInInfo.captchaResponse===Ti){P(e?.type===Si,p,"argument-error");let v=yield Go(p,g,e);return fu(p,v)}return fu(p,g)}),"PHONE_PROVIDER").catch(p=>Promise.reject(p))).phoneResponseInfo.sessionInfo}}else{let s={phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(yield qo(n,s,"sendVerificationCode",(c,u)=>d(this,null,function*(){if(u.captchaResponse===Ti){P(e?.type===Si,c,"argument-error");let p=yield Go(c,u,e);return uu(c,p)}return uu(c,u)}),"PHONE_PROVIDER").catch(c=>Promise.reject(c))).sessionInfo}}finally{e?._reset()}})}function Go(n,t,e){return d(this,null,function*(){P(e.type===Si,n,"argument-error");let i=yield e.verify();P(typeof i=="string",n,"argument-error");let r=Object.assign({},t);if("phoneEnrollmentInfo"in r){let s=r.phoneEnrollmentInfo.phoneNumber,o=r.phoneEnrollmentInfo.captchaResponse,a=r.phoneEnrollmentInfo.clientType,l=r.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(r,{phoneEnrollmentInfo:{phoneNumber:s,recaptchaToken:i,captchaResponse:o,clientType:a,recaptchaVersion:l}}),r}else if("phoneSignInInfo"in r){let s=r.phoneSignInInfo.captchaResponse,o=r.phoneSignInInfo.clientType,a=r.phoneSignInInfo.recaptchaVersion;return Object.assign(r,{phoneSignInInfo:{recaptchaToken:i,captchaResponse:s,clientType:o,recaptchaVersion:a}}),r}else return Object.assign(r,{recaptchaToken:i}),r})}function pv(n,t){return t?Ut(t):(P(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Pi=class extends qn{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return jn(t,this._buildIdpRequest())}_linkToIdToken(t,e){return jn(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return jn(t,this._buildIdpRequest())}_buildIdpRequest(t){let e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}};function fv(n){return ku(n.auth,new Pi(n),n.bypassAuthState)}function mv(n){let{auth:t,user:e}=n;return P(e,t,"internal-error"),sv(e,new Pi(n),n.bypassAuthState)}function gv(n){return d(this,null,function*(){let{auth:t,user:e}=n;return P(e,t,"internal-error"),rv(e,new Pi(n),n.bypassAuthState)})}var da=class{constructor(t,e,i,r,s=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise((t,e)=>d(this,null,function*(){this.pendingPromise={resolve:t,reject:e};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(t){return d(this,null,function*(){let{urlResponse:e,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}let l={auth:this.auth,requestUri:e,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(l))}catch(c){this.reject(c)}})}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return fv;case"linkViaPopup":case"linkViaRedirect":return gv;case"reauthViaPopup":case"reauthViaRedirect":return mv;default:dn(this.auth,"internal-error")}}resolve(t){un(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){un(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var _v=new hn(2e3,1e4);function Ia(n,t,e){return d(this,null,function*(){if(Ye(n.app))return Promise.reject(at(n,"operation-not-supported-in-this-environment"));let i=pn(n);vy(n,t,Ur);let r=pv(i,e);return new yv(i,"signInViaPopup",t,r).executeNotNull()})}var yv=(()=>{class n extends da{constructor(e,i,r,s,o){super(e,i,s,o),this.provider=r,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){return d(this,null,function*(){let e=yield this.execute();return P(e,this.auth,"internal-error"),e})}onExecution(){return d(this,null,function*(){un(this.filter.length===1,"Popup operations only handle one event");let e=ov();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(at(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(at(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){let e=()=>{var i,r;if(!((r=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(at(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_v.get())};e()}}n.currentPopupAction=null;return n})();var S1=10*60*1e3;var C1=new hn(3e4,6e4);var A1=new hn(5e3,15e3);var k1=encodeURIComponent("fac");var mu="@firebase/auth",gu="1.10.8";var ua=class{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}getToken(t){return d(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(t)}:null})}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;let e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();let e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){P(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function vv(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Iv(n){gt(new Re("auth",(t,{options:e})=>{let i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;P(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});let l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Su(n)},c=new ea(i,r,s,l);return Zy(c,e),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),gt(new Re("auth-internal",t=>{let e=pn(t.getProvider("auth").getImmediate());return(i=>new ua(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),_e(mu,gu,vv(n)),_e(mu,gu,"esm2017")}var bv=5*60,O1=Sd("authIdTokenMaxAge")||bv;function Ev(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}By({loadJS(n){return new Promise((t,e)=>{let i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{let s=at("internal-error");s.customData=r,e(s)},i.type="text/javascript",i.charset="UTF-8",Ev().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Iv("Browser");var Ou="auth",fn=class{constructor(t){return t}},ba=class{constructor(){return Tr(Ou)}};var Ea=new Ji("angularfire2.auth-instances");function _0(n,t){let e=Mo(Ou,n,t);return e&&new fn(e)}function y0(n){return(t,e)=>{let i=t.runOutsideAngular(()=>n(e));return new fn(i)}}var v0={provide:ba,deps:[[new Jt,Ea]]},I0={provide:fn,useFactory:_0,deps:[[new Jt,Ea],ln]};function Pu(n,...t){return _e("angularfire",Bn.full,"auth"),Qi([I0,v0,{provide:Ea,useFactory:y0(n),multi:!0,deps:[ue,Cn,Wn,_i,[new Jt,Cr],...t]}])}var Ru=gi(va,!0,2),Du=gi(Ia,!0,2);function w0(n,t){n&1&&(f(0,"p",13),I(1," Please enter a valid phone number or email "),h())}function T0(n,t){n&1&&(f(0,"p",13),I(1," Password must be at least 6 characters "),h())}function S0(n,t){if(n&1&&(f(0,"div",27),I(1),h()),n&2){let e=m();An("bg-green-100",!e.loginError&&!e.otpError)("bg-red-100",e.loginError||e.otpError)("text-green-800",!e.loginError&&!e.otpError)("text-red-800",e.loginError||e.otpError),_(),me(" ",e.message," ")}}function C0(n,t){n&1&&(f(0,"div",15)(1,"strong",25),I(2,"Incorrect email or password."),M(3,"br"),h(),I(4," Please try again."),M(5,"br"),f(6,"span",28),I(7,"That doesn't look right. Doublecheck your email and password, or reset your password if you've forgotten it."),h(),f(8,"a",29),I(9,"Forgot Password?"),h()())}function A0(n,t){if(n&1&&(f(0,"div",33)(1,"p",40)(2,"strong"),I(3,"User:"),h(),I(4),h(),f(5,"p",40)(6,"strong"),I(7,"Phone:"),h(),I(8),h(),f(9,"p",40)(10,"strong"),I(11,"Email:"),h(),I(12),h()()),n&2){let e=m(2);_(4),lc(" ",e.currentUser.first_name," ",e.currentUser.last_name,""),_(4),me(" ",e.currentUser.phone,""),_(4),me(" ",e.currentUser.email||"Not provided","")}}function k0(n,t){if(n&1&&(f(0,"div",36),I(1),h()),n&2){let e=m(2);_(),me(" ",e.message," ")}}function O0(n,t){if(n&1&&(f(0,"div",37),I(1),h()),n&2){let e=m(2);_(),me(" ",e.message," ")}}function P0(n,t){if(n&1){let e=B();f(0,"div",0)(1,"div",30)(2,"div",4)(3,"h2",31),I(4,"\u{1F510} SMS Verification"),h(),f(5,"p",32),I(6,"Complete the verification to receive SMS code"),h(),E(7,A0,13,4,"div",33),h(),f(8,"div",34),M(9,"div",35),h(),E(10,k0,2,1,"div",36)(11,O0,2,1,"div",37),f(12,"div",38)(13,"button",39),w("click",function(){S(e);let r=m();return C(r.closeRecaptcha())}),I(14," Cancel "),h()()()()}if(n&2){let e=m();_(7),ne(e.currentUser?7:-1),_(3),ne(e.message&&!e.loginError?10:-1),_(),ne(e.message&&e.loginError?11:-1)}}function R0(n,t){if(n&1&&(f(0,"div",51)(1,"p",54),I(2),h()()),n&2){let e=m(2);_(2),Pt(e.message)}}function D0(n,t){if(n&1&&(f(0,"div",51)(1,"p",55),I(2),h()()),n&2){let e=m(2);_(2),Pt(e.message)}}function N0(n,t){if(n&1){let e=B();f(0,"div",51)(1,"p",54),I(2,"SMS Code Expired!"),h(),f(3,"button",56),w("click",function(){S(e);let r=m(2);return C(r.resendOTP())}),I(4," Resend SMS Code "),h()()}if(n&2){let e=m(2);_(3),y("disabled",!e.otpResendEnabled)}}function x0(n,t){if(n&1){let e=B();f(0,"div",51)(1,"p",41),I(2,"Didn't get a code? Click to resend"),h(),f(3,"button",57),w("click",function(){S(e);let r=m(2);return C(r.resendOTP())}),I(4),h()()}if(n&2){let e=m(2);_(3),y("disabled",!e.otpResendEnabled),_(),me(" Resend in ",e.resendCountdown,"s ")}}function L0(n,t){n&1&&(f(0,"p",52),I(1," Please enter the complete SMS code "),h())}function M0(n,t){if(n&1){let e=B();f(0,"div",0)(1,"div",1)(2,"div",4)(3,"h2",31),I(4,"\u{1F4F1} SMS Verification"),h(),f(5,"p",32),I(6,"Please check your phone"),h(),f(7,"p",41),I(8),h()(),f(9,"form",7),w("ngSubmit",function(){S(e);let r=m();return C(r.verifyOTP())}),f(10,"div",42)(11,"label",43),I(12,"SMS Code"),h(),f(13,"div",44)(14,"input",45),w("input",function(r){S(e);let s=m();return C(s.onOTPInputChange(r,"digit2"))}),h(),f(15,"input",46),w("input",function(r){S(e);let s=m();return C(s.onOTPInputChange(r,"digit3"))}),h(),f(16,"input",47),w("input",function(r){S(e);let s=m();return C(s.onOTPInputChange(r,"digit4"))}),h(),f(17,"input",48),w("input",function(r){S(e);let s=m();return C(s.onOTPInputChange(r,"digit5"))}),h(),f(18,"input",49),w("input",function(r){S(e);let s=m();return C(s.onOTPInputChange(r,"digit6"))}),h(),f(19,"input",50),w("input",function(r){S(e);let s=m();return C(s.onOTPInputChange(r))}),h()(),E(20,R0,3,1,"div",51)(21,D0,3,1,"div",51)(22,N0,5,1,"div",51)(23,x0,5,2,"div",51)(24,L0,2,0,"p",52),h(),f(25,"div",38)(26,"button",39),w("click",function(){S(e);let r=m();return C(r.closeOTPModal())}),I(27," Cancel "),h(),f(28,"button",53),I(29," Verify Code "),h()()()()()}if(n&2){let e=m();_(8),me("We've sent a code to ",e.phoneNumber,""),_(),y("formGroup",e.otpForm),_(11),ne(e.message&&(e.otpError||e.loginError)?20:-1),_(),ne(e.message&&!e.otpError&&!e.loginError?21:-1),_(),ne(e.otpExpired?22:-1),_(),ne(!e.otpResendEnabled&&!e.otpExpired?23:-1),_(),ne(e.otpForm.invalid&&e.otpForm.touched?24:-1),_(4),y("disabled",e.otpForm.invalid)}}var $r=class n{constructor(t,e,i,r){this.fb=t;this.auth=e;this.cookieService=i;this.router=r;this.loginForm=this.fb.group({login:["",ge.required],password:["",[ge.minLength(6)]]}),this.otpForm=this.fb.group({digit1:["",[ge.required,ge.pattern(/^[0-9]$/)]],digit2:["",[ge.required,ge.pattern(/^[0-9]$/)]],digit3:["",[ge.required,ge.pattern(/^[0-9]$/)]],digit4:["",[ge.required,ge.pattern(/^[0-9]$/)]],digit5:["",[ge.required,ge.pattern(/^[0-9]$/)]],digit6:["",[ge.required,ge.pattern(/^[0-9]$/)]]})}authInstance=X(fn);close=new j;loginForm;otpForm;showOTPModal=!1;loginError=!1;phoneNumber="";tokenExist="";otpExpired=!1;otpResendEnabled=!1;countdownInterval;resendCountdown=30;userLogin="";otpError=!1;recaptchaVerifier=null;confirmationResult=null;message="";recaptchaWidgetId=null;isPhoneLoginFlow=!1;recaptchaLoaded=!1;pendingUserId=null;currentUser=null;showRecaptcha=!1;ngOnInit(){this.onLoginInputChange(),this.loadRecaptcha()}loadRecaptcha(){if(document.querySelector('script[src*="recaptcha"]')){this.recaptchaLoaded=!0;return}let t=document.createElement("script");t.src="https://www.google.com/recaptcha/api.js?render=explicit",t.async=!0,t.defer=!0,t.onload=()=>{this.recaptchaLoaded=!0,console.log("reCAPTCHA script loaded")},t.onerror=()=>{console.error("Failed to load reCAPTCHA script"),this.message="Failed to load verification system"},document.head.appendChild(t)}initRecaptcha(){return d(this,null,function*(){try{let t=document.getElementById("recaptcha-container");if(!t)throw new Error("Recaptcha container not found");if(t.innerHTML="",this.recaptchaVerifier){try{this.recaptchaVerifier.clear()}catch{console.log("Previous verifier already cleared")}this.recaptchaVerifier=null}console.log("Initializing reCAPTCHA for phone:",this.phoneNumber),this.recaptchaVerifier=new Oi(this.authInstance,"recaptcha-container",{size:"normal",callback:e=>{console.log("reCAPTCHA verified, response:",e.substring(0,50)+"..."),this.sendFirebaseOTP()},"expired-callback":()=>{console.log("reCAPTCHA expired"),this.message="reCAPTCHA expired. Please try again.",this.loginError=!0},"error-callback":e=>{console.error("reCAPTCHA error:",e),this.message="reCAPTCHA error. Please try again.",this.loginError=!0}}),console.log("Rendering reCAPTCHA..."),yield this.recaptchaVerifier.render(),console.log("reCAPTCHA rendered successfully")}catch(t){throw console.error("Error initializing reCAPTCHA:",t),this.message="Failed to initialize verification. Please refresh the page.",this.loginError=!0,t}})}formatPhoneNumber(t){let e=t.replace(/\D/g,"");return t.startsWith("+")?t:e.startsWith("00")?"+"+e.substring(2):e.startsWith("0")&&e.length===10?"+212"+e.substring(1):e.length===9&&(e.startsWith("6")||e.startsWith("7"))?"+212"+e:t.startsWith("+")?t:"+"+e}onSubmit(){return d(this,null,function*(){if(this.loginForm.invalid){this.loginForm.markAllAsTouched();return}let t=this.loginForm.get("login")?.value?.trim()||"",e=this.loginForm.get("password")?.value?.trim()||"";this.isEmail(t)?this.auth.loginWithEmailPassword(t,e).subscribe({next:i=>{this.message="Connexion r\xE9ussie (email)",this.closeModal()},error:i=>{this.message=i.error?.message||"Erreur email",this.loginError=!0}}):this.isPhone(t)?yield this.handlePhonePasswordLogin(t,e):(this.message="Email ou num\xE9ro invalide",this.loginError=!0)})}handlePhonePasswordLogin(t,e){return d(this,null,function*(){try{let i=this.formatPhoneNumber(t);this.phoneNumber=i;let r=yield this.auth.loginWithPhonePassword(i,e).toPromise();r.requiresFirebaseOTP?(this.currentUser=r,this.pendingUserId=r.user_id,this.showRecaptcha=!0,this.message="Please complete the reCAPTCHA verification to receive SMS code",setTimeout(()=>{this.initRecaptcha()},100)):this.handleSuccessfulLogin(r.token,r.user)}catch(i){this.message=i.error?.message||"Login failed",this.loginError=!0}})}sendFirebaseOTP(){return d(this,null,function*(){try{if(!this.recaptchaVerifier)throw new Error("reCAPTCHA not initialized");if(!this.phoneNumber)throw new Error("Phone number not set");console.log("Sending Firebase OTP to:",this.phoneNumber),this.message="Sending SMS code...",this.loginError=!1,this.confirmationResult=yield Ru(this.authInstance,this.phoneNumber,this.recaptchaVerifier),console.log("SMS sent successfully, confirmationResult:",this.confirmationResult),this.showRecaptcha=!1,this.showOTPModal=!0,this.startOTPCountdown(),this.message="SMS code sent successfully to "+this.phoneNumber}catch(t){if(console.error("Firebase SMS Error:",t),console.error("Error code:",t.code),console.error("Error message:",t.message),this.message=this.getFirebaseErrorMessage(t),this.loginError=!0,this.recaptchaVerifier){try{this.recaptchaVerifier.clear()}catch(e){console.log("Error clearing verifier:",e)}this.recaptchaVerifier=null}this.showRecaptcha=!1}})}verifyOTP(){return d(this,null,function*(){if(this.otpForm.invalid){this.otpForm.markAllAsTouched();return}let t=Object.values(this.otpForm.value).join("");this.message="Verifying OTP...";try{let e=yield this.auth.verifyOtp(this.pendingUserId,t).toPromise(),r=yield(yield this.confirmationResult.confirm(t)).user.getIdToken(),s=yield this.auth.completeFirebaseAuth(this.pendingUserId,r).toPromise();this.handleSuccessfulLogin(s.token,s.user),this.showOTPModal=!1,this.closeModal()}catch(e){console.error("OTP Verification Error:",e),e.code&&e.code.includes("auth/")?this.message=this.getFirebaseErrorMessage(e):this.message=e.error?.message||"OTP verification failed",this.otpError=!0}})}getFirebaseErrorMessage(t){switch(t.code){case"auth/invalid-phone-number":return"Invalid phone number format. Please use international format (+country code)";case"auth/too-many-requests":return"Too many attempts. Please try again later.";case"auth/captcha-check-failed":return"reCAPTCHA verification failed. Please try again.";case"auth/invalid-verification-code":return"Invalid OTP code. Please check and try again.";case"auth/code-expired":return"OTP code expired. Please request a new one.";case"auth/quota-exceeded":return"SMS quota exceeded. Please try again later.";default:return t.message||"An error occurred. Please try again."}}loginWithGoogle(){return d(this,null,function*(){let t=new _a;try{let r=yield(yield Du(this.authInstance,t)).user.getIdToken();this.auth.loginWithFirebaseToken(r).subscribe({next:s=>{s.token&&this.handleSuccessfulLogin(s.token,s.user)},error:s=>{console.error("Backend login error:",s),this.message="Google login failed"}})}catch(e){console.error("Google login error:",e),this.message="Google login error"}})}isEmail(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}isPhone(t){return/^[\+]?[0-9\s\-\(\)]{8,20}$/.test(t)}onLoginInputChange(){let t=this.loginForm.get("login")?.value,e=this.loginForm.get("password");this.isPhone(t)?(e?.clearValidators(),e?.setErrors(null)):e?.setValidators([ge.required,ge.minLength(6)]),e?.updateValueAndValidity()}handleSuccessfulLogin(t,e){this.cookieService.set("token",t,{secure:!1,sameSite:"Strict",path:"/",expires:7}),this.auth.saveToken(t),this.auth.setLoggedIn(!0),this.auth.fetchUserProfile&&this.auth.fetchUserProfile(),this.router.navigate(["/home"])}closeModal(){this.close.emit(),this.resetComponent()}closeOTPModal(){this.showOTPModal=!1,this.otpError=!1,this.clearOTPForm(),this.clearCountdown()}closeRecaptcha(){this.showRecaptcha=!1,this.recaptchaVerifier&&(this.recaptchaVerifier.clear(),this.recaptchaVerifier=null)}resetComponent(){this.showOTPModal=!1,this.showRecaptcha=!1,this.loginError=!1,this.otpError=!1,this.message="",this.currentUser=null,this.pendingUserId=null,this.phoneNumber="",this.clearOTPForm(),this.clearCountdown(),this.recaptchaVerifier&&(this.recaptchaVerifier.clear(),this.recaptchaVerifier=null)}clearOTPForm(){this.otpForm.reset()}clearCountdown(){this.countdownInterval&&clearInterval(this.countdownInterval)}startOTPCountdown(){this.otpResendEnabled=!1,this.resendCountdown=30,this.countdownInterval=setInterval(()=>{this.resendCountdown--,this.resendCountdown<=0&&(this.otpResendEnabled=!0,this.otpExpired=!0,this.clearCountdown())},1e3)}resendOTP(){return d(this,null,function*(){if(this.otpResendEnabled){this.otpExpired=!1,this.otpError=!1,this.clearOTPForm(),this.showOTPModal=!1,this.showRecaptcha=!0,this.message="Complete reCAPTCHA to resend SMS code";try{yield this.initRecaptcha()}catch(t){console.error("Error initializing reCAPTCHA for resend:",t),this.message="Error initializing verification. Please try again.",this.showRecaptcha=!1,this.showOTPModal=!0}}})}onOTPInputChange(t,e){let i=t.target,r=i.value;if(r&&!/^[0-9]$/.test(r)){i.value="";return}if(r&&e){let s=document.getElementById(e);s&&s.focus()}if(!r&&t.inputType==="deleteContentBackward"){let s=["digit1","digit2","digit3","digit4","digit5","digit6"],o=s.indexOf(i.id);if(o>0){let a=document.getElementById(s[o-1]);a&&a.focus()}}}ngOnDestroy(){this.clearCountdown(),this.recaptchaVerifier&&this.recaptchaVerifier.clear()}static \u0275fac=function(e){return new(e||n)($(Rc),$(st),$(Hn),$(Dn))};static \u0275cmp=q({type:n,selectors:[["app-login-modal"]],outputs:{close:"close"},decls:41,vars:9,consts:[[1,"fixed","inset-0","z-50","bg-gray","bg-opacity-50","backdrop-blur-sm","flex","items-center","justify-center"],[1,"bg-white","rounded-xl","shadow-lg","w-full","max-w-sm","p-6"],[1,"flex","flex-col","items-center","mb-6"],["src","/pictures/dabapplogo.svg","alt","Dab",1,"w-12","h-12","mb-2"],[1,"text-center","mb-6"],[1,"text-base","font-medium","text-gray-800"],[1,"text-sm","text-gray-500","mt-1"],[3,"ngSubmit","formGroup"],[1,"mb-4"],[1,"block","text-sm","font-medium","text-gray-700"],["type","text","placeholder","+212612345678 or email@example.com","formControlName","login","required","",1,"w-full","mt-1","px-3","py-2","text-black","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-red-400",3,"input"],["class","text-sm text-red-600 mt-1",4,"ngIf"],["type","password","placeholder","Enter password","formControlName","password",1,"w-full","mt-1","px-3","py-2","text-black","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-red-400",3,"required"],[1,"text-sm","text-red-600","mt-1"],[1,"mb-4","p-3","rounded-lg","text-sm",3,"bg-green-100","bg-red-100","text-green-800","text-red-800"],[1,"bg-red-100","border","border-red-400","px-4","py-3","rounded-lg","mt-4","text-sm"],[1,"space-y-2"],["type","submit",1,"w-full","bg-red-500","hover:bg-red-600","disabled:bg-gray-300","text-white","font-semibold","py-2","px-4","rounded-lg",3,"disabled"],["type","button","routerLink","/register",1,"w-full","bg-gray-800","hover:bg-gray-900","text-white","font-semibold","py-2","px-4","rounded-lg",3,"click"],["type","button",1,"w-full","bg-white","border","border-gray-300","text-gray-800","hover:bg-gray-100","py-2","px-4","rounded-lg","flex","items-center","justify-center","gap-2",3,"click"],["viewBox","0 0 533.5 544.3","xmlns","http://www.w3.org/2000/svg",1,"w-5","h-5"],["fill","#4285f4","d","M533.5 278.4c0-17.4-1.6-34.1-4.6-50.4H272v95.3h146.9c-6.3 34-25.1 62.8-53.4 82.1v68h86.4c50.6-46.7 81.6-115.5 81.6-194.9z"],["fill","#34a853","d","M272 544.3c72.6 0 133.6-24 178.2-65.2l-86.4-68c-24 16-54.8 25.5-91.8 25.5-70.6 0-130.4-47.7-151.8-111.7h-89v69.9c44.5 88.1 136.3 149.5 240.8 149.5z"],["fill","#fbbc04","d","M120.2 324.9c-10.1-29.7-10.1-61.6 0-91.3v-69.9h-89c-38.2 75.6-38.2 165.5 0 241.1l89-69.9z"],["fill","#ea4335","d","M272 107.7c39.5 0 75 13.6 102.9 40.3l77.3-77.3C405.5 24 344.6 0 272 0c-104.5 0-196.3 61.4-240.8 149.5l89 69.9c21.3-64 81.1-111.7 151.8-111.7z"],[1,"font-medium"],["type","button",1,"w-full","bg-gray-100","hover:bg-gray-200","text-gray-800","font-semibold","py-2","px-4","rounded-lg",3,"click"],[1,"mb-4","p-3","rounded-lg","text-sm"],[1,"block","mt-1"],["href","#",1,"text-red-500","font-semibold","block","mt-2"],[1,"bg-white","rounded-xl","shadow-lg","w-full","max-w-md","p-6"],[1,"text-lg","font-semibold","text-gray-800"],[1,"text-sm","text-gray-600","mt-2"],[1,"mt-4","p-3","bg-blue-50","rounded-lg"],[1,"flex","justify-center","mb-6"],["id","recaptcha-container"],[1,"mb-4","p-3","bg-blue-100","text-blue-800","rounded-lg","text-sm","text-center"],[1,"mb-4","p-3","bg-red-100","text-red-800","rounded-lg","text-sm","text-center"],[1,"flex","space-x-3"],["type","button",1,"flex-1","bg-gray-100","hover:bg-gray-200","text-gray-800","font-semibold","py-2","px-4","rounded-lg","border","border-gray-300",3,"click"],[1,"text-sm","text-gray-700"],[1,"text-sm","text-gray-600"],[1,"mb-6"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"flex","justify-between","gap-2"],["id","digit1","type","text","maxlength","1","formControlName","digit1",1,"w-12","h-14","text-center","border","border-blue-500","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-red-400","text-black",3,"input"],["id","digit2","type","text","maxlength","1","formControlName","digit2",1,"w-12","h-14","text-center","border","border-blue-500","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-red-400","text-black",3,"input"],["id","digit3","type","text","maxlength","1","formControlName","digit3",1,"w-12","h-14","text-center","border","border-blue-500","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-red-400","text-black",3,"input"],["id","digit4","type","text","maxlength","1","formControlName","digit4",1,"w-12","h-14","text-center","border","border-blue-500","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-red-400","text-black",3,"input"],["id","digit5","type","text","maxlength","1","formControlName","digit5",1,"w-12","h-14","text-center","border","border-blue-500","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-red-400","text-black",3,"input"],["id","digit6","type","text","maxlength","1","formControlName","digit6",1,"w-12","h-14","text-center","border","border-blue-500","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-red-400","text-black",3,"input"],[1,"mt-4","text-center"],[1,"text-sm","text-red-600","mt-2","text-center"],["type","submit",1,"flex-1","bg-red-500","hover:bg-red-600","disabled:bg-gray-300","text-white","font-semibold","py-2","px-4","rounded-lg",3,"disabled"],[1,"text-sm","text-red-600"],[1,"text-sm","text-green-600"],["type","button",1,"text-sm","text-blue-600","hover:text-blue-800","disabled:text-gray-400",3,"click","disabled"],["type","button",1,"text-sm","font-semibold","text-gray-400","focus:outline-none",3,"click","disabled"]],template:function(e,i){if(e&1&&(f(0,"div",0)(1,"div",1)(2,"div",2),M(3,"img",3),h(),f(4,"div",4)(5,"h2",5),I(6,"Please Sign in or create an account"),h(),f(7,"p",6),I(8," To be able to sell or view information, you will"),M(9,"br"),I(10," need to have a Dabapp account "),h()(),f(11,"form",7),w("ngSubmit",function(){return i.onSubmit()}),f(12,"div",8)(13,"label",9),I(14,"Phone Number or Email"),h(),f(15,"input",10),w("input",function(){return i.onLoginInputChange()}),h(),E(16,w0,2,0,"p",11),h(),f(17,"div",8)(18,"label",9),I(19,"Password"),h(),M(20,"input",12),E(21,T0,2,0,"p",13),h(),E(22,S0,2,9,"div",14)(23,C0,10,0,"div",15),f(24,"div",16)(25,"button",17),I(26," Sign in "),h(),f(27,"button",18),w("click",function(){return i.closeModal()}),I(28," Sign Up "),h(),f(29,"button",19),w("click",function(){return i.loginWithGoogle()}),Ct(),f(30,"svg",20),M(31,"path",21)(32,"path",22)(33,"path",23)(34,"path",24),h(),nc(),f(35,"span",25),I(36,"Continue with Google"),h()(),f(37,"button",26),w("click",function(){return i.closeModal()}),I(38," Cancel "),h()()()(),E(39,P0,15,3,"div",0)(40,M0,30,8,"div",0),h()),e&2){let r,s,o,a;_(11),y("formGroup",i.loginForm),_(5),y("ngIf",((r=i.loginForm.get("login"))==null?null:r.invalid)&&((r=i.loginForm.get("login"))==null?null:r.touched)),_(4),y("required",!i.isPhone((s=i.loginForm.get("login"))==null?null:s.value)),_(),ne((o=i.loginForm.get("password"))!=null&&o.invalid&&((o=i.loginForm.get("password"))!=null&&o.touched)?21:-1),_(),ne(i.message?22:-1),_(),ne(i.loginError&&!i.isPhone((a=i.loginForm.get("login"))==null?null:a.value)?23:-1),_(2),y("disabled",i.loginForm.invalid),_(14),ne(i.showRecaptcha?39:-1),_(),ne(i.showOTPModal?40:-1)}},dependencies:[be,Oe,xn,wc,rr,sr,bc,Oc,Pc,Dc,Tc,Sc,Nn],encapsulation:2})};var V0=(n,t)=>({"fa-bars":n,"fa-times":t}),U0=n=>({hidden:n});function z0(n,t){if(n&1){let e=B();f(0,"div",16)(1,"div",17)(2,"a",18),w("click",function(r){return S(e),m(2).navigateToProfile(),C(r.preventDefault())}),I(3," Profile "),h(),f(4,"a",18),w("click",function(r){return S(e),m(2).logout(),C(r.preventDefault())}),I(5," Logout "),h()()()}}function H0(n,t){if(n&1){let e=B();f(0,"ul",11)(1,"li")(2,"a",12),w("click",function(){S(e);let r=m();return r.selectMenu("home"),C(r.toggleMobileMenu())}),I(3,"Home"),h()(),f(4,"li")(5,"a",12),w("click",function(){S(e);let r=m();return r.selectMenu("marketplace"),C(r.toggleMobileMenu())}),I(6,"Marketplace"),h()(),f(7,"li")(8,"a",12),w("click",function(){S(e);let r=m();return r.selectMenu("usedParts"),C(r.toggleMobileMenu())}),I(9,"Used Parts"),h()(),f(10,"li")(11,"a",12),w("click",function(){S(e);let r=m();return r.selectMenu("services"),C(r.toggleMobileMenu())}),I(12,"Services"),h()(),f(13,"li")(14,"a",12),w("click",function(){S(e);let r=m();return r.selectMenu("guide"),C(r.toggleMobileMenu())}),I(15,"Guide"),h()(),f(16,"li")(17,"a",12),w("click",function(){S(e);let r=m();return r.selectMenu("contact-us"),C(r.toggleMobileMenu())}),I(18,"Contact Us"),h()(),f(19,"li")(20,"a",12),w("click",function(){S(e);let r=m();return r.selectMenu("about-us"),C(r.toggleMobileMenu())}),I(21,"About Us"),h()()(),f(22,"div",13)(23,"button",14),w("click",function(){S(e);let r=m();return C(r.toggleDropdown())}),I(24),M(25,"i",15),h(),E(26,z0,6,0,"div",16),h()}if(n&2){let e=m();_(24),me(" ",e.userName," "),_(2),ne(e.showDropdown?26:-1)}}function $0(n,t){if(n&1){let e=B();f(0,"app-login-modal",26),w("close",function(){S(e);let r=m(2);return C(r.showLoginModal=!1)}),h()}}function B0(n,t){if(n&1){let e=B();f(0,"ul",11)(1,"li")(2,"a",19),w("click",function(){S(e);let r=m();return C(r.toggleMobileMenu())}),I(3,"Home"),h()(),f(4,"li")(5,"a",20),w("click",function(){S(e);let r=m();return C(r.toggleMobileMenu())}),I(6,"Motorcycles"),h()(),f(7,"li")(8,"a",21),w("click",function(){S(e);let r=m();return C(r.toggleMobileMenu())}),I(9,"Spare Parts"),h()(),f(10,"li")(11,"a",22),w("click",function(){S(e);let r=m();return C(r.toggleMobileMenu())}),I(12,"Plates"),h()()(),f(13,"div",23)(14,"button",24),w("click",function(){S(e);let r=m();return C(r.openLoginModal())}),I(15,"Sign In"),h(),E(16,$0,1,0,"app-login-modal",25),h()}if(n&2){let e=m();_(16),y("ngIf",e.showLoginModal)}}function W0(n,t){if(n&1){let e=B();f(0,"div",28)(1,"div",17)(2,"a",18),w("click",function(r){return S(e),m(2).navigateToProfile(),C(r.preventDefault())}),I(3," Profile "),h(),f(4,"a",18),w("click",function(r){return S(e),m(2).logout(),C(r.preventDefault())}),I(5," Logout "),h()()()}}function j0(n,t){if(n&1){let e=B();f(0,"div",9)(1,"button",27),w("click",function(){S(e);let r=m();return C(r.toggleDropdown())}),I(2),M(3,"i",15),h(),E(4,W0,6,0,"div",28),h()}if(n&2){let e=m();_(2),me(" ",e.userName," "),_(2),ne(e.showDropdown?4:-1)}}function q0(n,t){if(n&1){let e=B();f(0,"app-login-modal",26),w("close",function(){S(e);let r=m(2);return C(r.showLoginModal=!1)}),h()}}function K0(n,t){if(n&1){let e=B();f(0,"div",10)(1,"button",29),w("click",function(){S(e);let r=m();return C(r.openLoginModal())}),I(2,"Sign In"),h(),E(3,q0,1,0,"app-login-modal",25),h()}if(n&2){let e=m();_(3),y("ngIf",e.showLoginModal)}}var jr=class n{constructor(t,e,i,r,s){this.router=t;this.auth=e;this.cookieService=i;this.translate=r;this.platformId=s;if(this.translate.setDefaultLang("en"),Te(this.platformId)){let o=localStorage.getItem("lang")||"en";this.translate.use(o)}}menuSelected=new j;subNavItems=nt([]);userName="";cities;showDropdown=!1;mobileMenuOpen=!1;selectedCity;currentUser;isLoggedIn=!1;showLoginModal=!1;ngOnInit(){this.auth.isLoggedIn$.subscribe(t=>{this.isLoggedIn=t,t?(this.auth.fetchUserProfileOnce(),this.auth.userProfile$.subscribe(e=>{e&&e.user&&(this.currentUser=e.user,this.userName=e.user.first_name)})):(this.currentUser=void 0,this.userName="")}),this.cities=[{name:"Riyadh",code:"RYD"},{name:"Jeddah",code:"JED"},{name:"Dammam",code:"DAM"}]}switchLang(t){this.translate.use(t),Te(this.platformId)&&localStorage.setItem("lang",t)}selectMenu(t){this.menuSelected.emit(t)}navigateToProfile(){this.showDropdown=!1,this.router.navigate(["/account"])}toggleDropdown(){this.showDropdown=!this.showDropdown}toggleMobileMenu(){this.mobileMenuOpen=!this.mobileMenuOpen}openLoginModal(){this.showLoginModal=!0}onModalClose(){this.showLoginModal=!1}logout(){this.auth.logout().subscribe({next:()=>{this.cookieService.delete("token","/"),localStorage.clear(),sessionStorage.clear(),this.isLoggedIn=!1,this.showLoginModal=!0}})}static \u0275fac=function(e){return new(e||n)($(Dn),$(st),$(Hn),$(hr),$(At))};static \u0275cmp=q({type:n,selectors:[["app-navbar"]],outputs:{menuSelected:"menuSelected"},decls:16,vars:9,consts:[[1,"bg-gray-900","text-white","p-4"],[1,"container","mx-auto","flex","flex-wrap","justify-between","items-center"],[1,"flex","items-center"],["routerLink","/home","src","/pictures/mainLogo.png","alt","Dab",1,"h-8","cursor-pointer"],[1,"flex","items-center","gap-2","ml-4"],[1,"text-sm","px-3","py-1","rounded","bg-gray-700","hover:bg-gray-600",3,"click"],[1,"md:hidden","text-white","focus:outline-none",3,"click"],[1,"fa-solid",3,"ngClass"],[1,"w-full","md:flex","md:w-auto","md:items-center","mt-4","md:mt-0",3,"ngClass"],[1,"hidden","md:block","relative","profile-dropdown"],[1,"hidden","md:block"],[1,"flex","flex-col","md:flex-row","md:space-x-4","space-y-2","md:space-y-0","mb-4","md:mb-0"],[1,"block","hover:text-gray-300","cursor-pointer",3,"click"],[1,"md:hidden","mb-4","profile-dropdown"],[1,"bg-white","px-4","py-2","rounded-lg","text-black","flex","items-center","gap-2","w-full","justify-center",3,"click"],[1,"fa-regular","fa-user"],[1,"mt-2","bg-white","rounded-md","shadow-lg","z-50"],[1,"py-1","cursor-pointer"],[1,"block","px-4","py-2","text-gray-800","hover:bg-gray-100",3,"click"],["routerLink","/home",1,"block","hover:text-gray-300",3,"click"],["routerLink","/motorcycles",1,"block","hover:text-gray-300",3,"click"],["routerLink","/spareparts",1,"block","hover:text-gray-300",3,"click"],["routerLink","/plates",1,"block","hover:text-gray-300",3,"click"],[1,"md:hidden","mb-4"],[3,"click"],[3,"close",4,"ngIf"],[3,"close"],[1,"bg-white","px-4","py-2","rounded-lg","text-black","flex","items-center","gap-2","cursor-pointer",2,"background-color","#fff",3,"click"],[1,"absolute","right-0","mt-2","w-48","bg-white","rounded-md","shadow-lg","z-50"],[1,"px-4","py-2","rounded-lg","text-white",2,"background-color","#F03D24",3,"click"]],template:function(e,i){e&1&&(f(0,"nav",0)(1,"div",1)(2,"div",2),M(3,"img",3),h(),f(4,"div",4)(5,"button",5),w("click",function(){return i.switchLang("en")}),I(6,"EN"),h(),f(7,"button",5),w("click",function(){return i.switchLang("ar")}),I(8,"AR"),h()(),f(9,"button",6),w("click",function(){return i.toggleMobileMenu()}),M(10,"i",7),h(),f(11,"div",8),E(12,H0,27,2)(13,B0,17,1),h(),E(14,j0,5,2,"div",9)(15,K0,4,1,"div",10),h()()),e&2&&(_(10),y("ngClass",rt(4,V0,!i.mobileMenuOpen,i.mobileMenuOpen)),_(),y("ngClass",ee(7,U0,!i.mobileMenuOpen)),_(),ne(i.isLoggedIn?12:13),_(2),ne(i.isLoggedIn?14:15))},dependencies:[be,ft,Oe,ir,Nn,xn,pr,zn,$r],styles:["nav[_ngcontent-%COMP%]{z-index:1000}@media (max-width: 768px){nav[_ngcontent-%COMP%]   div[class*=w-full][_ngcontent-%COMP%]{transition:max-height .3s ease-in-out;overflow:hidden}nav[_ngcontent-%COMP%]   div.hidden[_ngcontent-%COMP%]{max-height:0}nav[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:not(.hidden){max-height:100vh;padding-bottom:.5rem}}button[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #4299e180}.profile-dropdown[_ngcontent-%COMP%]{position:relative}.z-50[_ngcontent-%COMP%]{z-index:50}a[_ngcontent-%COMP%]:hover{transition:all .2s ease}"]})};var qr=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=q({type:n,selectors:[["app-footer"]],decls:55,vars:0,consts:[[1,"footer"],[1,"footer-content"],[1,"footer-section"],["href","/"],["href","/products"],["href","/profile"],["href","/affiliate"],["href","/about-us"],["href","/contact-us"],["href","/privacy"],["href","/terms"],["href","/return-policy"],[1,"footer-bottom"],[1,"footer-logo"],["routerLink","/home","routerLinkActive","router-link-active","src","/pictures/footerLogo.png","alt","DabApp Logo"],[1,"social-icons"],["href","#",1,"facebook"],["href","#",1,"twitter"],["href","#",1,"youtube"],["href","#",1,"instagram"]],template:function(e,i){e&1&&(f(0,"footer",0)(1,"div",1)(2,"div",2)(3,"h3"),I(4,"DabApp"),h(),f(5,"ul")(6,"li")(7,"a",3),I(8,"Home"),h()(),f(9,"li")(10,"a",4),I(11,"Products"),h()(),f(12,"li")(13,"a",5),I(14,"Profile"),h()(),f(15,"li")(16,"a",6),I(17,"Become an Affiliate"),h()()()(),f(18,"div",2)(19,"h3"),I(20,"Company Info"),h(),f(21,"ul")(22,"li")(23,"a",7),I(24,"About Us"),h()(),f(25,"li")(26,"a",8),I(27,"Contact Us"),h()()()(),f(28,"div",2)(29,"h3"),I(30,"Legal"),h(),f(31,"ul")(32,"li")(33,"a",9),I(34,"Privacy Policy"),h()(),f(35,"li")(36,"a",10),I(37,"Terms of Service"),h()(),f(38,"li")(39,"a",11),I(40,"Return Policy"),h()()()()(),f(41,"div",12)(42,"div",13),M(43,"img",14),f(44,"p"),I(45,"\xA9 2025 DabApp Technologies - All rights reserved"),h(),f(46,"div",15)(47,"a",16),I(48,"Facebook"),h(),f(49,"a",17),I(50,"Twitter"),h(),f(51,"a",18),I(52,"YouTube"),h(),f(53,"a",19),I(54,"Instagram"),h()()()()())},styles:[".footer[_ngcontent-%COMP%]{background-color:#00263a;color:#fff;padding:40px 20px;font-family:Arial,sans-serif}.footer-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;max-width:1200px;margin:0 auto}.footer-section[_ngcontent-%COMP%]{text-align:left}.footer-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:15px;font-size:16px}.footer-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.footer-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px}.footer-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}.footer-bottom[_ngcontent-%COMP%]{text-align:center;margin-top:15px;padding-top:20px}.footer-logo[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.footer-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;margin-bottom:15px}.social-icons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px;margin-top:15px}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:20px}"]})};function G0(n,t){if(n&1&&(f(0,"option",15),I(1),h()),n&2){let e=t.$implicit;y("value",e.name),_(),me(" ",e.name,`
`)}}function Y0(n,t){if(n&1&&(f(0,"li")(1,"a",19),I(2),h()()),n&2){let e=t.$implicit;_(),y("routerLink",e.path),Y("data-id",e),_(),me(" ",e.name," ")}}function J0(n,t){if(n&1&&(f(0,"div",16)(1,"ul",17),E(2,Y0,3,3,"li",18),h()()),n&2){let e=m();_(2),y("ngForOf",e.getSubMenuItems())}}var Kr=class n{constructor(t,e,i){this.authService=t;this.listingService=e;this.locationService=i}selectedMenu="";value="";selectedCountry="";countries=[];allCities=[];userSub;getSubMenuItems(){return{home:[{name:"Helmets",path:"/helmets"},{name:"Riding Gear",path:"/riding-gear"},{name:"Accessories",path:"/accessories"},{name:"Tires",path:"/tires"},{name:"Aftermarket",path:"/aftermarket"},{name:"Section 1",path:"/section-1"},{name:"Section 2",path:"/section-2"},{name:"Section 3",path:"/section-3"}],marketplace:[{name:"Marketplace 1",path:"/marketplace-1"},{name:"Marketplace 2",path:"/marketplace-2"},{name:"Marketplace 3",path:"/marketplace-3"},{name:"Marketplace 4",path:"/marketplace-4"}],usedParts:[{name:"Motorcycles",path:"/motorcycles"},{name:"Spare Parts",path:"/spare-parts"},{name:"Plates",path:"/plates"}],services:[{name:"Services 1",path:"/services-1"},{name:"Services 2",path:"/services-2"},{name:"Services 3",path:"/services-3"},{name:"Services 4",path:"/services-4"}],guide:[{name:"Guide 1",path:"/guide-1"},{name:"Guide 2",path:"/guide-2"},{name:"Guide 3",path:"/guide-3"},{name:"Guide 4",path:"/guide-4"}],"about-us":[{name:"About Us 1",path:"/about-us-1"},{name:"About Us 2",path:"/about-us-2"},{name:"About Us 3",path:"/about-us-3"},{name:"About Us 4",path:"/about-us-4"}],"contact-us":[{name:"Contact Us 1",path:"/contact-us-1"},{name:"Contact Us 2",path:"/contact-us-2"},{name:"Contact Us 3",path:"/contact-us-3"},{name:"Contact Us 4",path:"/contact-us-4"}]}[this.selectedMenu]||[]}ngOnInit(){this.loadCountries(),this.userSub=this.authService.currentUser$.subscribe(t=>{if(t?.country){let e=this.countries.find(i=>i.name.toLowerCase()===t.country.toLowerCase());e&&(this.selectedCountry=e.name,console.log(" this.selectedCountry: ",this.selectedCountry),console.log("User country matched:",e.name,"-> code:",e.code))}})}loadCountries(){this.listingService.getCityList().subscribe(t=>{this.countries=t.countries,console.log("this.countries: ",this.countries),this.allCities=t.cities})}onCountryChange(t){let e=t.target.value,i=this.countries.find(r=>r.name===e);i&&this.locationService.setSelectedCountry(i)}ngOnChanges(t){t.selectedMenu}ngOnDestroy(){this.userSub?.unsubscribe()}static \u0275fac=function(e){return new(e||n)($(st),$(rd),$(sd))};static \u0275cmp=q({type:n,selectors:[["app-sub-nav"]],inputs:{selectedMenu:"selectedMenu"},features:[Sn],decls:17,vars:4,consts:[[1,"bg-white","shadow-sm","border-b","border-gray-200"],[1,"container","mx-auto","px-4","py-2","flex","flex-col","md:flex-row","md:justify-between","md:items-center","gap-4"],[1,"flex","items-center","gap-1","w-8","text-sm"],[1,"pi","pi-map-marker","text-red-600","text-lg"],[1,"w-full","min-w-[200px]","p-2","rounded-md","hover:border-blue-500","focus:border-blue-500","focus:ring-blue-500","transition-colors","appearance-none","bg-white",3,"ngModelChange","change","ngModel"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"pi","pi-chevron-down","text-gray-500","ml-[-1.5rem]","pointer-events-none"],[1,"relative","w-full","max-w-sm"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","text-gray-500"],["type","text","pInputText","","placeholder","Search...",1,"w-full","pl-10","pr-4","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","placeholder-gray-400","text-sm",3,"ngModelChange","ngModel"],[1,"pi","pi-search"],["class","order-3 md:order-2 mt-2 md:mt-0 w-full md:w-auto overflow-x-auto",4,"ngIf"],[1,"md:order-4","mt-2","md:mt-0","w-full","md:w-auto"],["routerLink","/add-product",1,"bg-red-500","hover:bg-red-600","text-white","px-4","py-2","rounded-lg","text-sm","w-full","md:w-auto",2,"cursor","pointer"],[3,"value"],[1,"order-3","md:order-2","mt-2","md:mt-0","w-full","md:w-auto","overflow-x-auto"],[1,"flex","space-x-3","text-sm","text-gray-600","min-w-max"],[4,"ngFor","ngForOf"],[1,"hover:text-red-500","transition","whitespace-nowrap","py-1","px-1",3,"routerLink"]],template:function(e,i){if(e&1&&(f(0,"div",0)(1,"div",1)(2,"div",2),M(3,"i",3),f(4,"select",4),si("ngModelChange",function(s){return ri(i.selectedCountry,s)||(i.selectedCountry=s),s}),w("change",function(s){return i.onCountryChange(s)}),f(5,"option",5),I(6,"Select a Country"),h(),E(7,G0,2,2,"option",6),h(),M(8,"i",7),h(),f(9,"div",8)(10,"span",9)(11,"input",10),si("ngModelChange",function(s){return ri(i.value,s)||(i.value=s),s}),h(),M(12,"i",11),h()(),E(13,J0,3,1,"div",12),f(14,"div",13)(15,"button",14),I(16," Sell an item "),h()()()()),e&2){let r;_(4),ii("ngModel",i.selectedCountry),_(3),y("ngForOf",i.countries),_(4),ii("ngModel",i.value),_(2),y("ngIf",(r=i.getSubMenuItems())==null?null:r.length)}},dependencies:[be,Rn,Oe,ir,Nn,xn,Ac,kc,rr,Cc,sr,Ec,pr,dr,cr],styles:['.overflow-x-auto[_ngcontent-%COMP%]{-webkit-overflow-scrolling:touch;scrollbar-width:thin;scrollbar-color:rgba(156,163,175,.5) transparent}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar{height:4px}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#9ca3af80;border-radius:2px}.overflow-x-auto[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.5rem .75rem;display:inline-block}[_nghost-%COMP%]     .p-dropdown{width:100%}[_nghost-%COMP%]     .p-dropdown-panel .p-dropdown-items{padding:.5rem 0}[_nghost-%COMP%]     .p-dropdown-panel .p-dropdown-items .p-dropdown-item{padding:.5rem 1rem}@media (max-width: 768px){[_nghost-%COMP%]     .p-dropdown{width:100%;max-width:none}.container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:.5rem}}.text-red-500[_ngcontent-%COMP%], a.active[_ngcontent-%COMP%]{position:relative}.text-red-500[_ngcontent-%COMP%]:after, a.active[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-2px;left:0;width:100%;height:2px;background-color:#ef4444}select[_ngcontent-%COMP%]{background-image:none;padding-right:2rem}select[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #3b82f633}']})};var Gr=class n{constructor(t,e,i){this.auth=t;this.translate=e;this.platformId=i;if(this.translate.setDefaultLang("en"),Te(this.platformId)){let r=this.auth.getToken();this.auth.setLoggedIn(!!r)}}selectedMenu="";handleMenuSelection(t){this.selectedMenu=t}ngOnInit(){}static \u0275fac=function(e){return new(e||n)($(st),$(hr),$(At))};static \u0275cmp=q({type:n,selectors:[["app-root"]],decls:8,vars:1,consts:[[1,"flex","flex-col","min-h-screen"],[3,"menuSelected"],[3,"selectedMenu"],[1,"flex-grow"]],template:function(e,i){e&1&&(f(0,"div",0)(1,"header")(2,"app-navbar",1),w("menuSelected",function(s){return i.handleMenuSelection(s)}),h(),M(3,"app-sub-nav",2),h(),f(4,"main",3),M(5,"router-outlet"),h(),f(6,"footer"),M(7,"app-footer"),h()()),e&2&&(_(3),y("selectedMenu",i.selectedMenu))},dependencies:[yc,jr,qr,Kr,zn],styles:[".main-container[_ngcontent-%COMP%]{margin-top:60px;padding:0 20px}.location-sell[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:15px 0}.location[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;font-weight:500}.location[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#f44336}.sell-btn[_ngcontent-%COMP%]{background:#f44336;color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;font-weight:500}.categories[_ngcontent-%COMP%]{display:flex;gap:20px;padding:15px 0;border-top:1px solid #eee;border-bottom:1px solid #eee;margin-bottom:20px}.category[_ngcontent-%COMP%]{text-decoration:none;color:#333;font-weight:500;padding:5px 0}.category.active[_ngcontent-%COMP%]{color:#f44336;border-bottom:2px solid #f44336}.content-container[_ngcontent-%COMP%]{display:flex;gap:50px;justify-content:space-around}@media (max-width: 992px){.content-container[_ngcontent-%COMP%]{flex-direction:column}}"]})};var Yr=(()=>{class n{http;prefix;suffix;constructor(e,i="/assets/i18n/",r=".json"){this.http=e,this.prefix=i,this.suffix=r}getTranslation(e){return this.http.get(`${this.prefix}${e}${this.suffix}`)}static \u0275fac=function(i){return new(i||n)(Ne(nr),Ne(String),Ne(String))};static \u0275prov=te({token:n,factory:n.\u0275fac})}return n})();function Nu(n){return new U(3e3,!1)}function Q0(){return new U(3100,!1)}function Z0(){return new U(3101,!1)}function X0(n){return new U(3001,!1)}function eI(n){return new U(3003,!1)}function tI(n){return new U(3004,!1)}function Lu(n,t){return new U(3005,!1)}function Mu(){return new U(3006,!1)}function Fu(){return new U(3007,!1)}function Vu(n,t){return new U(3008,!1)}function Uu(n){return new U(3002,!1)}function zu(n,t,e,i,r){return new U(3010,!1)}function Hu(){return new U(3011,!1)}function $u(){return new U(3012,!1)}function Bu(){return new U(3200,!1)}function Wu(){return new U(3202,!1)}function ju(){return new U(3013,!1)}function qu(n){return new U(3014,!1)}function Ku(n){return new U(3015,!1)}function Gu(n){return new U(3016,!1)}function Yu(n,t){return new U(3404,!1)}function nI(n){return new U(3502,!1)}function Ju(n){return new U(3503,!1)}function Qu(){return new U(3300,!1)}function Zu(n){return new U(3504,!1)}function Xu(n){return new U(3301,!1)}function eh(n,t){return new U(3302,!1)}function th(n){return new U(3303,!1)}function nh(n,t){return new U(3400,!1)}function ih(n){return new U(3401,!1)}function rh(n){return new U(3402,!1)}function sh(n,t){return new U(3505,!1)}function yt(n){switch(n.length){case 0:return new nn;case 1:return n[0];default:return new ur(n)}}function Aa(n,t,e=new Map,i=new Map){let r=[],s=[],o=-1,a=null;if(t.forEach(l=>{let c=l.get("offset"),u=c==o,p=u&&a||new Map;l.forEach((g,v)=>{let b=v,A=g;if(v!=="offset")switch(b=n.normalizePropertyName(b,r),A){case li:A=e.get(v);break;case je:A=i.get(v);break;default:A=n.normalizeStyleValue(v,b,A,r);break}p.set(b,A)}),u||s.push(p),a=p,o=c}),r.length)throw nI(r);return s}function Jr(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&Ta(e,"start",n)));break;case"done":n.onDone(()=>i(e&&Ta(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&Ta(e,"destroy",n)));break}}function Ta(n,t,e){let i=e.totalTime,r=!!e.disabled,s=Qr(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,i??n.totalTime,r),o=n._data;return o!=null&&(s._data=o),s}function Qr(n,t,e,i,r="",s=0,o){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function Se(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function ka(n){let t=n.indexOf(":"),e=n.substring(1,t),i=n.slice(t+1);return[e,i]}var iI=typeof document>"u"?null:document.documentElement;function Zr(n){let t=n.parentNode||n.host||null;return t===iI?null:t}function rI(n){return n.substring(1,6)=="ebkit"}var mn=null,xu=!1;function oh(n){mn||(mn=sI()||{},xu=mn.style?"WebkitAppearance"in mn.style:!1);let t=!0;return mn.style&&!rI(n)&&(t=n in mn.style,!t&&xu&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in mn.style)),t}function sI(){return typeof document<"u"?document.body:null}function Oa(n,t){for(;t;){if(t===n)return!0;t=Zr(t)}return!1}function Pa(n,t,e){if(e)return Array.from(n.querySelectorAll(t));let i=n.querySelector(t);return i?[i]:[]}var oI=1e3,Ra="{{",aI="}}",Da="ng-enter",Xr="ng-leave",Ri="ng-trigger",Di=".ng-trigger",Na="ng-animating",es=".ng-animating";function dt(n){if(typeof n=="number")return n;let t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Sa(parseFloat(t[1]),t[2])}function Sa(n,t){switch(t){case"s":return n*oI;default:return n}}function Ni(n,t,e){return n.hasOwnProperty("duration")?n:lI(n,t,e)}function lI(n,t,e){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,s=0,o="";if(typeof n=="string"){let a=n.match(i);if(a===null)return t.push(Nu(n)),{duration:0,delay:0,easing:""};r=Sa(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(s=Sa(parseFloat(l),a[4]));let c=a[5];c&&(o=c)}else r=n;if(!e){let a=!1,l=t.length;r<0&&(t.push(Q0()),a=!0),s<0&&(t.push(Z0()),a=!0),a&&t.splice(l,0,Nu(n))}return{duration:r,delay:s,easing:o}}function ah(n){return n.length?n[0]instanceof Map?n:n.map(t=>new Map(Object.entries(t))):[]}function Qe(n,t,e){t.forEach((i,r)=>{let s=ts(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=i})}function zt(n,t){t.forEach((e,i)=>{let r=ts(i);n.style[r]=""})}function Kn(n){return Array.isArray(n)?n.length==1?n[0]:td(n):n}function lh(n,t,e){let i=t.params||{},r=xa(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(X0(s))})}var Ca=new RegExp(`${Ra}\\s*(.+?)\\s*${aI}`,"g");function xa(n){let t=[];if(typeof n=="string"){let e;for(;e=Ca.exec(n);)t.push(e[1]);Ca.lastIndex=0}return t}function Gn(n,t,e){let i=`${n}`,r=i.replace(Ca,(s,o)=>{let a=t[o];return a==null&&(e.push(eI(o)),a=""),a.toString()});return r==i?n:r}var cI=/-+([a-z0-9])/g;function ts(n){return n.replace(cI,(...t)=>t[1].toUpperCase())}function ch(n,t){return n===0||t===0}function dh(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<t.length;s++){let o=t[s];r.forEach(a=>o.set(a,ns(n,a)))}}return t}function Ce(n,t,e){switch(t.type){case F.Trigger:return n.visitTrigger(t,e);case F.State:return n.visitState(t,e);case F.Transition:return n.visitTransition(t,e);case F.Sequence:return n.visitSequence(t,e);case F.Group:return n.visitGroup(t,e);case F.Animate:return n.visitAnimate(t,e);case F.Keyframes:return n.visitKeyframes(t,e);case F.Style:return n.visitStyle(t,e);case F.Reference:return n.visitReference(t,e);case F.AnimateChild:return n.visitAnimateChild(t,e);case F.AnimateRef:return n.visitAnimateRef(t,e);case F.Query:return n.visitQuery(t,e);case F.Stagger:return n.visitStagger(t,e);default:throw tI(t.type)}}function ns(n,t){return window.getComputedStyle(n)[t]}var Qa=(()=>{class n{validateStyleProperty(e){return oh(e)}containsElement(e,i){return Oa(e,i)}getParentElement(e){return Zr(e)}query(e,i,r){return Pa(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,o,a=[],l){return new nn(r,s)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=te({token:n,factory:n.\u0275fac})}return n})(),_n=class{static NOOP=new Qa},yn=class{};var dI=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),as=class extends yn{normalizePropertyName(t,e){return ts(t)}normalizeStyleValue(t,e,i,r){let s="",o=i.toString().trim();if(dI.has(e)&&i!==0&&i!=="0")if(typeof i=="number")s="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(Lu(t,i))}return o+s}};var ls="*";function uI(n,t){let e=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(i=>hI(i,e,t)):e.push(n),e}function hI(n,t,e){if(n[0]==":"){let l=pI(n,e);if(typeof l=="function"){t.push(l);return}n=l}let i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return e.push(Ku(n)),t;let r=i[1],s=i[2],o=i[3];t.push(uh(r,o));let a=r==ls&&o==ls;s[0]=="<"&&!a&&t.push(uh(o,r))}function pI(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(Gu(n)),"* => *"}}var is=new Set(["true","1"]),rs=new Set(["false","0"]);function uh(n,t){let e=is.has(n)||rs.has(n),i=is.has(t)||rs.has(t);return(r,s)=>{let o=n==ls||n==r,a=t==ls||t==s;return!o&&e&&typeof r=="boolean"&&(o=r?is.has(n):rs.has(n)),!a&&i&&typeof s=="boolean"&&(a=s?is.has(t):rs.has(t)),o&&a}}var bh=":self",fI=new RegExp(`s*${bh}s*,?`,"g");function Eh(n,t,e,i){return new za(n).build(t,e,i)}var hh="",za=class{_driver;constructor(t){this._driver=t}build(t,e,i){let r=new Ha(e);return this._resetContextStyleTimingState(r),Ce(this,Kn(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector=hh,t.collectedStyles=new Map,t.collectedStyles.set(hh,new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0,s=[],o=[];return t.name.charAt(0)=="@"&&e.errors.push(Mu()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),a.type==F.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,e))}),l.name=c}else if(a.type==F.Transition){let l=this.visitTransition(a,e);i+=l.queryCount,r+=l.depCount,o.push(l)}else e.errors.push(Fu())}),{type:F.Trigger,name:t.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(t,e){let i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){let s=new Set,o=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{xa(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&e.errors.push(Vu(t.name,[...s.values()]))}return{type:F.State,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let i=Ce(this,Kn(t.animation),e),r=uI(t.expr,e.errors);return{type:F.Transition,matchers:r,animation:i,queryCount:e.queryCount,depCount:e.depCount,options:gn(t.options)}}visitSequence(t,e){return{type:F.Sequence,steps:t.steps.map(i=>Ce(this,i,e)),options:gn(t.options)}}visitGroup(t,e){let i=e.currentTime,r=0,s=t.steps.map(o=>{e.currentTime=i;let a=Ce(this,o,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:F.Group,steps:s,options:gn(t.options)}}visitAnimate(t,e){let i=yI(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:Un({});if(s.type==F.Keyframes)r=this.visitKeyframes(s,e);else{let o=t.styles,a=!1;if(!o){a=!0;let c={};i.easing&&(c.easing=i.easing),o=Un(c)}e.currentTime+=i.duration+i.delay;let l=this.visitStyle(o,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:F.Animate,timings:i,style:r,options:null}}visitStyle(t,e){let i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){let i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)typeof a=="string"?a===je?i.push(a):e.errors.push(Uu(a)):i.push(new Map(Object.entries(a)));let s=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let l of a.values())if(l.toString().indexOf(Ra)>=0){s=!0;break}}}),{type:F.Style,styles:i,easing:o,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){let i=e.currentAnimateTimings,r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{let c=e.collectedStyles.get(e.currentQuerySelector),u=c.get(l),p=!0;u&&(s!=r&&s>=u.startTime&&r<=u.endTime&&(e.errors.push(zu(l,u.startTime,u.endTime,s,r)),p=!1),s=u.startTime),p&&c.set(l,{startTime:s,endTime:r}),e.options&&lh(a,e.options,e.errors)})})}visitKeyframes(t,e){let i={type:F.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(Hu()),i;let r=1,s=0,o=[],a=!1,l=!1,c=0,u=t.steps.map(O=>{let D=this._makeStyleAst(O,e),V=D.offset!=null?D.offset:_I(D.styles),H=0;return V!=null&&(s++,H=D.offset=V),l=l||H<0||H>1,a=a||H<c,c=H,o.push(H),D});l&&e.errors.push($u()),a&&e.errors.push(Bu());let p=t.steps.length,g=0;s>0&&s<p?e.errors.push(Wu()):s==0&&(g=r/(p-1));let v=p-1,b=e.currentTime,A=e.currentAnimateTimings,T=A.duration;return u.forEach((O,D)=>{let V=g>0?D==v?1:g*D:o[D],H=V*T;e.currentTime=b+A.delay+H,A.duration=H,this._validateStyleAst(O,e),O.offset=V,i.styles.push(O)}),i}visitReference(t,e){return{type:F.Reference,animation:Ce(this,Kn(t.animation),e),options:gn(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:F.AnimateChild,options:gn(t.options)}}visitAnimateRef(t,e){return{type:F.AnimateRef,animation:this.visitReference(t.animation,e),options:gn(t.options)}}visitQuery(t,e){let i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;let[s,o]=mI(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,Se(e.collectedStyles,e.currentQuerySelector,new Map);let a=Ce(this,Kn(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:F.Query,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:gn(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(ju());let i=t.timings==="full"?{duration:0,delay:0,easing:"full"}:Ni(t.timings,e.errors,!0);return{type:F.Stagger,animation:Ce(this,Kn(t.animation),e),timings:i,options:null}}};function mI(n){let t=!!n.split(/\s*,\s*/).find(e=>e==bh);return t&&(n=n.replace(fI,"")),n=n.replace(/@\*/g,Di).replace(/@\w+/g,e=>Di+"-"+e.slice(1)).replace(/:animating/g,es),[n,t]}function gI(n){return n?L({},n):null}var Ha=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(t){this.errors=t}};function _I(n){if(typeof n=="string")return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){let i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function yI(n,t){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let s=Ni(n,t).duration;return La(s,0,"")}let e=n;if(e.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=La(0,0,"");return s.dynamic=!0,s.strValue=e,s}let r=Ni(e,t);return La(r.duration,r.delay,r.easing)}function gn(n){return n?(n=L({},n),n.params&&(n.params=gI(n.params))):n={},n}function La(n,t,e){return{duration:n,delay:t,easing:e}}function Za(n,t,e,i,r,s,o=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}var Li=class{_map=new Map;get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},vI=1,II=":enter",bI=new RegExp(II,"g"),EI=":leave",wI=new RegExp(EI,"g");function wh(n,t,e,i,r,s=new Map,o=new Map,a,l,c=[]){return new $a().buildKeyframes(n,t,e,i,r,s,o,a,l,c)}var $a=class{buildKeyframes(t,e,i,r,s,o,a,l,c,u=[]){c=c||new Li;let p=new Ba(t,e,c,r,s,u,[]);p.options=l;let g=l.delay?dt(l.delay):0;p.currentTimeline.delayNextStep(g),p.currentTimeline.setStyles([o],null,p.errors,l),Ce(this,i,p);let v=p.timelines.filter(b=>b.containsAnimation());if(v.length&&a.size){let b;for(let A=v.length-1;A>=0;A--){let T=v[A];if(T.element===e){b=T;break}}b&&!b.allowOnlyTimelineStyles()&&b.setStyles([a],null,p.errors,l)}return v.length?v.map(b=>b.buildKeyframes()):[Za(e,[],[],[],0,g,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let i=e.subInstructions.get(e.element);if(i){let r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){let i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(let r of t){let s=r?.delay;if(s){let o=typeof s=="number"?s:dt(Gn(s,r?.params??{},e.errors));i.delayNextStep(o)}}}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime,o=i.duration!=null?dt(i.duration):null,a=i.delay!=null?dt(i.delay):null;return o!==0&&t.forEach(l=>{let c=e.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Ce(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let i=e.subContextCount,r=e,s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),s.delay!=null)){r.previousNode.type==F.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=cs);let o=dt(s.delay);r.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>Ce(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let i=[],r=e.currentTimeline.currentTime,s=t.options&&t.options.delay?dt(t.options.delay):0;t.steps.forEach(o=>{let a=e.createSubContext(t.options);s&&a.delayNextStep(s),Ce(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let i=t.strValue,r=e.params?Gn(i,e.params,e.errors):i;return Ni(r,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());let s=t.style;s.type==F.Keyframes?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*s),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){let i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?dt(r.delay):0;s&&(e.previousNode.type===F.Style||i==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=cs);let o=i,a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{e.currentQueryIndex=u;let p=e.createSubContext(t.options,c);s&&p.delayNextStep(s),c===e.element&&(l=p.currentTimeline),Ce(this,t.animation,p),p.currentTimeline.applyStylesToKeyframe();let g=p.currentTimeline.currentTime;o=Math.max(o,g)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let i=e.parentContext,r=e.currentTimeline,s=t.timings,o=Math.abs(s.duration),a=o*(e.currentQueryTotal-1),l=o*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime;break}let u=e.currentTimeline;l&&u.delayNextStep(l);let p=u.currentTime;Ce(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-p+(r.startTime-i.currentTimeline.startTime)}},cs={},Ba=class n{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=cs;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(t,e,i,r,s,o,a,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.currentTimeline=l||new ds(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let i=t,r=this.options;i.duration!=null&&(r.duration=dt(i.duration)),i.delay!=null&&(r.delay=dt(i.delay));let s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!e||!o.hasOwnProperty(a))&&(o[a]=Gn(s[a],o,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){let r=e||this.element,s=new n(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=cs,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){let r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new Wa(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,o){let a=[];if(r&&a.push(this.element),t.length>0){t=t.replace(bI,"."+this._enterClassName),t=t.replace(wI,"."+this._leaveClassName);let l=i!=1,c=this._driver.query(this.element,t,l);i!==0&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!s&&a.length==0&&o.push(qu(e)),a}},ds=class n{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new n(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=vI,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||je),this._currentKeyframe.set(e,je);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);let s=r&&r.params||{},o=TI(t,this._globalTimelineStyles);for(let[a,l]of o){let c=Gn(l,s,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??je),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{let r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((u,p)=>{u===li?t.add(p):u===je&&e.add(p)}),i||c.set("offset",l/this.duration),r.push(c)});let s=[...t.values()],o=[...e.values()];if(i){let a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return Za(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}},Wa=class extends ds{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(t,e,i,r,s,o,a=!1){super(t,e,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){let s=[],o=i+e,a=e/o,l=new Map(t[0]);l.set("offset",0),s.push(l);let c=new Map(t[0]);c.set("offset",ph(a)),s.push(c);let u=t.length-1;for(let p=1;p<=u;p++){let g=new Map(t[p]),v=g.get("offset"),b=e+v*i;g.set("offset",ph(b/o)),s.push(g)}i=o,e=0,r="",t=s}return Za(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}};function ph(n,t=3){let e=Math.pow(10,t-1);return Math.round(n*e)/e}function TI(n,t){let e=new Map,i;return n.forEach(r=>{if(r==="*"){i??=t.keys();for(let s of i)e.set(s,je)}else for(let[s,o]of r)e.set(s,o)}),e}function fh(n,t,e,i,r,s,o,a,l,c,u,p,g){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:p,errors:g}}var Ma={},us=class{_triggerName;ast;_stateStyles;constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return SI(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return t!==void 0&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,s,o,a,l,c,u){let p=[],g=this.ast.options&&this.ast.options.params||Ma,v=a&&a.params||Ma,b=this.buildStyles(i,v,p),A=l&&l.params||Ma,T=this.buildStyles(r,A,p),O=new Set,D=new Map,V=new Map,H=r==="void",pe={params:Th(A,g),delay:this.ast.options?.delay},ae=u?[]:wh(t,e,this.ast.animation,s,o,b,T,pe,c,p),ce=0;return ae.forEach(ye=>{ce=Math.max(ye.duration+ye.delay,ce)}),p.length?fh(e,this._triggerName,i,r,H,b,T,[],[],D,V,ce,p):(ae.forEach(ye=>{let Ve=ye.element,wt=Se(D,Ve,new Set);ye.preStyleProps.forEach(Gt=>wt.add(Gt));let jl=Se(V,Ve,new Set);ye.postStyleProps.forEach(Gt=>jl.add(Gt)),Ve!==e&&O.add(Ve)}),fh(e,this._triggerName,i,r,H,b,T,ae,[...O.values()],D,V,ce))}};function SI(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}function Th(n,t){let e=L({},t);return Object.entries(n).forEach(([i,r])=>{r!=null&&(e[i]=r)}),e}var ja=class{styles;defaultParams;normalizer;constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){let i=new Map,r=Th(t,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=Gn(o,r,e));let l=this.normalizer.normalizePropertyName(a,e);o=this.normalizer.normalizeStyleValue(a,l,o,e),i.set(a,o)})}),i}};function CI(n,t,e){return new qa(n,t,e)}var qa=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,e.states.forEach(r=>{let s=r.options&&r.options.params||{};this.states.set(r.name,new ja(r.style,s,i))}),mh(this.states,"true","1"),mh(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new us(t,r,this.states))}),this.fallbackTransition=AI(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(o=>o.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}};function AI(n,t,e){let i=[(o,a)=>!0],r={type:F.Sequence,steps:[],options:null},s={type:F.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new us(n,s,t)}function mh(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}var kI=new Li,Ka=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i}register(t,e){let i=[],r=[],s=Eh(this._driver,e,i,r);if(i.length)throw Ju(i);this._animations.set(t,s)}_buildPlayer(t,e,i){let r=t.element,s=Aa(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){let r=[],s=this._animations.get(t),o,a=new Map;if(s?(o=wh(this._driver,e,s,Da,Xr,new Map,new Map,i,kI,r),o.forEach(u=>{let p=Se(a,u.element,new Map);u.postStyleProps.forEach(g=>p.set(g,null))})):(r.push(Qu()),o=[]),r.length)throw Zu(r);a.forEach((u,p)=>{u.forEach((g,v)=>{u.set(v,this._driver.computeStyle(p,v,je))})});let l=o.map(u=>{let p=a.get(u.element);return this._buildPlayer(u,new Map,p)}),c=yt(l);return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw Xu(t);return e}listen(t,e,i,r){let s=Qr(e,"","","");return Jr(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if(i=="register"){this.register(t,r[0]);return}if(i=="create"){let o=r[0]||{};this.create(t,e,o);return}let s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t);break}}},gh="ng-animate-queued",OI=".ng-animate-queued",Fa="ng-animate-disabled",PI=".ng-animate-disabled",RI="ng-star-inserted",DI=".ng-star-inserted",NI=[],Sh={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},xI={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ze="__ng_removed",Mi=class{namespaceId;value;options;get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let i=t&&t.hasOwnProperty("value"),r=i?t.value:t;if(this.value=MI(r),i){let s=t,{value:o}=s,a=ti(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let i=this.options.params;Object.keys(e).forEach(r=>{i[r]==null&&(i[r]=e[r])})}}},xi="void",Va=new Mi(xi),Ga=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this._hostClassName="ng-tns-"+t,Fe(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw eh(i,e);if(i==null||i.length==0)throw th(e);if(!FI(i))throw nh(i,e);let s=Se(this._elementListeners,t,[]),o={name:e,phase:i,callback:r};s.push(o);let a=Se(this._engine.statesByElement,t,new Map);return a.has(e)||(Fe(t,Ri),Fe(t,Ri+"-"+e),a.set(e,Va)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw ih(t);return e}trigger(t,e,i,r=!0){let s=this._getTrigger(e),o=new Fi(this.id,e,t),a=this._engine.statesByElement.get(t);a||(Fe(t,Ri),Fe(t,Ri+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e),c=new Mi(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=Va),!(c.value===xi)&&l.value===c.value){if(!zI(l.params,c.params)){let A=[],T=s.matchStyles(l.value,l.params,A),O=s.matchStyles(c.value,c.params,A);A.length?this._engine.reportError(A):this._engine.afterFlush(()=>{zt(t,T),Qe(t,O)})}return}let g=Se(this._engine.playersByElement,t,[]);g.forEach(A=>{A.namespaceId==this.id&&A.triggerName==e&&A.queued&&A.destroy()});let v=s.matchTransition(l.value,c.value,t,c.params),b=!1;if(!v){if(!r)return;v=s.fallbackTransition,b=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:v,fromState:l,toState:c,player:o,isFallbackTransition:b}),b||(Fe(t,gh),o.onStart(()=>{Yn(t,gh)})),o.onDone(()=>{let A=this.players.indexOf(o);A>=0&&this.players.splice(A,1);let T=this._engine.playersByElement.get(t);if(T){let O=T.indexOf(o);O>=0&&T.splice(O,1)}}),this.players.push(o),g.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let i=this._engine.driver.query(t,Di,!0);i.forEach(r=>{if(r[Ze])return;let s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){let s=this._engine.statesByElement.get(t),o=new Map;if(s){let a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){let u=this.trigger(t,c,xi,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,o),i&&yt(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){let r=new Set;e.forEach(s=>{let o=s.name;if(r.has(o))return;r.add(o);let l=this._triggers.get(o).fallbackTransition,c=i.get(o)||Va,u=new Mi(xi),p=new Fi(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:l,fromState:c,toState:u,player:p,isFallbackTransition:!0})})}}removeNode(t,e){let i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){let s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let o=t;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{let s=t[Ze];(!s||s===Sh)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Fe(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){let l=Qr(s,i.triggerName,i.fromState.value,i.toState.value);l._data=t,Jr(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{let s=i.transition.ast.depCount,o=r.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},Ya=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(t,e)=>{};_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){let i=new Ga(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(e);for(;a;){let l=r.get(a);if(l){let c=i.indexOf(l);i.splice(c+1,0,t),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,i=this.statesByElement.get(t);if(i){for(let r of i.values())if(r.namespaceId){let s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}}return e}trigger(t,e,i,r){if(ss(e)){let s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!ss(e))return;let s=e[Ze];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){let o=this._fetchNamespace(t);o&&o.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Fe(t,Fa)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Yn(t,Fa))}removeNode(t,e,i){if(ss(e)){let r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);let s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[Ze]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return ss(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,Di,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,es,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return yt(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[Ze];if(e&&e.setForRemoval){if(t[Ze]=Sh,e.namespaceId){this.destroyInnerAnimations(t);let i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(Fa)&&this.markElementAsDisabled(t,!1),this.driver.query(t,PI,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];Fe(r,RI)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],e.length?yt(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw rh(t)}_flushAnimations(t,e){let i=new Li,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(k=>{u.add(k);let R=this.driver.query(k,OI,!0);for(let N=0;N<R.length;N++)u.add(R[N])});let p=this.bodyNode,g=Array.from(this.statesByElement.keys()),v=vh(g,this.collectedEnterElements),b=new Map,A=0;v.forEach((k,R)=>{let N=Da+A++;b.set(R,N),k.forEach(z=>Fe(z,N))});let T=[],O=new Set,D=new Set;for(let k=0;k<this.collectedLeaveElements.length;k++){let R=this.collectedLeaveElements[k],N=R[Ze];N&&N.setForRemoval&&(T.push(R),O.add(R),N.hasAnimation?this.driver.query(R,DI,!0).forEach(z=>O.add(z)):D.add(R))}let V=new Map,H=vh(g,Array.from(O));H.forEach((k,R)=>{let N=Xr+A++;V.set(R,N),k.forEach(z=>Fe(z,N))}),t.push(()=>{v.forEach((k,R)=>{let N=b.get(R);k.forEach(z=>Yn(z,N))}),H.forEach((k,R)=>{let N=V.get(R);k.forEach(z=>Yn(z,N))}),T.forEach(k=>{this.processLeaveNode(k)})});let pe=[],ae=[];for(let k=this._namespaceList.length-1;k>=0;k--)this._namespaceList[k].drainQueuedTransitions(e).forEach(N=>{let z=N.player,de=N.element;if(pe.push(z),this.collectedEnterElements.length){let ve=de[Ze];if(ve&&ve.setForMove){if(ve.previousTriggersValues&&ve.previousTriggersValues.has(N.triggerName)){let Yt=ve.previousTriggersValues.get(N.triggerName),De=this.statesByElement.get(N.element);if(De&&De.has(N.triggerName)){let Gi=De.get(N.triggerName);Gi.value=Yt,De.set(N.triggerName,Gi)}}z.destroy();return}}let et=!p||!this.driver.containsElement(p,de),Ae=V.get(de),Tt=b.get(de),Z=this._buildInstruction(N,i,Tt,Ae,et);if(Z.errors&&Z.errors.length){ae.push(Z);return}if(et){z.onStart(()=>zt(de,Z.fromStyles)),z.onDestroy(()=>Qe(de,Z.toStyles)),r.push(z);return}if(N.isFallbackTransition){z.onStart(()=>zt(de,Z.fromStyles)),z.onDestroy(()=>Qe(de,Z.toStyles)),r.push(z);return}let Gl=[];Z.timelines.forEach(ve=>{ve.stretchStartingKeyframe=!0,this.disabledNodes.has(ve.element)||Gl.push(ve)}),Z.timelines=Gl,i.append(de,Z.timelines);let Qp={instruction:Z,player:z,element:de};o.push(Qp),Z.queriedElements.forEach(ve=>Se(a,ve,[]).push(z)),Z.preStyleProps.forEach((ve,Yt)=>{if(ve.size){let De=l.get(Yt);De||l.set(Yt,De=new Set),ve.forEach((Gi,zs)=>De.add(zs))}}),Z.postStyleProps.forEach((ve,Yt)=>{let De=c.get(Yt);De||c.set(Yt,De=new Set),ve.forEach((Gi,zs)=>De.add(zs))})});if(ae.length){let k=[];ae.forEach(R=>{k.push(sh(R.triggerName,R.errors))}),pe.forEach(R=>R.destroy()),this.reportError(k)}let ce=new Map,ye=new Map;o.forEach(k=>{let R=k.element;i.has(R)&&(ye.set(R,R),this._beforeAnimationBuild(k.player.namespaceId,k.instruction,ce))}),r.forEach(k=>{let R=k.element;this._getPreviousPlayers(R,!1,k.namespaceId,k.triggerName,null).forEach(z=>{Se(ce,R,[]).push(z),z.destroy()})});let Ve=T.filter(k=>Ih(k,l,c)),wt=new Map;yh(wt,this.driver,D,c,je).forEach(k=>{Ih(k,l,c)&&Ve.push(k)});let Gt=new Map;v.forEach((k,R)=>{yh(Gt,this.driver,new Set(k),l,li)}),Ve.forEach(k=>{let R=wt.get(k),N=Gt.get(k);wt.set(k,new Map([...R?.entries()??[],...N?.entries()??[]]))});let Us=[],ql=[],Kl={};o.forEach(k=>{let{element:R,player:N,instruction:z}=k;if(i.has(R)){if(u.has(R)){N.onDestroy(()=>Qe(R,z.toStyles)),N.disabled=!0,N.overrideTotalTime(z.totalTime),r.push(N);return}let de=Kl;if(ye.size>1){let Ae=R,Tt=[];for(;Ae=Ae.parentNode;){let Z=ye.get(Ae);if(Z){de=Z;break}Tt.push(Ae)}Tt.forEach(Z=>ye.set(Z,de))}let et=this._buildAnimation(N.namespaceId,z,ce,s,Gt,wt);if(N.setRealPlayer(et),de===Kl)Us.push(N);else{let Ae=this.playersByElement.get(de);Ae&&Ae.length&&(N.parentPlayer=yt(Ae)),r.push(N)}}else zt(R,z.fromStyles),N.onDestroy(()=>Qe(R,z.toStyles)),ql.push(N),u.has(R)&&r.push(N)}),ql.forEach(k=>{let R=s.get(k.element);if(R&&R.length){let N=yt(R);k.setRealPlayer(N)}}),r.forEach(k=>{k.parentPlayer?k.syncPlayerEvents(k.parentPlayer):k.destroy()});for(let k=0;k<T.length;k++){let R=T[k],N=R[Ze];if(Yn(R,Xr),N&&N.hasAnimation)continue;let z=[];if(a.size){let et=a.get(R);et&&et.length&&z.push(...et);let Ae=this.driver.query(R,es,!0);for(let Tt=0;Tt<Ae.length;Tt++){let Z=a.get(Ae[Tt]);Z&&Z.length&&z.push(...Z)}}let de=z.filter(et=>!et.destroyed);de.length?VI(this,R,de):this.processLeaveNode(R)}return T.length=0,Us.forEach(k=>{this.players.push(k),k.onDone(()=>{k.destroy();let R=this.players.indexOf(k);this.players.splice(R,1)}),k.play()}),Us}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let o=[];if(e){let a=this.playersByQueriedElement.get(t);a&&(o=a)}else{let a=this.playersByElement.get(t);if(a){let l=!s||s==xi;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(t,e,i){let r=e.triggerName,s=e.element,o=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:r;for(let l of e.timelines){let c=l.element,u=c!==s,p=Se(i,c,[]);this._getPreviousPlayers(c,u,o,a,e.toState).forEach(v=>{let b=v.getRealPlayer();b.beforeDestroy&&b.beforeDestroy(),v.destroy(),p.push(v)})}zt(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,o){let a=e.triggerName,l=e.element,c=[],u=new Set,p=new Set,g=e.timelines.map(b=>{let A=b.element;u.add(A);let T=A[Ze];if(T&&T.removedBeforeQueried)return new nn(b.duration,b.delay);let O=A!==l,D=UI((i.get(A)||NI).map(ce=>ce.getRealPlayer())).filter(ce=>{let ye=ce;return ye.element?ye.element===A:!1}),V=s.get(A),H=o.get(A),pe=Aa(this._normalizer,b.keyframes,V,H),ae=this._buildPlayer(b,pe,D);if(b.subTimeline&&r&&p.add(A),O){let ce=new Fi(t,a,A);ce.setRealPlayer(ae),c.push(ce)}return ae});c.forEach(b=>{Se(this.playersByQueriedElement,b.element,[]).push(b),b.onDone(()=>LI(this.playersByQueriedElement,b.element,b))}),u.forEach(b=>Fe(b,Na));let v=yt(g);return v.onDestroy(()=>{u.forEach(b=>Yn(b,Na)),Qe(l,e.toStyles)}),p.forEach(b=>{Se(r,b,[]).push(v)}),v}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new nn(t.duration,t.delay)}},Fi=class{namespaceId;triggerName;element;_player=new nn;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>Jr(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Se(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function LI(n,t,e){let i=n.get(t);if(i){if(i.length){let r=i.indexOf(e);i.splice(r,1)}i.length==0&&n.delete(t)}return i}function MI(n){return n??null}function ss(n){return n&&n.nodeType===1}function FI(n){return n=="start"||n=="done"}function _h(n,t){let e=n.style.display;return n.style.display=t??"none",e}function yh(n,t,e,i,r){let s=[];e.forEach(l=>s.push(_h(l)));let o=[];i.forEach((l,c)=>{let u=new Map;l.forEach(p=>{let g=t.computeStyle(c,p,r);u.set(p,g),(!g||g.length==0)&&(c[Ze]=xI,o.push(c))}),n.set(c,u)});let a=0;return e.forEach(l=>_h(l,s[a++])),o}function vh(n,t){let e=new Map;if(n.forEach(a=>e.set(a,[])),t.length==0)return e;let i=1,r=new Set(t),s=new Map;function o(a){if(!a)return i;let l=s.get(a);if(l)return l;let c=a.parentNode;return e.has(c)?l=c:r.has(c)?l=i:l=o(c),s.set(a,l),l}return t.forEach(a=>{let l=o(a);l!==i&&e.get(l).push(a)}),e}function Fe(n,t){n.classList?.add(t)}function Yn(n,t){n.classList?.remove(t)}function VI(n,t,e){yt(e).onDone(()=>n.processLeaveNode(t))}function UI(n){let t=[];return Ch(n,t),t}function Ch(n,t){for(let e=0;e<n.length;e++){let i=n[e];i instanceof ur?Ch(i.players,t):t.push(i)}}function zI(n,t){let e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){let s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}function Ih(n,t,e){let i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}var Jn=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(t,e)=>{};constructor(t,e,i){this._driver=e,this._normalizer=i,this._transitionEngine=new Ya(t.body,e,i),this._timelineEngine=new Ka(t.body,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){let o=t+"-"+r,a=this._triggerCache[o];if(!a){let l=[],c=[],u=Eh(this._driver,s,l,c);if(l.length)throw Yu(r,l);a=CI(r,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if(i.charAt(0)=="@"){let[s,o]=ka(i),a=r;this._timelineEngine.command(s,e,o,a)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if(i.charAt(0)=="@"){let[o,a]=ka(i);return this._timelineEngine.listen(o,e,a,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function HI(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=Ua(t[0]),t.length>1&&(i=Ua(t[t.length-1]))):t instanceof Map&&(e=Ua(t)),e||i?new $I(n,e,i):null}var $I=(()=>{class n{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Qe(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Qe(this._element,this._initialStyles),this._endStyles&&(Qe(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(zt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(zt(this._element,this._endStyles),this._endStyles=null),Qe(this._element,this._initialStyles),this._state=3)}}return n})();function Ua(n){let t=null;return n.forEach((e,i)=>{BI(i)&&(t=t||new Map,t.set(i,e))}),t}function BI(n){return n==="display"||n==="position"}var hs=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&t.set(r,this._finished?i:ns(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},ps=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return Oa(t,e)}getParentElement(t){return Zr(t)}query(t,e,i){return Pa(t,e,i)}computeStyle(t,e,i){return ns(t,e)}animate(t,e,i,r,s,o=[]){let a=r==0?"both":"forwards",l={duration:i,delay:r,fill:a};s&&(l.easing=s);let c=new Map,u=o.filter(v=>v instanceof hs);ch(i,r)&&u.forEach(v=>{v.currentSnapshot.forEach((b,A)=>c.set(A,b))});let p=ah(e).map(v=>new Map(v));p=dh(t,p,c);let g=HI(t,p);return new hs(t,p,l,g)}};var os="@",Ah="@.disabled",fs=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){e.charAt(0)==os&&e==Ah?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i,r){return this.delegate.listen(t,e,i,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},Ja=class extends fs{factory;constructor(t,e,i,r,s){super(e,i,r,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){e.charAt(0)==os?e.charAt(1)=="."&&e==Ah?(i=i===void 0?!0:!!i,this.disableAnimations(t,i)):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i,r){if(e.charAt(0)==os){let s=WI(t),o=e.slice(1),a="";return o.charAt(0)!=os&&([o,a]=jI(o)),this.engine.listen(this.namespaceId,s,o,a,l=>{let c=l._data||-1;this.factory.scheduleListenerCallback(c,i,l)})}return this.delegate.listen(t,e,i,r)}};function WI(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function jI(n){let t=n.indexOf("."),e=n.substring(0,t),i=n.slice(t+1);return[e,i]}var ms=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(t,e,i){this.delegate=t,this.engine=e,this._zone=i,e.onRemovalComplete=(r,s)=>{s?.removeChild(null,r)}}createRenderer(t,e){let i="",r=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let c=this._rendererCache,u=c.get(r);if(!u){let p=()=>c.delete(r);u=new fs(i,r,this.engine,p),c.set(r,u)}return u}let s=e.id,o=e.id+"-"+this._currentId;this._currentId++,this.engine.register(o,t);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(s,o,t,c.name,c)};return e.data.animation.forEach(a),new Ja(this,o,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,i){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),r.push([e,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(t){this.engine.flush(),this.delegate.componentReplaced?.(t)}};var KI=(()=>{class n extends Jn{constructor(e,i,r){super(e,i,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(i){return new(i||n)(Ne(hc),Ne(_n),Ne(yn))};static \u0275prov=te({token:n,factory:n.\u0275fac})}return n})();function GI(){return new as}function YI(n,t,e){return new ms(n,t,e)}var kh=[{provide:yn,useFactory:GI},{provide:Jn,useClass:KI},{provide:sc,useFactory:YI,deps:[pc,Jn,ue]}],Vk=[{provide:_n,useClass:Qa},{provide:js,useValue:"NoopAnimations"},...kh],JI=[{provide:_n,useFactory:()=>new ps},{provide:js,useFactory:()=>"BrowserAnimations"},...kh];function Oh(){return ic("NgEagerAnimations"),[...JI]}var Ph=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",loadComponent:()=>import("./chunk-7WUPKHMH.js").then(n=>n.HomePageComponent)},{path:"plates",loadComponent:()=>import("./chunk-ZZT3V3QW.js").then(n=>n.ProductsComponent)},{path:"spare-parts",loadComponent:()=>import("./chunk-R5VLIVF5.js").then(n=>n.SparePlatesDetailsComponent)},{path:"motorcycles",loadComponent:()=>import("./chunk-BURSZOO2.js").then(n=>n.MotorcyclesDetailsComponent)},{path:"accessories",loadComponent:()=>import("./chunk-EOFXZZIV.js").then(n=>n.AccessoriesComponent)},{path:"register",loadComponent:()=>import("./chunk-JHDUWOLG.js").then(n=>n.RegisterComponent)},{path:"account",loadComponent:()=>import("./chunk-N3NDW2WY.js").then(n=>n.AccountComponent)},{path:"add-product",loadComponent:()=>import("./chunk-BROPBVQJ.js").then(n=>n.ProductFormComponent)},{path:"listing/:id",loadComponent:()=>import("./chunk-KZJL3GEQ.js").then(n=>n.MainProductsPageComponent)}];var Rh={production:!1,firebase:{apiKey:"AIzaSyCPGsHiy6Eq2J8bnHi2xo9rx-1nIXM-p-o",authDomain:"dabapp-3d853.firebaseapp.com",projectId:"dabapp-3d853",storageBucket:"dabapp-3d853.appspot.com",messagingSenderId:"988124060172",appId:"1:988124060172:web:6a7b2aeb937a44fa196c29",measurementId:"G-RELFGL4QX8"}};var gs=class n{constructor(t,e,i){this.authService=t;this.router=e;this.platformId=i}intercept(t,e){let i=t;if(Te(this.platformId)){let r=this.authService.getToken();r&&(i=t.clone({setHeaders:{Authorization:`Bearer ${r}`}}))}return e.handle(i).pipe(Ws(r=>{let s=t.url.includes("/refresh"),o=t.url.includes("/login")||t.url.includes("/register")||t.url.includes("/verify-otp");return r.status===401&&!s&&!o&&this.authService.getToken()?this.authService.refreshToken().pipe(Ql(a=>{console.log("refresh token",a),this.authService.saveToken(a.token);let l=t.clone({setHeaders:{Authorization:`Bearer ${a.token}`}});return e.handle(l)}),Ws(a=>(this.authService.logoutAndClearData(),this.authService.triggerLoginModal(),Bs(()=>a)))):Bs(()=>r)}))}static \u0275fac=function(e){return new(e||n)(Ne(st),Ne(Dn),Ne(At))};static \u0275prov=te({token:n,factory:n.\u0275fac})};var Dh=()=>{};var Lh=function(n){let t=[],e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},QI=function(n){let t=[],e=0,i=0;for(;e<n.length;){let r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){let s=n[e++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){let s=n[e++],o=n[e++],a=n[e++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(l&1023))}else{let s=n[e++],o=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return t.join("")},Mh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){let s=n[r],o=r+1<n.length,a=o?n[r+1]:0,l=r+2<n.length,c=l?n[r+2]:0,u=s>>2,p=(s&3)<<4|a>>4,g=(a&15)<<2|c>>6,v=c&63;l||(v=64,o||(g=64)),i.push(e[u],e[p],e[g],e[v])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(Lh(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):QI(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();let e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){let s=e[n.charAt(r++)],a=r<n.length?e[n.charAt(r)]:0;++r;let c=r<n.length?e[n.charAt(r)]:64;++r;let p=r<n.length?e[n.charAt(r)]:64;if(++r,s==null||a==null||c==null||p==null)throw new el;let g=s<<2|a>>4;if(i.push(g),c!==64){let v=a<<4&240|c>>2;if(i.push(v),p!==64){let b=c<<6&192|p;i.push(b)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},el=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},ZI=function(n){let t=Lh(n);return Mh.encodeByteArray(t,!0)},nl=function(n){return ZI(n).replace(/\./g,"")},ys=function(n){try{return Mh.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function XI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var eb=()=>XI().__FIREBASE_DEFAULTS__,tb=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},nb=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=n&&ys(n[1]);return t&&JSON.parse(t)},il=()=>{try{return Dh()||eb()||tb()||nb()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Fh=n=>il()?.emulatorHosts?.[n];var rl=()=>il()?.config,sl=n=>il()?.[`_${n}`];var _s=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}};function Ui(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function Vh(n){return d(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}var Vi={};function ib(){let n={prod:[],emulator:[]};for(let t of Object.keys(Vi))Vi[t]?n.emulator.push(t):n.prod.push(t);return n}function rb(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}var Nh=!1;function Uh(n,t){if(typeof window>"u"||typeof document>"u"||!Ui(window.location.host)||Vi[n]===t||Vi[n]||Nh)return;Vi[n]=t;function e(g){return`__firebase__banner__${g}`}let i="__firebase__banner",s=ib().prod.length>0;function o(){let g=document.getElementById(i);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function l(g,v){g.setAttribute("width","24"),g.setAttribute("id",v),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function c(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{Nh=!0,o()},g}function u(g,v){g.setAttribute("id",v),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){let g=rb(i),v=e("text"),b=document.getElementById(v)||document.createElement("span"),A=e("learnmore"),T=document.getElementById(A)||document.createElement("a"),O=e("preprendIcon"),D=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let V=g.element;a(V),u(T,A);let H=c();l(D,O),V.append(D,b,T,H),document.body.appendChild(V)}s?(b.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Ee(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zh(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ee())}function Hh(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $h(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Bh(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Wh(){let n=Ee();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function jh(){try{return typeof indexedDB=="object"}catch{return!1}}function qh(){return new Promise((n,t)=>{try{let e=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{t(r.error?.message||"")}}catch(e){t(e)}})}var sb="FirebaseError",Xe=class n extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=sb,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vt.prototype.create)}},vt=class{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){let i=e[0]||{},r=`${this.service}/${t}`,s=this.errors[t],o=s?ob(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Xe(r,a,i)}};function ob(n,t){return n.replace(ab,(e,i)=>{let r=t[i];return r!=null?String(r):`<${i}?>`})}var ab=/\{\$([^}]+)}/g;function Kh(n){for(let t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Ht(n,t){if(n===t)return!0;let e=Object.keys(n),i=Object.keys(t);for(let r of e){if(!i.includes(r))return!1;let s=n[r],o=t[r];if(xh(s)&&xh(o)){if(!Ht(s,o))return!1}else if(s!==o)return!1}for(let r of i)if(!e.includes(r))return!1;return!0}function xh(n){return n!==null&&typeof n=="object"}function zi(n){let t=[];for(let[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Gh(n,t){let e=new tl(n,t);return e.subscribe.bind(e)}var tl=class{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");lb(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=Xa),r.error===void 0&&(r.error=Xa),r.complete===void 0&&(r.complete=Xa);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function lb(n,t){if(typeof n!="object"||n===null)return!1;for(let e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Xa(){}var Zk=4*60*60*1e3;function vn(n){return n&&n._delegate?n._delegate:n}var ut=class{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var In="[DEFAULT]";var ol=class{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){let e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){let i=new _s;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){let e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(db(t))try{this.getOrInitializeService({instanceIdentifier:In})}catch{}for(let[e,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(e);try{let s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=In){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){return d(this,null,function*(){let t=Array.from(this.instances.values());yield Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])})}isComponentSet(){return this.component!=null}isInitialized(t=In){return this.instances.has(t)}getOptions(t=In){return this.instancesOptions.get(t)||{}}initialize(t={}){let{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(t,e){let i=this.normalizeInstanceIdentifier(e),r=this.onInitCallbacks.get(i)??new Set;r.add(t),this.onInitCallbacks.set(i,r);let s=this.instances.get(i);return s&&t(s,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){let i=this.onInitCallbacks.get(e);if(i)for(let r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:cb(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=In){return this.component?this.component.multipleInstances?t:In:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function cb(n){return n===In?void 0:n}function db(n){return n.instantiationMode==="EAGER"}var vs=class{constructor(t){this.name=t,this.providers=new Map}addComponent(t){let e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);let e=new ol(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}};var ub=[],G=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(G||{}),hb={debug:G.DEBUG,verbose:G.VERBOSE,info:G.INFO,warn:G.WARN,error:G.ERROR,silent:G.SILENT},pb=G.INFO,fb={[G.DEBUG]:"log",[G.VERBOSE]:"log",[G.INFO]:"info",[G.WARN]:"warn",[G.ERROR]:"error"},mb=(n,t,...e)=>{if(t<n.logLevel)return;let i=new Date().toISOString(),r=fb[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},Qn=class{constructor(t){this.name=t,this._logLevel=pb,this._logHandler=mb,this._userLogHandler=null,ub.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in G))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?hb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,G.DEBUG,...t),this._logHandler(this,G.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,G.VERBOSE,...t),this._logHandler(this,G.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,G.INFO,...t),this._logHandler(this,G.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,G.WARN,...t),this._logHandler(this,G.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,G.ERROR,...t),this._logHandler(this,G.ERROR,...t)}};var ll=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(gb(e)){let i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}};function gb(n){return n.getComponent()?.type==="VERSION"}var cl="@firebase/app",Yh="0.14.0";var It=new Qn("@firebase/app"),_b="@firebase/app-compat",yb="@firebase/analytics-compat",vb="@firebase/analytics",Ib="@firebase/app-check-compat",bb="@firebase/app-check",Eb="@firebase/auth",wb="@firebase/auth-compat",Tb="@firebase/database",Sb="@firebase/data-connect",Cb="@firebase/database-compat",Ab="@firebase/functions",kb="@firebase/functions-compat",Ob="@firebase/installations",Pb="@firebase/installations-compat",Rb="@firebase/messaging",Db="@firebase/messaging-compat",Nb="@firebase/performance",xb="@firebase/performance-compat",Lb="@firebase/remote-config",Mb="@firebase/remote-config-compat",Fb="@firebase/storage",Vb="@firebase/storage-compat",Ub="@firebase/firestore",zb="@firebase/ai",Hb="@firebase/firestore-compat",$b="firebase",Bb="12.0.0";var dl="[DEFAULT]",Wb={[cl]:"fire-core",[_b]:"fire-core-compat",[vb]:"fire-analytics",[yb]:"fire-analytics-compat",[bb]:"fire-app-check",[Ib]:"fire-app-check-compat",[Eb]:"fire-auth",[wb]:"fire-auth-compat",[Tb]:"fire-rtdb",[Sb]:"fire-data-connect",[Cb]:"fire-rtdb-compat",[Ab]:"fire-fn",[kb]:"fire-fn-compat",[Ob]:"fire-iid",[Pb]:"fire-iid-compat",[Rb]:"fire-fcm",[Db]:"fire-fcm-compat",[Nb]:"fire-perf",[xb]:"fire-perf-compat",[Lb]:"fire-rc",[Mb]:"fire-rc-compat",[Fb]:"fire-gcs",[Vb]:"fire-gcs-compat",[Ub]:"fire-fst",[Hb]:"fire-fst-compat",[zb]:"fire-vertex","fire-js":"fire-js",[$b]:"fire-js-all"};var Is=new Map,jb=new Map,ul=new Map;function Jh(n,t){try{n.container.addComponent(t)}catch(e){It.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Zn(n){let t=n.name;if(ul.has(t))return It.debug(`There were multiple attempts to register component ${t}.`),!1;ul.set(t,n);for(let e of Is.values())Jh(e,n);for(let e of jb.values())Jh(e,n);return!0}function ml(n,t){let e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function ht(n){return n==null?!1:n.settings!==void 0}var qb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$t=new vt("app","Firebase",qb);var hl=class{constructor(t,e,i){this._isDeleted=!1,this._options=L({},t),this._config=L({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ut("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw $t.create("app-deleted",{appName:this._name})}};var Xn=Bb;function gl(n,t={}){let e=n;typeof t!="object"&&(t={name:t});let i=L({name:dl,automaticDataCollectionEnabled:!0},t),r=i.name;if(typeof r!="string"||!r)throw $t.create("bad-app-name",{appName:String(r)});if(e||(e=rl()),!e)throw $t.create("no-options");let s=Is.get(r);if(s){if(Ht(e,s.options)&&Ht(i,s.config))return s;throw $t.create("duplicate-app",{appName:r})}let o=new vs(r);for(let l of ul.values())o.addComponent(l);let a=new hl(e,i,o);return Is.set(r,a),a}function ep(n=dl){let t=Is.get(n);if(!t&&n===dl&&rl())return gl();if(!t)throw $t.create("no-app",{appName:n});return t}function Bt(n,t,e){let i=Wb[n]??n;e&&(i+=`-${e}`);let r=i.match(/\s|\//),s=t.match(/\s|\//);if(r||s){let o=[`Unable to register library "${i}" with version "${t}":`];r&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&s&&o.push("and"),s&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),It.warn(o.join(" "));return}Zn(new ut(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}var Kb="firebase-heartbeat-database",Gb=1,Hi="firebase-heartbeat-store",al=null;function tp(){return al||(al=vr(Kb,Gb,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Hi)}catch(e){console.warn(e)}}}}).catch(n=>{throw $t.create("idb-open",{originalErrorMessage:n.message})})),al}function Yb(n){return d(this,null,function*(){try{let e=(yield tp()).transaction(Hi),i=yield e.objectStore(Hi).get(np(n));return yield e.done,i}catch(t){if(t instanceof Xe)It.warn(t.message);else{let e=$t.create("idb-get",{originalErrorMessage:t?.message});It.warn(e.message)}}})}function Qh(n,t){return d(this,null,function*(){try{let i=(yield tp()).transaction(Hi,"readwrite");yield i.objectStore(Hi).put(t,np(n)),yield i.done}catch(e){if(e instanceof Xe)It.warn(e.message);else{let i=$t.create("idb-set",{originalErrorMessage:e?.message});It.warn(i.message)}}})}function np(n){return`${n.name}!${n.options.appId}`}var Jb=1024,Qb=30,pl=class{constructor(t){this.container=t,this._heartbeatsCache=null;let e=this.container.getProvider("app").getImmediate();this._storage=new fl(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return d(this,null,function*(){try{let e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Zh();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>Qb){let r=Xb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){It.warn(t)}})}getHeartbeatsHeader(){return d(this,null,function*(){try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=Zh(),{heartbeatsToSend:e,unsentEntries:i}=Zb(this._heartbeatsCache.heartbeats),r=nl(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return It.warn(t),""}})}};function Zh(){return new Date().toISOString().substring(0,10)}function Zb(n,t=Jb){let e=[],i=n.slice();for(let r of n){let s=e.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),Xh(e)>t){s.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),Xh(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}var fl=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return d(this,null,function*(){return jh()?qh().then(()=>!0).catch(()=>!1):!1})}read(){return d(this,null,function*(){if(yield this._canUseIndexedDBPromise){let e=yield Yb(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(t){return d(this,null,function*(){if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Qh(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return})}add(t){return d(this,null,function*(){if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Qh(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return})}};function Xh(n){return nl(JSON.stringify({version:2,heartbeats:n})).length}function Xb(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}function eE(n){Zn(new ut("platform-logger",t=>new ll(t),"PRIVATE")),Zn(new ut("heartbeat",t=>new pl(t),"PRIVATE")),Bt(cl,Yh,n),Bt(cl,Yh,"esm2020"),Bt("fire-js","")}eE("");var tE="firebase",nE="12.0.0";Bt(tE,nE,"app");function _p(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var yp=_p,vp=new vt("auth","Firebase",_p());var Cs=new Qn("@firebase/auth");function iE(n,...t){Cs.logLevel<=G.WARN&&Cs.warn(`Auth (${Xn}): ${n}`,...t)}function Es(n,...t){Cs.logLevel<=G.ERROR&&Cs.error(`Auth (${Xn}): ${n}`,...t)}function qt(n,...t){throw Ml(n,...t)}function En(n,...t){return Ml(n,...t)}function Ip(n,t,e){let i=we(L({},yp()),{[t]:e});return new vt("auth","Firebase",i).create(t,{appName:n.name})}function bn(n){return Ip(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ml(n,...t){if(typeof n!="string"){let e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return vp.create(n,...t)}function x(n,t,...e){if(!n)throw Ml(t,...e)}function bt(n){let t="INTERNAL ASSERTION FAILED: "+n;throw Es(t),new Error(t)}function Kt(n,t){n||bt(t)}function Il(){return typeof self<"u"&&self.location?.href||""}function rE(){return ip()==="http:"||ip()==="https:"}function ip(){return typeof self<"u"&&self.location?.protocol||null}function sE(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rE()||$h()||"connection"in navigator)?navigator.onLine:!0}function oE(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var wn=class{constructor(t,e){this.shortDelay=t,this.longDelay=e,Kt(e>t,"Short delay should be less than long delay!"),this.isMobile=zh()||Bh()}get(){return sE()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Fl(n,t){Kt(n.emulator,"Emulator should always be set here");let{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}var As=class{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var aE={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var lE=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cE=new wn(3e4,6e4);function Vl(n,t){return n.tenantId&&!t.tenantId?we(L({},t),{tenantId:n.tenantId}):t}function ei(s,o,a,l){return d(this,arguments,function*(n,t,e,i,r={}){return bp(n,r,()=>d(this,null,function*(){let c={},u={};i&&(t==="GET"?u=i:c={body:JSON.stringify(i)});let p=zi(L({key:n.config.apiKey},u)).slice(1),g=yield n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);let v=L({method:t,headers:g},c);return Hh()||(v.referrerPolicy="no-referrer"),n.emulatorConfig&&Ui(n.emulatorConfig.host)&&(v.credentials="include"),As.fetch()(yield Ep(n,n.config.apiHost,e,p),v)}))})}function bp(n,t,e){return d(this,null,function*(){n._canInitEmulator=!1;let i=L(L({},aE),t);try{let r=new bl(n),s=yield Promise.race([e(),r.promise]);r.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw bs(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw bs(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw bs(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw bs(n,"user-disabled",o);let u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Ip(n,u,c);qt(n,u)}}catch(r){if(r instanceof Xe)throw r;qt(n,"network-request-failed",{message:String(r)})}})}function dE(s,o,a,l){return d(this,arguments,function*(n,t,e,i,r={}){let c=yield ei(n,t,e,i,r);return"mfaPendingCredential"in c&&qt(n,"multi-factor-auth-required",{_serverResponse:c}),c})}function Ep(n,t,e,i){return d(this,null,function*(){let r=`${t}${e}?${i}`,s=n,o=s.config.emulator?Fl(n.config,r):`${n.config.apiScheme}://${r}`;return lE.includes(e)&&(yield s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o})}var bl=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(En(this.auth,"network-request-failed")),cE.get())})}};function bs(n,t,e){let i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);let r=En(n,t,i);return r.customData._tokenResponse=e,r}function uE(n,t){return d(this,null,function*(){return ei(n,"POST","/v1/accounts:delete",t)})}function ks(n,t){return d(this,null,function*(){return ei(n,"POST","/v1/accounts:lookup",t)})}function $i(n){if(n)try{let t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function wp(n,t=!1){return d(this,null,function*(){let e=vn(n),i=yield e.getIdToken(t),r=Ul(i);x(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");let s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:$i(_l(r.auth_time)),issuedAtTime:$i(_l(r.iat)),expirationTime:$i(_l(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function _l(n){return Number(n)*1e3}function Ul(n){let[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return Es("JWT malformed, contained fewer than 3 sections"),null;try{let r=ys(e);return r?JSON.parse(r):(Es("Failed to decode base64 JWT payload"),null)}catch(r){return Es("Caught error parsing JWT payload as JSON",r?.toString()),null}}function rp(n){let t=Ul(n);return x(t,"internal-error"),x(typeof t.exp<"u","internal-error"),x(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}function Wi(n,t,e=!1){return d(this,null,function*(){if(e)return t;try{return yield t}catch(i){throw i instanceof Xe&&hE(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})}function hE({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var El=class{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){let e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;let i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;let e=this.getInterval(t);this.timerId=setTimeout(()=>d(this,null,function*(){yield this.iteration()}),e)}iteration(){return d(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ji=class{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=$i(this.lastLoginAt),this.creationTime=$i(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Os(n){return d(this,null,function*(){let t=n.auth,e=yield n.getIdToken(),i=yield Wi(n,ks(t,{idToken:e}));x(i?.users.length,t,"internal-error");let r=i.users[0];n._notifyReloadListener(r);let s=r.providerUserInfo?.length?Sp(r.providerUserInfo):[],o=pE(n.providerData,s),a=n.isAnonymous,l=!(n.email&&r.passwordHash)&&!o?.length,c=a?l:!1,u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new ji(r.createdAt,r.lastLoginAt),isAnonymous:c};Object.assign(n,u)})}function Tp(n){return d(this,null,function*(){let t=vn(n);yield Os(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})}function pE(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function Sp(n){return n.map(i=>{var r=i,{providerId:t}=r,e=ti(r,["providerId"]);return{providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}})}function fE(n,t){return d(this,null,function*(){let e=yield bp(n,{},()=>d(this,null,function*(){let i=zi({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,o=yield Ep(n,r,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let l={method:"POST",headers:a,body:i};return n.emulatorConfig&&Ui(n.emulatorConfig.host)&&(l.credentials="include"),As.fetch()(o,l)}));return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}})}function mE(n,t){return d(this,null,function*(){return ei(n,"POST","/v2/accounts:revokeToken",Vl(n,t))})}var Bi=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){x(t.idToken,"internal-error"),x(typeof t.idToken<"u","internal-error"),x(typeof t.refreshToken<"u","internal-error");let e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):rp(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){x(t.length!==0,"internal-error");let e=rp(t);this.updateTokensAndExpiration(t,null,e)}getToken(t,e=!1){return d(this,null,function*(){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(x(this.refreshToken,t,"user-token-expired"),this.refreshToken?(yield this.refresh(t,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(t,e){return d(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:s}=yield fE(t,e);this.updateTokensAndExpiration(i,r,Number(s))})}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){let{refreshToken:i,accessToken:r,expirationTime:s}=e,o=new n;return i&&(x(typeof i=="string","internal-error",{appName:t}),o.refreshToken=i),r&&(x(typeof r=="string","internal-error",{appName:t}),o.accessToken=r),s&&(x(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return bt("not implemented")}};function Wt(n,t){x(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}var jt=class n{constructor(s){var o=s,{uid:t,auth:e,stsTokenManager:i}=o,r=ti(o,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new El(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new ji(r.createdAt||void 0,r.lastLoginAt||void 0)}getIdToken(t){return d(this,null,function*(){let e=yield Wi(this,this.stsTokenManager.getToken(this.auth,t));return x(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e})}getIdTokenResult(t){return wp(this,t)}reload(){return Tp(this)}_assign(t){this!==t&&(x(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>L({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){let e=new n(we(L({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){x(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,e=!1){return d(this,null,function*(){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&(yield Os(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return d(this,null,function*(){if(ht(this.auth.app))return Promise.reject(bn(this.auth));let t=yield this.getIdToken();return yield Wi(this,uE(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return we(L({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>L({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){let i=e.displayName??void 0,r=e.email??void 0,s=e.phoneNumber??void 0,o=e.photoURL??void 0,a=e.tenantId??void 0,l=e._redirectEventId??void 0,c=e.createdAt??void 0,u=e.lastLoginAt??void 0,{uid:p,emailVerified:g,isAnonymous:v,providerData:b,stsTokenManager:A}=e;x(p&&A,t,"internal-error");let T=Bi.fromJSON(this.name,A);x(typeof p=="string",t,"internal-error"),Wt(i,t.name),Wt(r,t.name),x(typeof g=="boolean",t,"internal-error"),x(typeof v=="boolean",t,"internal-error"),Wt(s,t.name),Wt(o,t.name),Wt(a,t.name),Wt(l,t.name),Wt(c,t.name),Wt(u,t.name);let O=new n({uid:p,auth:t,email:r,emailVerified:g,displayName:i,isAnonymous:v,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:T,createdAt:c,lastLoginAt:u});return b&&Array.isArray(b)&&(O.providerData=b.map(D=>L({},D))),l&&(O._redirectEventId=l),O}static _fromIdTokenResponse(t,e,i=!1){return d(this,null,function*(){let r=new Bi;r.updateFromServerResponse(e);let s=new n({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return yield Os(s),s})}static _fromGetAccountInfoResponse(t,e,i){return d(this,null,function*(){let r=e.users[0];x(r.localId!==void 0,"internal-error");let s=r.providerUserInfo!==void 0?Sp(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!s?.length,a=new Bi;a.updateFromIdToken(i);let l=new n({uid:r.localId,auth:t,stsTokenManager:a,isAnonymous:o}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new ji(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(l,c),l})}};var sp=new Map;function Et(n){Kt(n instanceof Function,"Expected a class definition");let t=sp.get(n);return t?(Kt(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,sp.set(n,t),t)}var gE=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return d(this,null,function*(){return!0})}_set(e,i){return d(this,null,function*(){this.storage[e]=i})}_get(e){return d(this,null,function*(){let i=this.storage[e];return i===void 0?null:i})}_remove(e){return d(this,null,function*(){delete this.storage[e]})}_addListener(e,i){}_removeListener(e,i){}}return n.type="NONE",n})(),wl=gE;function ws(n,t,e){return`firebase:${n}:${t}:${e}`}var Ps=class n{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;let{config:r,name:s}=this.auth;this.fullUserKey=ws(this.userKey,r.apiKey,s),this.fullPersistenceKey=ws("persistence",r.apiKey,s),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){return d(this,null,function*(){let t=yield this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){let e=yield ks(this.auth,{idToken:t}).catch(()=>{});return e?jt._fromGetAccountInfoResponse(this.auth,e,t):null}return jt._fromJSON(this.auth,t)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){return d(this,null,function*(){if(this.persistence===t)return;let e=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,e,i="authUser"){return d(this,null,function*(){if(!e.length)return new n(Et(wl),t,i);let r=(yield Promise.all(e.map(c=>d(this,null,function*(){if(yield c._isAvailable())return c})))).filter(c=>c),s=r[0]||Et(wl),o=ws(i,t.config.apiKey,t.name),a=null;for(let c of e)try{let u=yield c._get(o);if(u){let p;if(typeof u=="string"){let g=yield ks(t,{idToken:u}).catch(()=>{});if(!g)break;p=yield jt._fromGetAccountInfoResponse(t,g,u)}else p=jt._fromJSON(t,u);c!==s&&(a=p),s=c;break}}catch{}let l=r.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new n(s,t,i):(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(e.map(c=>d(this,null,function*(){if(c!==s)try{yield c._remove(o)}catch{}}))),new n(s,t,i))})}};function op(n){let t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Op(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Cp(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Rp(t))return"Blackberry";if(Dp(t))return"Webos";if(Ap(t))return"Safari";if((t.includes("chrome/")||kp(t))&&!t.includes("edge/"))return"Chrome";if(Pp(t))return"Android";{let e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function Cp(n=Ee()){return/firefox\//i.test(n)}function Ap(n=Ee()){let t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function kp(n=Ee()){return/crios\//i.test(n)}function Op(n=Ee()){return/iemobile/i.test(n)}function Pp(n=Ee()){return/android/i.test(n)}function Rp(n=Ee()){return/blackberry/i.test(n)}function Dp(n=Ee()){return/webos/i.test(n)}function zl(n=Ee()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function _E(n=Ee()){return zl(n)&&!!window.navigator?.standalone}function yE(){return Wh()&&document.documentMode===10}function Np(n=Ee()){return zl(n)||Pp(n)||Dp(n)||Rp(n)||/windows phone/i.test(n)||Op(n)}function xp(n,t=[]){let e;switch(n){case"Browser":e=op(Ee());break;case"Worker":e=`${op(Ee())}-${n}`;break;default:e=n}let i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Xn}/${i}`}var Tl=class{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){let i=s=>new Promise((o,a)=>{try{let l=t(s);o(l)}catch(l){a(l)}});i.onAbort=e,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(t){return d(this,null,function*(){if(this.auth.currentUser===t)return;let e=[];try{for(let i of this.queue)yield i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(let r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function vE(e){return d(this,arguments,function*(n,t={}){return ei(n,"GET","/v2/passwordPolicy",Vl(n,t))})}var IE=6,Sl=class{constructor(t){let e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??IE,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){let e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}};var Cl=class{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rs(this),this.idTokenSubscription=new Rs(this),this.beforeStateQueue=new Tl(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vp,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Et(e)),this._initializationPromise=this.queue(()=>d(this,null,function*(){if(!this._deleted&&(this.persistenceManager=yield Ps.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return d(this,null,function*(){if(this._deleted)return;let t=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(t,!0)}})}initializeCurrentUserFromIdToken(t){return d(this,null,function*(){try{let e=yield ks(this,{idToken:t}),i=yield jt._fromGetAccountInfoResponse(this,e,t);yield this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(t){return d(this,null,function*(){if(ht(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}let e=yield this.assertedPersistence.getCurrentUser(),i=e,r=!1;if(t&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=this.redirectUser?._redirectEventId,o=i?._redirectEventId,a=yield this.tryRedirectSignIn(t);(!s||s===o)&&a?.user&&(i=a.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return x(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(t){return d(this,null,function*(){let e=null;try{e=yield this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{yield this._setRedirectUser(null)}return e})}reloadAndSetCurrentUserOrClear(t){return d(this,null,function*(){try{yield Os(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)})}useDeviceLanguage(){this.languageCode=oE()}_delete(){return d(this,null,function*(){this._deleted=!0})}updateCurrentUser(t){return d(this,null,function*(){if(ht(this.app))return Promise.reject(bn(this));let e=t?vn(t):null;return e&&x(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))})}_updateCurrentUser(t,e=!1){return d(this,null,function*(){if(!this._deleted)return t&&x(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||(yield this.beforeStateQueue.runMiddleware(t)),this.queue(()=>d(this,null,function*(){yield this.directlySetCurrentUser(t),this.notifyAuthListeners()}))})}signOut(){return d(this,null,function*(){return ht(this.app)?Promise.reject(bn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(t){return ht(this.app)?Promise.reject(bn(this)):this.queue(()=>d(this,null,function*(){yield this.assertedPersistence.setPersistence(Et(t))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){return d(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return d(this,null,function*(){let t=yield vE(this),e=new Sl(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new vt("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{let i=this.onAuthStateChanged(()=>{i(),t()},e)}})}revokeAccessToken(t){return d(this,null,function*(){if(this.currentUser){let e=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),yield mE(this,i)}})}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}_setRedirectUser(t,e){return d(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)})}getOrInitRedirectPersistenceManager(t){return d(this,null,function*(){if(!this.redirectPersistenceManager){let e=t&&Et(t)||this._popupRedirectResolver;x(e,this,"argument-error"),this.redirectPersistenceManager=yield Ps.create(this,[Et(e._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(t){return d(this,null,function*(){return this._isInitialized&&(yield this.queue(()=>d(this,null,function*(){}))),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null})}_persistUserIfCurrent(t){return d(this,null,function*(){if(t===this.currentUser)return this.queue(()=>d(this,null,function*(){return this.directlySetCurrentUser(t)}))})}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};let s=typeof e=="function"?e:e.next.bind(e),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(x(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof e=="function"){let l=t.addObserver(e,i,r);return()=>{o=!0,l()}}else{let l=t.addObserver(e);return()=>{o=!0,l()}}}directlySetCurrentUser(t){return d(this,null,function*(){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?yield this.assertedPersistence.setCurrentUser(t):yield this.assertedPersistence.removeCurrentUser()})}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return x(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=xp(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return d(this,null,function*(){let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let e=yield this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return d(this,null,function*(){if(ht(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&iE(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Hl(n){return vn(n)}var Rs=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=Gh(e=>this.observer=e)}get next(){return x(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var $l={loadJS(){return d(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bE(n){$l=n}function EE(n){return $l.loadJS(n)}function wE(){return $l.gapiScript}function Lp(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function Mp(n,t){let e=ml(n,"auth");if(e.isInitialized()){let r=e.getImmediate(),s=e.getOptions();if(Ht(s,t??{}))return r;qt(r,"already-initialized")}return e.initialize({options:t})}function TE(n,t){let e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Et);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function Fp(n,t,e){let i=Hl(n);x(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");let r=!!e?.disableWarnings,s=Vp(t),{host:o,port:a}=SE(t),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},u=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){x(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),x(Ht(c,i.config.emulator)&&Ht(u,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=c,i.emulatorConfig=u,i.settings.appVerificationDisabledForTesting=!0,Ui(o)?(Vh(`${s}//${o}${l}`),Uh("Auth",!0)):r||CE()}function Vp(n){let t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function SE(n){let t=Vp(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};let i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let s=r[1];return{host:s,port:ap(i.substr(s.length+1))}}else{let[s,o]=i.split(":");return{host:s,port:ap(o)}}}function ap(n){if(!n)return null;let t=Number(n);return isNaN(t)?null:t}function CE(){function n(){let t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Ds=class{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return bt("not implemented")}_getIdTokenResponse(t){return bt("not implemented")}_linkToIdToken(t,e){return bt("not implemented")}_getReauthenticationResolver(t){return bt("not implemented")}};function yl(n,t){return d(this,null,function*(){return dE(n,"POST","/v1/accounts:signInWithIdp",Vl(n,t))})}var Ns=class{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}};var Al=class extends Ns{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}};var qi=class n{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,e,i,r=!1){return d(this,null,function*(){let s=yield jt._fromIdTokenResponse(t,i,r),o=lp(i);return new n({user:s,providerId:o,_tokenResponse:i,operationType:e})})}static _forOperation(t,e,i){return d(this,null,function*(){yield t._updateTokensIfNecessary(i,!0);let r=lp(i);return new n({user:t,providerId:r,_tokenResponse:i,operationType:e})})}};function lp(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var kl=class n extends Xe{constructor(t,e,i,r){super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,n.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new n(t,e,i,r)}};function Up(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?kl._fromErrorAndOperation(n,s,t,i):s})}function AE(n,t,e=!1){return d(this,null,function*(){let i=yield Wi(n,t._linkToIdToken(n.auth,yield n.getIdToken()),e);return qi._forOperation(n,"link",i)})}function kE(n,t,e=!1){return d(this,null,function*(){let{auth:i}=n;if(ht(i.app))return Promise.reject(bn(i));let r="reauthenticate";try{let s=yield Wi(n,Up(i,r,t,n),e);x(s.idToken,i,"internal-error");let o=Ul(s.idToken);x(o,i,"internal-error");let{sub:a}=o;return x(n.uid===a,i,"user-mismatch"),qi._forOperation(n,r,s)}catch(s){throw s?.code==="auth/user-not-found"&&qt(i,"user-mismatch"),s}})}function OE(n,t,e=!1){return d(this,null,function*(){if(ht(n.app))return Promise.reject(bn(n));let i="signIn",r=yield Up(n,i,t),s=yield qi._fromIdTokenResponse(n,i,r);return e||(yield n._updateCurrentUser(s.user)),s})}function zp(n,t,e,i){return vn(n).onIdTokenChanged(t,e,i)}function Hp(n,t,e){return vn(n).beforeAuthStateChanged(t,e)}var xs="__sak";var Ls=class{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(xs,"1"),this.storage.removeItem(xs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){let e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}};var PE=1e3,RE=10,DE=(()=>{class n extends Ls{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Np(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),s=this.localCache[i];r!==s&&e(i,s,r)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}let r=e.key;i?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);yE()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,RE):s()}notifyListeners(e,i){this.localCache[e]=i;let r=this.listeners[e];if(r)for(let s of Array.from(r))s(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},PE)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(e,i){return d(this,null,function*(){yield St(n.prototype,this,"_set").call(this,e,i),this.localCache[e]=JSON.stringify(i)})}_get(e){return d(this,null,function*(){let i=yield St(n.prototype,this,"_get").call(this,e);return this.localCache[e]=JSON.stringify(i),i})}_remove(e){return d(this,null,function*(){yield St(n.prototype,this,"_remove").call(this,e),delete this.localCache[e]})}}return n.type="LOCAL",n})(),$p=DE;var NE=(()=>{class n extends Ls{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}return n.type="SESSION",n})(),Bl=NE;function xE(n){return Promise.all(n.map(t=>d(this,null,function*(){try{return{fulfilled:!0,value:yield t}}catch(e){return{fulfilled:!1,reason:e}}})))}var LE=(()=>{class n{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let i=this.receivers.find(s=>s.isListeningto(e));if(i)return i;let r=new n(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}handleEvent(e){return d(this,null,function*(){let i=e,{eventId:r,eventType:s,data:o}=i.data,a=this.handlersMap[s];if(!a?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:s});let l=Array.from(a).map(u=>d(this,null,function*(){return u(i.origin,o)})),c=yield xE(l);i.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function Bp(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}var Ol=class{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,e,i=50){return d(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{let c=Bp("",20);r.port1.start();let u=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(p){let g=p;if(g.data.eventId===c)switch(g.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(g.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:c,data:e},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function pt(){return window}function ME(n){pt().location.href=n}function Wp(){return typeof pt().WorkerGlobalScope<"u"&&typeof pt().importScripts=="function"}function FE(){return d(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function VE(){return navigator?.serviceWorker?.controller||null}function UE(){return Wp()?self:null}var jp="firebaseLocalStorageDb",zE=1,Ms="firebaseLocalStorage",qp="fbase_key",Tn=class{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}};function Vs(n,t){return n.transaction([Ms],t?"readwrite":"readonly").objectStore(Ms)}function HE(){let n=indexedDB.deleteDatabase(jp);return new Tn(n).toPromise()}function Pl(){let n=indexedDB.open(jp,zE);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{let i=n.result;try{i.createObjectStore(Ms,{keyPath:qp})}catch(r){e(r)}}),n.addEventListener("success",()=>d(this,null,function*(){let i=n.result;i.objectStoreNames.contains(Ms)?t(i):(i.close(),yield HE(),t(yield Pl()))}))})}function cp(n,t,e){return d(this,null,function*(){let i=Vs(n,!0).put({[qp]:t,value:e});return new Tn(i).toPromise()})}function $E(n,t){return d(this,null,function*(){let e=Vs(n,!1).get(t),i=yield new Tn(e).toPromise();return i===void 0?null:i.value})}function dp(n,t){let e=Vs(n,!0).delete(t);return new Tn(e).toPromise()}var BE=800,WE=3,jE=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return d(this,null,function*(){return this.db?this.db:(this.db=yield Pl(),this.db)})}_withRetries(e){return d(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield e(r)}catch(r){if(i++>WE)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return d(this,null,function*(){return Wp()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return d(this,null,function*(){this.receiver=LE._getInstance(UE()),this.receiver._subscribe("keyChanged",(e,i)=>d(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(e,i)=>d(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return d(this,null,function*(){if(this.activeServiceWorker=yield FE(),!this.activeServiceWorker)return;this.sender=new Ol(this.activeServiceWorker);let e=yield this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(e){return d(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||VE()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return d(this,null,function*(){try{if(!indexedDB)return!1;let e=yield Pl();return yield cp(e,xs,"1"),yield dp(e,xs),!0}catch{}return!1})}_withPendingWrite(e){return d(this,null,function*(){this.pendingWrites++;try{yield e()}finally{this.pendingWrites--}})}_set(e,i){return d(this,null,function*(){return this._withPendingWrite(()=>d(this,null,function*(){return yield this._withRetries(r=>cp(r,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)}))})}_get(e){return d(this,null,function*(){let i=yield this._withRetries(r=>$E(r,e));return this.localCache[e]=i,i})}_remove(e){return d(this,null,function*(){return this._withPendingWrite(()=>d(this,null,function*(){return yield this._withRetries(i=>dp(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)}))})}_poll(){return d(this,null,function*(){let e=yield this._withRetries(s=>{let o=Vs(s,!1).getAll();return new Tn(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(e.length!==0)for(let{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),i.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),i.push(s));return i})}notifyListeners(e,i){this.localCache[e]=i;let r=this.listeners[e];if(r)for(let s of Array.from(r))s(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>d(this,null,function*(){return this._poll()}),BE)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),Kp=jE;var SO=Lp("rcb"),CO=new wn(3e4,6e4);function qE(n,t){return t?Et(t):(x(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Ki=class extends Ds{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return yl(t,this._buildIdpRequest())}_linkToIdToken(t,e){return yl(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return yl(t,this._buildIdpRequest())}_buildIdpRequest(t){let e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}};function KE(n){return OE(n.auth,new Ki(n),n.bypassAuthState)}function GE(n){let{auth:t,user:e}=n;return x(e,t,"internal-error"),kE(e,new Ki(n),n.bypassAuthState)}function YE(n){return d(this,null,function*(){let{auth:t,user:e}=n;return x(e,t,"internal-error"),AE(e,new Ki(n),n.bypassAuthState)})}var Rl=class{constructor(t,e,i,r,s=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise((t,e)=>d(this,null,function*(){this.pendingPromise={resolve:t,reject:e};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(t){return d(this,null,function*(){let{urlResponse:e,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}let l={auth:this.auth,requestUri:e,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(l))}catch(c){this.reject(c)}})}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return KE;case"linkViaPopup":case"linkViaRedirect":return YE;case"reauthViaPopup":case"reauthViaRedirect":return GE;default:qt(this.auth,"internal-error")}}resolve(t){Kt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Kt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var AO=new wn(2e3,1e4);var JE="pendingRedirect",Ts=new Map,Dl=class n extends Rl{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}execute(){return d(this,null,function*(){let t=Ts.get(this.auth._key());if(!t){try{let i=(yield QE(this.resolver,this.auth))?yield St(n.prototype,this,"execute").call(this):null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}Ts.set(this.auth._key(),t)}return this.bypassAuthState||Ts.set(this.auth._key(),()=>Promise.resolve(null)),t()})}onAuthEvent(t){return d(this,null,function*(){if(t.type==="signInViaRedirect")return St(n.prototype,this,"onAuthEvent").call(this,t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){let e=yield this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,St(n.prototype,this,"onAuthEvent").call(this,t);this.resolve(null)}})}onExecution(){return d(this,null,function*(){})}cleanUp(){}};function QE(n,t){return d(this,null,function*(){let e=ew(t),i=XE(n);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(e))==="true";return yield i._remove(e),r})}function ZE(n,t){Ts.set(n._key(),t)}function XE(n){return Et(n._redirectPersistence)}function ew(n){return ws(JE,n.config.apiKey,n.name)}function tw(n,t,e=!1){return d(this,null,function*(){if(ht(n.app))return Promise.reject(bn(n));let i=Hl(n),r=qE(i,t),o=yield new Dl(i,r,e).execute();return o&&!e&&(delete o.user._redirectEventId,yield i._persistUserIfCurrent(o.user),yield i._setRedirectUser(null,t)),o})}var nw=10*60*1e3,Nl=class{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!iw(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!Gp(t)){let i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(En(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){let i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=nw&&this.cachedEventUids.clear(),this.cachedEventUids.has(up(t))}saveEventToCache(t){this.cachedEventUids.add(up(t)),this.lastProcessedEventTime=Date.now()}};function up(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function Gp({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function iw(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Gp(n);default:return!1}}function rw(e){return d(this,arguments,function*(n,t={}){return ei(n,"GET","/v1/projects",t)})}var sw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ow=/^https?/;function aw(n){return d(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:t}=yield rw(n);for(let e of t)try{if(lw(e))return}catch{}qt(n,"unauthorized-domain")})}function lw(n){let t=Il(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&o.hostname===i}if(!ow.test(e))return!1;if(sw.test(n))return i===n;let r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var cw=new wn(3e4,6e4);function hp(){let n=pt().___jsl;if(n?.H){for(let t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function dw(n){return new Promise((t,e)=>{function i(){hp(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{hp(),e(En(n,"network-request-failed"))},timeout:cw.get()})}if(pt().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(pt().gapi?.load)i();else{let r=Lp("iframefcb");return pt()[r]=()=>{gapi.load?i():e(En(n,"network-request-failed"))},EE(`${wE()}?onload=${r}`).catch(s=>e(s))}}).catch(t=>{throw Ss=null,t})}var Ss=null;function uw(n){return Ss=Ss||dw(n),Ss}var hw=new wn(5e3,15e3),pw="__/auth/iframe",fw="emulator/auth/iframe",mw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _w(n){let t=n.config;x(t.authDomain,n,"auth-domain-config-required");let e=t.emulator?Fl(t,fw):`https://${n.config.authDomain}/${pw}`,i={apiKey:t.apiKey,appName:n.name,v:Xn},r=gw.get(n.config.apiHost);r&&(i.eid=r);let s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${e}?${zi(i).slice(1)}`}function yw(n){return d(this,null,function*(){let t=yield uw(n),e=pt().gapi;return x(e,n,"internal-error"),t.open({where:document.body,url:_w(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mw,dontclear:!0},i=>new Promise((r,s)=>d(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let o=En(n,"network-request-failed"),a=pt().setTimeout(()=>{s(o)},hw.get());function l(){pt().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{s(o)})})))})}var vw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Iw=500,bw=600,Ew="_blank",ww="http://localhost",Fs=class{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Tw(n,t,e,i=Iw,r=bw){let s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString(),a="",l=we(L({},vw),{width:i.toString(),height:r.toString(),top:s,left:o}),c=Ee().toLowerCase();e&&(a=kp(c)?Ew:e),Cp(c)&&(t=t||ww,l.scrollbars="yes");let u=Object.entries(l).reduce((g,[v,b])=>`${g}${v}=${b},`,"");if(_E(c)&&a!=="_self")return Sw(t||"",a),new Fs(null);let p=window.open(t||"",a,u);x(p,n,"popup-blocked");try{p.focus()}catch{}return new Fs(p)}function Sw(n,t){let e=document.createElement("a");e.href=n,e.target=t;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}var Cw="__/auth/handler",Aw="emulator/auth/handler",kw=encodeURIComponent("fac");function pp(n,t,e,i,r,s){return d(this,null,function*(){x(n.config.authDomain,n,"auth-domain-config-required"),x(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Xn,eventId:r};if(t instanceof Ns){t.setDefaultLanguage(n.languageCode),o.providerId=t.providerId||"",Kh(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(let[u,p]of Object.entries(s||{}))o[u]=p}if(t instanceof Al){let u=t.getScopes().filter(p=>p!=="");u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);let a=o;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let l=yield n._getAppCheckToken(),c=l?`#${kw}=${encodeURIComponent(l)}`:"";return`${Ow(n)}?${zi(a).slice(1)}${c}`})}function Ow({config:n}){return n.emulator?Fl(n,Aw):`https://${n.authDomain}/${Cw}`}var vl="webStorageSupport",xl=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bl,this._completeRedirectFn=tw,this._overrideRedirectResult=ZE}_openPopup(t,e,i,r){return d(this,null,function*(){Kt(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");let s=yield pp(t,e,i,Il(),r);return Tw(t,s,Bp())})}_openRedirect(t,e,i,r){return d(this,null,function*(){yield this._originValidation(t);let s=yield pp(t,e,i,Il(),r);return ME(s),new Promise(()=>{})})}_initialize(t){let e=t._key();if(this.eventManagers[e]){let{manager:r,promise:s}=this.eventManagers[e];return r?Promise.resolve(r):(Kt(s,"If manager is not set, promise should be"),s)}let i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}initAndGetManager(t){return d(this,null,function*(){let e=yield yw(t),i=new Nl(t);return e.register("authEvent",r=>(x(r?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i})}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(vl,{type:vl},r=>{let s=r?.[0]?.[vl];s!==void 0&&e(!!s),qt(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){let e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=aw(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return Np()||Ap()||zl()}},Yp=xl;var fp="@firebase/auth",mp="1.11.0";var Ll=class{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}getToken(t){return d(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(t)}:null})}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;let e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();let e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){x(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Pw(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Rw(n){Zn(new ut("auth",(t,{options:e})=>{let i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;x(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});let l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xp(n)},c=new Cl(i,r,s,l);return TE(c,e),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Zn(new ut("auth-internal",t=>{let e=Hl(t.getProvider("auth").getImmediate());return(i=>new Ll(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bt(fp,mp,Pw(n)),Bt(fp,mp,"esm2020")}var Dw=5*60,Nw=sl("authIdTokenMaxAge")||Dw,gp=null,xw=n=>t=>d(void 0,null,function*(){let e=t&&(yield t.getIdTokenResult()),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>Nw)return;let r=e?.token;gp!==r&&(gp=r,yield fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function Wl(n=ep()){let t=ml(n,"auth");if(t.isInitialized())return t.getImmediate();let e=Mp(n,{popupRedirectResolver:Yp,persistence:[Kp,$p,Bl]}),i=sl("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(i,location.origin);if(location.origin===s.origin){let o=xw(s.toString());Hp(e,o,()=>o(e.currentUser)),zp(e,a=>o(a))}}let r=Fh("auth");return r&&Fp(e,`http://${r}`),e}function Lw(){return document.getElementsByTagName("head")?.[0]??document}bE({loadJS(n){return new Promise((t,e)=>{let i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{let s=En("internal-error");s.customData=r,e(s)},i.type="text/javascript",i.charset="UTF-8",Lw().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Rw("Browser");function Mw(n){return new Yr(n,"./assets/i18n/",".json")}var Jp={providers:[vc(Ph),Oh(),gc(_c()),Hn,{provide:mc,useClass:gs,multi:!0},Gd(()=>gl(Rh.firebase)),Pu(()=>Wl()),Xl(zn.forRoot({loader:{provide:id,useFactory:Mw,deps:[nr]}}))]};function wR(n){return new Yr(n,"./assets/i18n/",".json")}fc(Gr,Jp).catch(n=>console.error(n));export{wR as HttpLoaderFactory};
