<!-- plates section -->
<section class="main-section">
  <div class="container">
    <div style="display: flex; padding: 24px; align-items: center; gap: 72px">
      <!-- Left Content -->
      <div style="width: 495px; height: 412px">
        <div  style="
            display: flex;
            width: 495px;
            align-items: flex-start;
            align-content: flex-start;
            gap: 40px 45px;
            flex-wrap: wrap;
          ">
          <div   style="
              width: 465px;
              flex-shrink: 0;
              color: var(--gray-900, #18181b);
              font-family: Manrope;
              font-size: 52px;
              font-style: normal;
              font-weight: 700;
              line-height: 66px; /* 126.923% */
            ">
            {{ "PLATES.TITLE" | translate }}
          </div>
          
          <div class="badge-section">
            <span class="gcc-badge">
              âœ¨ {{ "PLATES.GCC_BADGE" | translate }}
            </span>
          </div>
          
          <div   style="
              color: var(--gray-900, #18181b);
              font-family: Manrope;
              font-size: 18px;
              font-style: normal;
              font-weight: 500;
              line-height: 30px; /* 166.667% */
            ">
            {{ "PLATES.DESCRIPTION" | translate }}
          </div>

          <!-- <div class="actions-section">
            <div class="button-wrapper">
              <button class="view-all-button" routerLink="/plates">
                <p class="button-text">{{ "COMMON.VIEW_ALL" | translate }}</p>
              </button>
            </div>
           
            <div class="stats-wrapper">
              <div class="stat-item">
                <div class="stat-card">
                  <p class="stat-number">{{ soldCount }}+</p>
                  <p class="stat-label">
                    {{ "PLATES.SUCCESSFULLY_SOLD" | translate }}
                  </p>
                </div>
              </div>
              <div class="stat-item">
                <div class="stat-card">
                  <p class="stat-number">{{ availableCount }}+</p>
                  <p class="stat-label">
                    {{ "PLATES.AVAILABLE_NOW" | translate }}
                  </p>
                </div>
              </div>
            </div>
          </div> -->
           <div
            style="
              display: flex;
              flex-direction: column;
              justify-content: center;
              align-items: flex-start;
              gap: 45px;
              flex: 1 0 0;
            "
          >
            <div style="display: flex; align-items: flex-start; gap: 24px">
              <!-- class="w-fit h-[48px] px-[57.63px] py-[14.75px] border border-gray-800 text-gray-800 hover:bg-gray-100 transition cursor-pointer" -->
              <button
                style="
                  display: flex;
                  height: 48px;
                  padding: 17.25px 57.63px 14.75px 57.63px;
                  justify-content: center;
                  align-items: center;
                  border-radius: 4px;
                  border: 2px solid var(--Primary---Navy, #032c40);
                "
                routerLink="/motorcycles"
              >
                <p
                  style="
                    color: var(--Primary---Navy, #032c40);
                    text-align: center;
                    font-family: Manrope;
                    font-size: 16px;
                    font-style: normal;
                    font-weight: 700;
                    line-height: 16px; /* 100% */
                  "
                >
                  {{ "COMMON.VIEW_ALL" | translate }}
                </p>
              </button>
            </div>

            <!-- class="flex gap-12" -->
            <div style="display: flex; align-items: center; gap: 45px">
              <div style="width: 86px; height: 77px">
                <p
                  style="
                    color: var(--gray-900, #18181b);
                    font-family: Manrope;
                    font-size: 36px;
                    font-style: normal;
                    font-weight: 800;
                    line-height: 46px; /* 127.778% */
                  "
                >
                  50k+
                </p>
                <p
                  style="
                    color: var(--gray-500, #71717a);
                    font-family: Manrope;
                    font-size: 18px;
                    font-style: normal;
                    font-weight: 400;
                    line-height: 24px; /* 133.333% */
                  "
                >
                  {{ "USED_MOTORCYCLES.SOLD" | translate }}
                </p>
              </div>
              <div style="width: 129px; height: 77px">
                <p
                  style="
                    color: var(--gray-900, #18181b);
                    font-family: Manrope;
                    font-size: 36px;
                    font-style: normal;
                    font-weight: 800;
                    line-height: 46px; /* 127.778% */
                  "
                >
                  17k+
                </p>
                <p
                  style="
                    color: var(--gray-500, #71717a);
                    font-family: Manrope;
                    font-size: 18px;
                    font-style: normal;
                    font-weight: 400;
                    line-height: 24px; /* 133.333% */
                  "
                >
                  {{ "USED_MOTORCYCLES.AVAILABLE" | translate }}
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Right Content - Swipeable Cards -->
      <div class="slider-container"
       style="display: flex; align-items: center; gap: 31px">
        <!-- No Results Message -->
        <div
          *ngIf="plates?.length === 0"
          class="no-results"
        >
          <div class="no-results-content">
            <p class="no-results-text">
              {{ "COMMON.NO_RESULTS" | translate }}
            </p>
          </div>
        </div>

        <!-- Plates Slider -->
        <div
          class="slider-track"
          *ngIf="plates.length > 0"
          [style.transform]="'translateX(' + currentPosition + 'px)'"
          [class.dragging]="isDragging"
          (mousedown)="startDrag($event)"
          (touchstart)="startDrag($event)"
          (mousemove)="onDrag($event)"
          (touchmove)="onDrag($event)"
          (mouseup)="endDrag()"
          (mouseleave)="endDrag()"
          (touchend)="endDrag()"
        >
          <div *ngFor="let plate of plates" class="slider-card">
            <!-- Plate display section -->
            <div class="plate-display" [ngClass]="getPlateBackgroundClass(plate)">
              <!-- Non-Saudi -->
              <div *ngIf="plate.license_plate?.plate_format?.country?.code !== 'SA'"
                class="non-saudi-plate">
                
                <!-- Plate Fields -->
                <div class="plate-main">
                  <ng-container *ngIf="getPlateFieldMap(plate) as fieldMap">
                    <!-- City (top-center) -->
                    <div class="city-label">
                      {{ plate.city }}
                    </div>

                    <!-- Country (bottom-center) -->
                    <div class="country-label">
                      {{ getCountryName(plate) }}
                    </div>

                    <!-- Dynamic fields -->
                    <ng-container *ngFor="let pos of allPositions">
                      <div *ngIf="fieldMap[pos]" [ngClass]="getPositionClass(pos)" class="plate-field">
                        {{ fieldMap[pos] }}
                      </div>
                    </ng-container>

                    <!-- Optional separator -->
                    <div *ngIf="fieldMap['left-center'] && fieldMap['right-center']"
                      class="plate-separator">
                    </div>
                  </ng-container>
                </div>

                <!-- Country Sidebar -->
                <div [ngClass]="getSidebarClass(plate)" class="country-sidebar">
                  <ng-container [ngSwitch]="plate.license_plate?.plate_format?.country?.code">
                    <ng-container *ngSwitchCase="'AE'">
                      <img src="/pictures/simple-icons_emirates.svg" [alt]="'PLATES.UAE_ICON' | translate" class="country-icon" />
                      <span class="country-code">UAE</span>
                    </ng-container>
                    <ng-container *ngSwitchCase="'KW'">
                      <div class="kuwait-text">
                        <span>K</span><span>W</span><span>T</span>
                      </div>
                    </ng-container>
                    <ng-container *ngSwitchDefault>
                      <img src="/pictures/simple-icons_saudia.svg" [alt]="'PLATES.SAUDI_ICON' | translate" class="country-icon" />
                      <span class="country-code">KSA</span>
                    </ng-container>
                  </ng-container>
                </div>
              </div>

              <!-- Saudi plate -->
              <div *ngIf="plate.license_plate?.plate_format?.country?.code === 'SA'">
                <div *ngIf="getSaudiPlateParts(plate) as parts">
                  <div class="saudi-plate-container">
                    <div class="saudi-plate">
                      <div class="saudi-grid">
                        <div class="saudi-cell">{{ parts.arNumbers }}</div>
                        <div class="saudi-cell">{{ parts.arLetters }}</div>
                        <div class="saudi-cell">{{ parts.enNumbers }}</div>
                        <div class="saudi-cell saudi-en-letters">{{ parts.enLetters }}</div>
                      </div>
                      <div class="saudi-sidebar">
                        <img src="/pictures/simple-icons_saudia.svg" [alt]="'PLATES.SAUDI_ICON' | translate" class="country-icon" />
                        <span class="country-code">KSA</span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Card details -->
            <div class="card-content">
              <div class="plate-info">
                <h3 class="plate-title line-clamp-2">{{ plate.title }}</h3>
                <p class="plate-country">
                  <span class="status-dot"></span>
                  {{ getCountryName(plate) }}
                </p>
              </div>

              <!-- Price section -->
              <div class="price-section">
                <p class="price-value">
                  {{ isAuction(plate) ? plate.minimum_bid : plate.price }}
                  <span class="currency">
                    {{ plate.license_plate?.plate_format?.country?.code === 'AE' ? 'AED' : 'SAR' }}
                  </span>
                </p>
              </div>

              <!-- Action button -->
              <button class="button" (click)="viewListing(plate.id)">
                {{ "PLATES.VIEW_PLATE" | translate }}
              </button>
            </div>
          </div>
        </div>


      </div>
    </div>
  </div>
</section>

