import{a as va,b as cn,d as ri,e as ba}from"./chunk-TLKPMJPI.js";import{a as wa}from"./chunk-EFJATLVC.js";import{a as yr,b as vr,c as sn,d as an,e as N,f as ze,g as ga,h as br,i as _a,j as ni,l as wr,m as Er,o as Ir,q as Dt,r as ln,s as Ci,t as xi,u as vt}from"./chunk-IAKTPX3O.js";import{A as aa,B as la,C as nn,D as Xt,E as ca,F as _r,G as da,H as ei,I as ua,K as ha,N as ti,O as Ve,P as rn,Q as Ae,R as Se,S as Si,T as on,U as pa,V as fa,W as ii,X as ma,Y as ya,a as Ti,b as fr,c as Qs,d as Ys,e as Zs,f as Js,g as Xs,i as _t,k as mr,l as ea,m as Le,n as Fe,o as ta,p as ia,q as At,r as na,s as yt,t as ra,u as kt,v as gr,w as Pt,x as oa,y as sa}from"./chunk-RYEAV6TS.js";import{a as oi,b as Ye}from"./chunk-S62LQPQK.js";import{a as As,b as ks,d as Ji,e as Ps,f as Ds,g as Rs,j as Ms,k as Yt,l as Zt,n as Ns,o as Xi}from"./chunk-Z35ZOHGZ.js";import{a as Ls,b as en,c as ue,d as tn,e as Fs,h as Vs,i as zs,m as Us,o as $s,p as Hs,q as Bs,r as Ws,u as js,v as qs,x as Ks,y as Jt,z as Gs}from"./chunk-ZKLSLQJX.js";import{$ as ys,$a as f,A as hr,Aa as bs,Ab as gt,Bb as de,Cb as Ss,Fa as p,Fb as bi,Gb as wi,Ha as ws,Hb as Ei,Ia as Es,Ib as Oe,Jb as Kt,Ka as U,Kb as Y,Lb as Qe,Ma as Is,Mb as Gt,O as gs,Ob as Cs,Pa as W,Qa as Ge,R as F,Ra as Ts,S as _s,Sb as Ie,T as ne,Ta as oe,U as qe,Ua as v,Wb as H,Xb as Ne,Y as xe,Z as ye,Zb as Ii,_a as q,_b as xs,a as Z,ab as Yi,ac as Os,b as Ct,bb as qt,c as ms,cb as Zi,d as g,da as Wt,db as ce,ea as T,eb as J,fa as S,ga as pt,ha as vs,ia as X,ib as u,jb as d,jc as it,kb as M,kc as Qt,lb as ee,lc as Te,m as Qi,mb as te,na as B,nb as ie,oa as Ke,ob as $,p as ur,pb as I,pc as xt,qb as h,qc as Ot,rb as ft,sa as tt,sb as mt,tc as ge,ub as Re,vb as me,wa as jt,wb as K,wc as ve,xa as pr,xb as G,yb as Me,zb as y}from"./chunk-EHK7OZ2L.js";var Uc=["*"],$c=({dt:i})=>`
.p-iconfield {
    position: relative;
    display: block;
}

.p-inputicon {
    position: absolute;
    top: 50%;
    margin-top: calc(-1 * (${i("icon.size")} / 2));
    color: ${i("iconfield.icon.color")};
    line-height: 1;
}

.p-iconfield .p-inputicon:first-child {
    inset-inline-start: ${i("form.field.padding.x")};
}

.p-iconfield .p-inputicon:last-child {
    inset-inline-end: ${i("form.field.padding.x")};
}

.p-iconfield .p-inputtext:not(:first-child) {
    padding-inline-start: calc((${i("form.field.padding.x")} * 2) + ${i("icon.size")});
}

.p-iconfield .p-inputtext:not(:last-child) {
    padding-inline-end: calc((${i("form.field.padding.x")} * 2) + ${i("icon.size")});
}

.p-iconfield:has(.p-inputfield-sm) .p-inputicon {
    font-size: ${i("form.field.sm.font.size")};
    width: ${i("form.field.sm.font.size")};
    height: ${i("form.field.sm.font.size")};
    margin-top: calc(-1 * (${i("form.field.sm.font.size")} / 2));
}

.p-iconfield:has(.p-inputfield-lg) .p-inputicon {
    font-size: ${i("form.field.lg.font.size")};
    width: ${i("form.field.lg.font.size")};
    height: ${i("form.field.lg.font.size")};
    margin-top: calc(-1 * (${i("form.field.lg.font.size")} / 2));
}
`,Hc={root:"p-iconfield"},Ea=(()=>{class i extends Ae{name="iconfield";theme=$c;classes=Hc;static \u0275fac=(()=>{let e;return function(r){return(e||(e=X(i)))(r||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var Tr=(()=>{class i extends Se{iconPosition="left";get _styleClass(){return this.styleClass}styleClass;_componentStyle=ye(Ea);static \u0275fac=(()=>{let e;return function(r){return(e||(e=X(i)))(r||i)}})();static \u0275cmp=W({type:i,selectors:[["p-iconfield"],["p-iconField"],["p-icon-field"]],hostAttrs:[1,"p-iconfield"],hostVars:6,hostBindings:function(n,r){n&2&&(ce(r._styleClass),qt("p-iconfield-left",r.iconPosition==="left")("p-iconfield-right",r.iconPosition==="right"))},inputs:{iconPosition:"iconPosition",styleClass:"styleClass"},features:[Oe([Ea]),oe],ngContentSelectors:Uc,decls:1,vars:0,template:function(n,r){n&1&&(ft(),mt(0))},dependencies:[ge],encapsulation:2,changeDetection:0})}return i})();var Sr=(()=>{class i extends ii{static \u0275fac=(()=>{let e;return function(r){return(e||(e=X(i)))(r||i)}})();static \u0275cmp=W({type:i,selectors:[["BlankIcon"]],features:[oe],decls:2,vars:0,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["width","1","height","1","fill","currentColor","fill-opacity","0"]],template:function(n,r){n&1&&(pt(),u(0,"svg",0),M(1,"rect",1),d())},encapsulation:2})}return i})();var Cr=(()=>{class i extends ii{static \u0275fac=(()=>{let e;return function(r){return(e||(e=X(i)))(r||i)}})();static \u0275cmp=W({type:i,selectors:[["ChevronDownIcon"]],features:[oe],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z","fill","currentColor"]],template:function(n,r){n&1&&(pt(),u(0,"svg",0),M(1,"path",1),d()),n&2&&(ce(r.getClassNames()),q("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return i})();var xr=(()=>{class i extends ii{pathId;ngOnInit(){this.pathId="url(#"+ei()+")"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=X(i)))(r||i)}})();static \u0275cmp=W({type:i,selectors:[["SearchIcon"]],features:[oe],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(n,r){n&1&&(pt(),u(0,"svg",0)(1,"g"),M(2,"path",1),d(),u(3,"defs")(4,"clipPath",2),M(5,"rect",3),d()()()),n&2&&(ce(r.getClassNames()),q("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),p(),q("clip-path",r.pathId),p(3),f("id",r.pathId))},encapsulation:2})}return i})();var Bc=["*"],Wc={root:"p-inputicon"},Ia=(()=>{class i extends Ae{name="inputicon";classes=Wc;static \u0275fac=(()=>{let e;return function(r){return(e||(e=X(i)))(r||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})(),Or=(()=>{class i extends Se{styleClass;get hostClasses(){return this.styleClass}_componentStyle=ye(Ia);static \u0275fac=(()=>{let e;return function(r){return(e||(e=X(i)))(r||i)}})();static \u0275cmp=W({type:i,selectors:[["p-inputicon"],["p-inputIcon"]],hostVars:4,hostBindings:function(n,r){n&2&&(ce(r.hostClasses),qt("p-inputicon",!0))},inputs:{styleClass:"styleClass"},features:[Oe([Ia]),oe],ngContentSelectors:Bc,decls:1,vars:0,template:function(n,r){n&1&&(ft(),mt(0))},dependencies:[ge,Ve],encapsulation:2,changeDetection:0})}return i})();var Ta=["content"],qc=["overlay"],Kc=["*"],Gc=(i,t,e,n,r,o,s,a,l,c,m,_,E,w)=>({"p-overlay p-component":!0,"p-overlay-modal p-overlay-mask p-overlay-mask-enter":i,"p-overlay-center":t,"p-overlay-top":e,"p-overlay-top-start":n,"p-overlay-top-end":r,"p-overlay-bottom":o,"p-overlay-bottom-start":s,"p-overlay-bottom-end":a,"p-overlay-left":l,"p-overlay-left-start":c,"p-overlay-left-end":m,"p-overlay-right":_,"p-overlay-right-start":E,"p-overlay-right-end":w}),Qc=(i,t,e)=>({showTransitionParams:i,hideTransitionParams:t,transform:e}),Yc=i=>({value:"visible",params:i}),Zc=i=>({mode:i}),Jc=i=>({$implicit:i});function Xc(i,t){i&1&&ie(0)}function ed(i,t){if(i&1){let e=$();u(0,"div",3,1),I("click",function(r){T(e);let o=h(2);return S(o.onOverlayContentClick(r))})("@overlayContentAnimation.start",function(r){T(e);let o=h(2);return S(o.onOverlayContentAnimationStart(r))})("@overlayContentAnimation.done",function(r){T(e);let o=h(2);return S(o.onOverlayContentAnimationDone(r))}),mt(2),v(3,Xc,1,0,"ng-container",4),d()}if(i&2){let e=h(2);ce(e.contentStyleClass),f("ngStyle",e.contentStyle)("ngClass","p-overlay-content")("@overlayContentAnimation",Y(11,Yc,Gt(7,Qc,e.showTransitionOptions,e.hideTransitionOptions,e.transformOptions[e.modal?e.overlayResponsiveDirection:"default"]))),p(3),f("ngTemplateOutlet",e.contentTemplate||e._contentTemplate)("ngTemplateOutletContext",Y(15,Jc,Y(13,Zc,e.overlayMode)))}}function td(i,t){if(i&1){let e=$();u(0,"div",3,0),I("click",function(){T(e);let r=h();return S(r.onOverlayClick())}),v(2,ed,4,17,"div",2),d()}if(i&2){let e=h();ce(e.styleClass),f("ngStyle",e.style)("ngClass",Cs(5,Gc,[e.modal,e.modal&&e.overlayResponsiveDirection==="center",e.modal&&e.overlayResponsiveDirection==="top",e.modal&&e.overlayResponsiveDirection==="top-start",e.modal&&e.overlayResponsiveDirection==="top-end",e.modal&&e.overlayResponsiveDirection==="bottom",e.modal&&e.overlayResponsiveDirection==="bottom-start",e.modal&&e.overlayResponsiveDirection==="bottom-end",e.modal&&e.overlayResponsiveDirection==="left",e.modal&&e.overlayResponsiveDirection==="left-start",e.modal&&e.overlayResponsiveDirection==="left-end",e.modal&&e.overlayResponsiveDirection==="right",e.modal&&e.overlayResponsiveDirection==="right-start",e.modal&&e.overlayResponsiveDirection==="right-end"])),p(2),f("ngIf",e.visible)}}var id=({dt:i})=>`
.p-overlay {
    position: absolute;
    top: 0;
    inset-inline-start: 0;
}

.p-overlay-modal {
    display: flex;
    align-items: center;
    justify-content: center;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.p-overlay-content {
    transform-origin: inherit;
}

.p-overlay-modal > .p-overlay-content {
    z-index: 1;
    width: 90%;
}

/* Position */
/* top */
.p-overlay-top {
    align-items: flex-start;
}
.p-overlay-top-start {
    align-items: flex-start;
    justify-content: flex-start;
}
.p-overlay-top-end {
    align-items: flex-start;
    justify-content: flex-end;
}

/* bottom */
.p-overlay-bottom {
    align-items: flex-end;
}
.p-overlay-bottom-start {
    align-items: flex-end;
    justify-content: flex-start;
}
.p-overlay-bottom-end {
    align-items: flex-end;
    justify-content: flex-end;
}

/* left */
.p-overlay-left {
    justify-content: flex-start;
}
.p-overlay-left-start {
    justify-content: flex-start;
    align-items: flex-start;
}
.p-overlay-left-end {
    justify-content: flex-start;
    align-items: flex-end;
}

/* right */
.p-overlay-right {
    justify-content: flex-end;
}
.p-overlay-right-start {
    justify-content: flex-end;
    align-items: flex-start;
}
.p-overlay-right-end {
    justify-content: flex-end;
    align-items: flex-end;
}
`,Sa=(()=>{class i extends Ae{name="overlay";theme=id;static \u0275fac=(()=>{let e;return function(r){return(e||(e=X(i)))(r||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})(),nd=Er([ni({transform:"{{transform}}",opacity:0}),br("{{showTransitionParams}}")]),rd=Er([br("{{hideTransitionParams}}",ni({transform:"{{transform}}",opacity:0}))]),Ar=(()=>{class i extends Se{overlayService;zone;get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.modalVisible&&(this.modalVisible=!0)}get mode(){return this._mode||this.overlayOptions?.mode}set mode(e){this._mode=e}get style(){return xi.merge(this._style,this.modal?this.overlayResponsiveOptions?.style:this.overlayOptions?.style)}set style(e){this._style=e}get styleClass(){return xi.merge(this._styleClass,this.modal?this.overlayResponsiveOptions?.styleClass:this.overlayOptions?.styleClass)}set styleClass(e){this._styleClass=e}get contentStyle(){return xi.merge(this._contentStyle,this.modal?this.overlayResponsiveOptions?.contentStyle:this.overlayOptions?.contentStyle)}set contentStyle(e){this._contentStyle=e}get contentStyleClass(){return xi.merge(this._contentStyleClass,this.modal?this.overlayResponsiveOptions?.contentStyleClass:this.overlayOptions?.contentStyleClass)}set contentStyleClass(e){this._contentStyleClass=e}get target(){let e=this._target||this.overlayOptions?.target;return e===void 0?"@prev":e}set target(e){this._target=e}get appendTo(){return this._appendTo||this.overlayOptions?.appendTo}set appendTo(e){this._appendTo=e}get autoZIndex(){let e=this._autoZIndex||this.overlayOptions?.autoZIndex;return e===void 0?!0:e}set autoZIndex(e){this._autoZIndex=e}get baseZIndex(){let e=this._baseZIndex||this.overlayOptions?.baseZIndex;return e===void 0?0:e}set baseZIndex(e){this._baseZIndex=e}get showTransitionOptions(){let e=this._showTransitionOptions||this.overlayOptions?.showTransitionOptions;return e===void 0?".12s cubic-bezier(0, 0, 0.2, 1)":e}set showTransitionOptions(e){this._showTransitionOptions=e}get hideTransitionOptions(){let e=this._hideTransitionOptions||this.overlayOptions?.hideTransitionOptions;return e===void 0?".1s linear":e}set hideTransitionOptions(e){this._hideTransitionOptions=e}get listener(){return this._listener||this.overlayOptions?.listener}set listener(e){this._listener=e}get responsive(){return this._responsive||this.overlayOptions?.responsive}set responsive(e){this._responsive=e}get options(){return this._options}set options(e){this._options=e}visibleChange=new B;onBeforeShow=new B;onShow=new B;onBeforeHide=new B;onHide=new B;onAnimationStart=new B;onAnimationDone=new B;overlayViewChild;contentViewChild;contentTemplate;templates;_contentTemplate;_visible=!1;_mode;_style;_styleClass;_contentStyle;_contentStyleClass;_target;_appendTo;_autoZIndex;_baseZIndex;_showTransitionOptions;_hideTransitionOptions;_listener;_responsive;_options;modalVisible=!1;isOverlayClicked=!1;isOverlayContentClicked=!1;scrollHandler;documentClickListener;documentResizeListener;_componentStyle=ye(Sa);documentKeyboardListener;window;transformOptions={default:"scaleY(0.8)",center:"scale(0.7)",top:"translate3d(0px, -100%, 0px)","top-start":"translate3d(0px, -100%, 0px)","top-end":"translate3d(0px, -100%, 0px)",bottom:"translate3d(0px, 100%, 0px)","bottom-start":"translate3d(0px, 100%, 0px)","bottom-end":"translate3d(0px, 100%, 0px)",left:"translate3d(-100%, 0px, 0px)","left-start":"translate3d(-100%, 0px, 0px)","left-end":"translate3d(-100%, 0px, 0px)",right:"translate3d(100%, 0px, 0px)","right-start":"translate3d(100%, 0px, 0px)","right-end":"translate3d(100%, 0px, 0px)"};get modal(){if(ve(this.platformId))return this.mode==="modal"||this.overlayResponsiveOptions&&this.document.defaultView?.matchMedia(this.overlayResponsiveOptions.media?.replace("@media","")||`(max-width: ${this.overlayResponsiveOptions.breakpoint})`).matches}get overlayMode(){return this.mode||(this.modal?"modal":"overlay")}get overlayOptions(){return Z(Z({},this.config?.overlayOptions),this.options)}get overlayResponsiveOptions(){return Z(Z({},this.overlayOptions?.responsive),this.responsive)}get overlayResponsiveDirection(){return this.overlayResponsiveOptions?.direction||"center"}get overlayEl(){return this.overlayViewChild?.nativeElement}get contentEl(){return this.contentViewChild?.nativeElement}get targetEl(){return ra(this.target,this.el?.nativeElement)}constructor(e,n){super(),this.overlayService=e,this.zone=n}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this._contentTemplate=e.template;break;default:this._contentTemplate=e.template;break}})}show(e,n=!1){this.onVisibleChange(!0),this.handleEvents("onShow",{overlay:e||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),n&&Fe(this.targetEl),this.modal&&fr(this.document?.body,"p-overflow-hidden")}hide(e,n=!1){if(this.visible)this.onVisibleChange(!1),this.handleEvents("onHide",{overlay:e||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),n&&Fe(this.targetEl),this.modal&&Qs(this.document?.body,"p-overflow-hidden");else return}alignOverlay(){!this.modal&&Si.alignOverlay(this.overlayEl,this.targetEl,this.appendTo)}onVisibleChange(e){this._visible=e,this.visibleChange.emit(e)}onOverlayClick(){this.isOverlayClicked=!0}onOverlayContentClick(e){this.overlayService.add({originalEvent:e,target:this.targetEl}),this.isOverlayContentClicked=!0}onOverlayContentAnimationStart(e){switch(e.toState){case"visible":this.handleEvents("onBeforeShow",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.autoZIndex&&vt.set(this.overlayMode,this.overlayEl,this.baseZIndex+this.config?.zIndex[this.overlayMode]),Si.appendOverlay(this.overlayEl,this.appendTo==="body"?this.document.body:this.appendTo,this.appendTo),this.alignOverlay();break;case"void":this.handleEvents("onBeforeHide",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.modal&&fr(this.overlayEl,"p-overlay-mask-leave");break}this.handleEvents("onAnimationStart",e)}onOverlayContentAnimationDone(e){let n=this.overlayEl||e.element.parentElement;switch(e.toState){case"visible":this.visible&&(this.show(n,!0),this.bindListeners());break;case"void":if(!this.visible){this.hide(n,!0),this.modalVisible=!1,this.unbindListeners(),Si.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),vt.clear(n),this.cd.markForCheck();break}}this.handleEvents("onAnimationDone",e)}handleEvents(e,n){this[e].emit(n),this.options&&this.options[e]&&this.options[e](n),this.config?.overlayOptions&&(this.config?.overlayOptions)[e]&&(this.config?.overlayOptions)[e](n)}bindListeners(){this.bindScrollListener(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindDocumentKeyboardListener()}unbindListeners(){this.unbindScrollListener(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindDocumentKeyboardListener()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new on(this.targetEl,e=>{(this.listener?this.listener(e,{type:"scroll",mode:this.overlayMode,valid:!0}):!0)&&this.hide(e,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.document,"click",e=>{let r=!(this.targetEl&&(this.targetEl.isSameNode(e.target)||!this.isOverlayClicked&&this.targetEl.contains(e.target)))&&!this.isOverlayContentClicked;(this.listener?this.listener(e,{type:"outside",mode:this.overlayMode,valid:e.which!==3&&r}):r)&&this.hide(e),this.isOverlayClicked=this.isOverlayContentClicked=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener||(this.documentResizeListener=this.renderer.listen(this.document.defaultView,"resize",e=>{(this.listener?this.listener(e,{type:"resize",mode:this.overlayMode,valid:!Pt()}):!Pt())&&this.hide(e,!0)}))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindDocumentKeyboardListener(){this.documentKeyboardListener||this.zone.runOutsideAngular(()=>{this.documentKeyboardListener=this.renderer.listen(this.document.defaultView,"keydown",e=>{if(this.overlayOptions.hideOnEscape===!1||e.code!=="Escape")return;(this.listener?this.listener(e,{type:"keydown",mode:this.overlayMode,valid:!Pt()}):!Pt())&&this.zone.run(()=>{this.hide(e,!0)})})})}unbindDocumentKeyboardListener(){this.documentKeyboardListener&&(this.documentKeyboardListener(),this.documentKeyboardListener=null)}ngOnDestroy(){this.hide(this.overlayEl,!0),this.overlayEl&&(Si.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),vt.clear(this.overlayEl)),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.unbindListeners(),super.ngOnDestroy()}static \u0275fac=function(n){return new(n||i)(U(ha),U(Ke))};static \u0275cmp=W({type:i,selectors:[["p-overlay"]],contentQueries:function(n,r,o){if(n&1&&(Re(o,Ta,4),Re(o,ti,4)),n&2){let s;K(s=G())&&(r.contentTemplate=s.first),K(s=G())&&(r.templates=s)}},viewQuery:function(n,r){if(n&1&&(me(qc,5),me(Ta,5)),n&2){let o;K(o=G())&&(r.overlayViewChild=o.first),K(o=G())&&(r.contentViewChild=o.first)}},inputs:{visible:"visible",mode:"mode",style:"style",styleClass:"styleClass",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",target:"target",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",listener:"listener",responsive:"responsive",options:"options"},outputs:{visibleChange:"visibleChange",onBeforeShow:"onBeforeShow",onShow:"onShow",onBeforeHide:"onBeforeHide",onHide:"onHide",onAnimationStart:"onAnimationStart",onAnimationDone:"onAnimationDone"},features:[Oe([Sa]),oe],ngContentSelectors:Kc,decls:1,vars:1,consts:[["overlay",""],["content",""],[3,"ngStyle","class","ngClass","click",4,"ngIf"],[3,"click","ngStyle","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,r){n&1&&(ft(),v(0,td,3,20,"div",2)),n&2&&f("ngIf",r.modalVisible)},dependencies:[ge,it,Te,Ot,xt,Ve],encapsulation:2,data:{animation:[ga("overlayContentAnimation",[wr(":enter",[Ir(nd)]),wr(":leave",[Ir(rd)])])]},changeDetection:0})}return i})(),kr=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Ge({type:i});static \u0275inj=qe({imports:[Ar,Ve,Ve]})}return i})();var Ca=["content"],sd=["item"],ad=["loader"],ld=["loadericon"],cd=["element"],dd=["*"],ud=(i,t,e)=>({"p-virtualscroller":!0,"p-virtualscroller-inline":i,"p-virtualscroller-both p-both-scroll":t,"p-virtualscroller-horizontal p-horizontal-scroll":e}),Pr=(i,t)=>({$implicit:i,options:t}),hd=i=>({"p-virtualscroller-loading ":i}),pd=i=>({"p-virtualscroller-loader-mask":i}),fd=i=>({numCols:i}),Oa=i=>({options:i}),md=()=>({styleClass:"p-virtualscroller-loading-icon"}),gd=(i,t)=>({rows:i,columns:t});function _d(i,t){i&1&&ie(0)}function yd(i,t){if(i&1&&(ee(0),v(1,_d,1,0,"ng-container",10),te()),i&2){let e=h(2);p(),f("ngTemplateOutlet",e.contentTemplate||e._contentTemplate)("ngTemplateOutletContext",Qe(2,Pr,e.loadedItems,e.getContentOptions()))}}function vd(i,t){i&1&&ie(0)}function bd(i,t){if(i&1&&(ee(0),v(1,vd,1,0,"ng-container",10),te()),i&2){let e=t.$implicit,n=t.index,r=h(3);p(),f("ngTemplateOutlet",r.itemTemplate||r._itemTemplate)("ngTemplateOutletContext",Qe(2,Pr,e,r.getOptions(n)))}}function wd(i,t){if(i&1&&(u(0,"div",11,3),v(2,bd,2,5,"ng-container",12),d()),i&2){let e=h(2);f("ngClass",Y(5,hd,e.d_loading))("ngStyle",e.contentStyle),q("data-pc-section","content"),p(2),f("ngForOf",e.loadedItems)("ngForTrackBy",e._trackBy)}}function Ed(i,t){if(i&1&&M(0,"div",13),i&2){let e=h(2);f("ngStyle",e.spacerStyle),q("data-pc-section","spacer")}}function Id(i,t){i&1&&ie(0)}function Td(i,t){if(i&1&&(ee(0),v(1,Id,1,0,"ng-container",10),te()),i&2){let e=t.index,n=h(4);p(),f("ngTemplateOutlet",n.loaderTemplate||n._loaderTemplate)("ngTemplateOutletContext",Y(4,Oa,n.getLoaderOptions(e,n.both&&Y(2,fd,n.numItemsInViewport.cols))))}}function Sd(i,t){if(i&1&&(ee(0),v(1,Td,2,6,"ng-container",15),te()),i&2){let e=h(3);p(),f("ngForOf",e.loaderArr)}}function Cd(i,t){i&1&&ie(0)}function xd(i,t){if(i&1&&(ee(0),v(1,Cd,1,0,"ng-container",10),te()),i&2){let e=h(4);p(),f("ngTemplateOutlet",e.loaderIconTemplate||e._loaderIconTemplate)("ngTemplateOutletContext",Y(3,Oa,Kt(2,md)))}}function Od(i,t){i&1&&M(0,"SpinnerIcon",16),i&2&&(f("styleClass","p-virtualscroller-loading-icon pi-spin"),q("data-pc-section","loadingIcon"))}function Ad(i,t){if(i&1&&v(0,xd,2,5,"ng-container",6)(1,Od,1,2,"ng-template",null,5,Ie),i&2){let e=Me(2),n=h(3);f("ngIf",n.loaderIconTemplate||n._loaderIconTemplate)("ngIfElse",e)}}function kd(i,t){if(i&1&&(u(0,"div",14),v(1,Sd,2,1,"ng-container",6)(2,Ad,3,2,"ng-template",null,4,Ie),d()),i&2){let e=Me(3),n=h(2);f("ngClass",Y(4,pd,!n.loaderTemplate)),q("data-pc-section","loader"),p(),f("ngIf",n.loaderTemplate||n._loaderTemplate)("ngIfElse",e)}}function Pd(i,t){if(i&1){let e=$();ee(0),u(1,"div",7,1),I("scroll",function(r){T(e);let o=h();return S(o.onContainerScroll(r))}),v(3,yd,2,5,"ng-container",6)(4,wd,3,7,"ng-template",null,2,Ie)(6,Ed,1,2,"div",8)(7,kd,4,6,"div",9),d(),te()}if(i&2){let e=Me(5),n=h();p(),ce(n._styleClass),f("ngStyle",n._style)("ngClass",Gt(12,ud,n.inline,n.both,n.horizontal)),q("id",n._id)("tabindex",n.tabindex)("data-pc-name","scroller")("data-pc-section","root"),p(2),f("ngIf",n.contentTemplate||n._contentTemplate)("ngIfElse",e),p(3),f("ngIf",n._showSpacer),p(),f("ngIf",!n.loaderDisabled&&n._showLoader&&n.d_loading)}}function Dd(i,t){i&1&&ie(0)}function Rd(i,t){if(i&1&&(ee(0),v(1,Dd,1,0,"ng-container",10),te()),i&2){let e=h(2);p(),f("ngTemplateOutlet",e.contentTemplate||e._contentTemplate)("ngTemplateOutletContext",Qe(5,Pr,e.items,Qe(2,gd,e._items,e.loadedColumns)))}}function Md(i,t){if(i&1&&(mt(0),v(1,Rd,2,8,"ng-container",17)),i&2){let e=h();p(),f("ngIf",e.contentTemplate||e._contentTemplate)}}var Nd=({dt:i})=>`
.p-virtualscroller {
    position: relative;
    overflow: auto;
    contain: strict;
    transform: translateZ(0);
    will-change: scroll-position;
    outline: 0 none;
}

.p-virtualscroller-content {
    position: absolute;
    top: 0;
    left: 0;
    min-height: 100%;
    min-width: 100%;
    will-change: transform;
}

.p-virtualscroller-spacer {
    position: absolute;
    top: 0;
    left: 0;
    height: 1px;
    width: 1px;
    transform-origin: 0 0;
    pointer-events: none;
}

.p-virtualscroller-loader {
    position: sticky;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: ${i("virtualscroller.loader.mask.background")};
    color: ${i("virtualscroller.loader.mask.color")};
}

.p-virtualscroller-loader-mask {
    display: flex;
    align-items: center;
    justify-content: center;
}

.p-virtualscroller-loading-icon {
    font-size: ${i("virtualscroller.loader.icon.size")};
    width: ${i("virtualscroller.loader.icon.size")};
    height: ${i("virtualscroller.loader.icon.size")};
}

.p-virtualscroller-horizontal > .p-virtualscroller-content {
    display: flex;
}

.p-virtualscroller-inline .p-virtualscroller-content {
    position: static;
}
`,xa=(()=>{class i extends Ae{name="virtualscroller";theme=Nd;static \u0275fac=(()=>{let e;return function(r){return(e||(e=X(i)))(r||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var Dr=(()=>{class i extends Se{zone;get id(){return this._id}set id(e){this._id=e}get style(){return this._style}set style(e){this._style=e}get styleClass(){return this._styleClass}set styleClass(e){this._styleClass=e}get tabindex(){return this._tabindex}set tabindex(e){this._tabindex=e}get items(){return this._items}set items(e){this._items=e}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e}get scrollHeight(){return this._scrollHeight}set scrollHeight(e){this._scrollHeight=e}get scrollWidth(){return this._scrollWidth}set scrollWidth(e){this._scrollWidth=e}get orientation(){return this._orientation}set orientation(e){this._orientation=e}get step(){return this._step}set step(e){this._step=e}get delay(){return this._delay}set delay(e){this._delay=e}get resizeDelay(){return this._resizeDelay}set resizeDelay(e){this._resizeDelay=e}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=e}get inline(){return this._inline}set inline(e){this._inline=e}get lazy(){return this._lazy}set lazy(e){this._lazy=e}get disabled(){return this._disabled}set disabled(e){this._disabled=e}get loaderDisabled(){return this._loaderDisabled}set loaderDisabled(e){this._loaderDisabled=e}get columns(){return this._columns}set columns(e){this._columns=e}get showSpacer(){return this._showSpacer}set showSpacer(e){this._showSpacer=e}get showLoader(){return this._showLoader}set showLoader(e){this._showLoader=e}get numToleratedItems(){return this._numToleratedItems}set numToleratedItems(e){this._numToleratedItems=e}get loading(){return this._loading}set loading(e){this._loading=e}get autoSize(){return this._autoSize}set autoSize(e){this._autoSize=e}get trackBy(){return this._trackBy}set trackBy(e){this._trackBy=e}get options(){return this._options}set options(e){this._options=e,e&&typeof e=="object"&&Object.entries(e).forEach(([n,r])=>this[`_${n}`]!==r&&(this[`_${n}`]=r))}onLazyLoad=new B;onScroll=new B;onScrollIndexChange=new B;elementViewChild;contentViewChild;height;_id;_style;_styleClass;_tabindex=0;_items;_itemSize=0;_scrollHeight;_scrollWidth;_orientation="vertical";_step=0;_delay=0;_resizeDelay=10;_appendOnly=!1;_inline=!1;_lazy=!1;_disabled=!1;_loaderDisabled=!1;_columns;_showSpacer=!0;_showLoader=!1;_numToleratedItems;_loading;_autoSize=!1;_trackBy;_options;d_loading=!1;d_numToleratedItems;contentEl;contentTemplate;itemTemplate;loaderTemplate;loaderIconTemplate;templates;_contentTemplate;_itemTemplate;_loaderTemplate;_loaderIconTemplate;first=0;last=0;page=0;isRangeChanged=!1;numItemsInViewport=0;lastScrollPos=0;lazyLoadState={};loaderArr=[];spacerStyle={};contentStyle={};scrollTimeout;resizeTimeout;initialized=!1;windowResizeListener;defaultWidth;defaultHeight;defaultContentWidth;defaultContentHeight;get vertical(){return this._orientation==="vertical"}get horizontal(){return this._orientation==="horizontal"}get both(){return this._orientation==="both"}get loadedItems(){return this._items&&!this.d_loading?this.both?this._items.slice(this._appendOnly?0:this.first.rows,this.last.rows).map(e=>this._columns?e:e.slice(this._appendOnly?0:this.first.cols,this.last.cols)):this.horizontal&&this._columns?this._items:this._items.slice(this._appendOnly?0:this.first,this.last):[]}get loadedRows(){return this.d_loading?this._loaderDisabled?this.loaderArr:[]:this.loadedItems}get loadedColumns(){return this._columns&&(this.both||this.horizontal)?this.d_loading&&this._loaderDisabled?this.both?this.loaderArr[0]:this.loaderArr:this._columns.slice(this.both?this.first.cols:this.first,this.both?this.last.cols:this.last):this._columns}_componentStyle=ye(xa);constructor(e){super(),this.zone=e}ngOnInit(){super.ngOnInit(),this.setInitialState()}ngOnChanges(e){super.ngOnChanges(e);let n=!1;if(this.scrollHeight=="100%"&&(this.height="100%"),e.loading){let{previousValue:r,currentValue:o}=e.loading;this.lazy&&r!==o&&o!==this.d_loading&&(this.d_loading=o,n=!0)}if(e.orientation&&(this.lastScrollPos=this.both?{top:0,left:0}:0),e.numToleratedItems){let{previousValue:r,currentValue:o}=e.numToleratedItems;r!==o&&o!==this.d_numToleratedItems&&(this.d_numToleratedItems=o)}if(e.options){let{previousValue:r,currentValue:o}=e.options;this.lazy&&r?.loading!==o?.loading&&o?.loading!==this.d_loading&&(this.d_loading=o.loading,n=!0),r?.numToleratedItems!==o?.numToleratedItems&&o?.numToleratedItems!==this.d_numToleratedItems&&(this.d_numToleratedItems=o.numToleratedItems)}this.initialized&&!n&&(e.items?.previousValue?.length!==e.items?.currentValue?.length||e.itemSize||e.scrollHeight||e.scrollWidth)&&(this.init(),this.calculateAutoSize())}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this._contentTemplate=e.template;break;case"item":this._itemTemplate=e.template;break;case"loader":this._loaderTemplate=e.template;break;case"loadericon":this._loaderIconTemplate=e.template;break;default:this._itemTemplate=e.template;break}})}ngAfterViewInit(){super.ngAfterViewInit(),Promise.resolve().then(()=>{this.viewInit()})}ngAfterViewChecked(){this.initialized||this.viewInit()}ngOnDestroy(){this.unbindResizeListener(),this.contentEl=null,this.initialized=!1,super.ngOnDestroy()}viewInit(){ve(this.platformId)&&!this.initialized&&gr(this.elementViewChild?.nativeElement)&&(this.setInitialState(),this.setContentEl(this.contentEl),this.init(),this.defaultWidth=kt(this.elementViewChild?.nativeElement),this.defaultHeight=At(this.elementViewChild?.nativeElement),this.defaultContentWidth=kt(this.contentEl),this.defaultContentHeight=At(this.contentEl),this.initialized=!0)}init(){this._disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize(),this.bindResizeListener(),this.cd.detectChanges())}setContentEl(e){this.contentEl=e||this.contentViewChild?.nativeElement||Le(this.elementViewChild?.nativeElement,".p-virtualscroller-content")}setInitialState(){this.first=this.both?{rows:0,cols:0}:0,this.last=this.both?{rows:0,cols:0}:0,this.numItemsInViewport=this.both?{rows:0,cols:0}:0,this.lastScrollPos=this.both?{top:0,left:0}:0,this.d_loading=this._loading||!1,this.d_numToleratedItems=this._numToleratedItems,this.loaderArr=[],this.spacerStyle={},this.contentStyle={}}getElementRef(){return this.elementViewChild}getPageByFirst(e){return Math.floor(((e??this.first)+this.d_numToleratedItems*4)/(this._step||1))}isPageChanged(e){return this._step?this.page!==this.getPageByFirst(e??this.first):!0}scrollTo(e){this.elementViewChild?.nativeElement?.scrollTo(e)}scrollToIndex(e,n="auto"){if(this.both?e.every(o=>o>-1):e>-1){let o=this.first,{scrollTop:s=0,scrollLeft:a=0}=this.elementViewChild?.nativeElement,{numToleratedItems:l}=this.calculateNumItems(),c=this.getContentPosition(),m=this.itemSize,_=(P=0,R)=>P<=R?0:P,E=(P,R,V)=>P*R+V,w=(P=0,R=0)=>this.scrollTo({left:P,top:R,behavior:n}),b=this.both?{rows:0,cols:0}:0,O=!1,x=!1;this.both?(b={rows:_(e[0],l[0]),cols:_(e[1],l[1])},w(E(b.cols,m[1],c.left),E(b.rows,m[0],c.top)),x=this.lastScrollPos.top!==s||this.lastScrollPos.left!==a,O=b.rows!==o.rows||b.cols!==o.cols):(b=_(e,l),this.horizontal?w(E(b,m,c.left),s):w(a,E(b,m,c.top)),x=this.lastScrollPos!==(this.horizontal?a:s),O=b!==o),this.isRangeChanged=O,x&&(this.first=b)}}scrollInView(e,n,r="auto"){if(n){let{first:o,viewport:s}=this.getRenderedRange(),a=(m=0,_=0)=>this.scrollTo({left:m,top:_,behavior:r}),l=n==="to-start",c=n==="to-end";if(l){if(this.both)s.first.rows-o.rows>e[0]?a(s.first.cols*this._itemSize[1],(s.first.rows-1)*this._itemSize[0]):s.first.cols-o.cols>e[1]&&a((s.first.cols-1)*this._itemSize[1],s.first.rows*this._itemSize[0]);else if(s.first-o>e){let m=(s.first-1)*this._itemSize;this.horizontal?a(m,0):a(0,m)}}else if(c){if(this.both)s.last.rows-o.rows<=e[0]+1?a(s.first.cols*this._itemSize[1],(s.first.rows+1)*this._itemSize[0]):s.last.cols-o.cols<=e[1]+1&&a((s.first.cols+1)*this._itemSize[1],s.first.rows*this._itemSize[0]);else if(s.last-o<=e+1){let m=(s.first+1)*this._itemSize;this.horizontal?a(m,0):a(0,m)}}}else this.scrollToIndex(e,r)}getRenderedRange(){let e=(o,s)=>s||o?Math.floor(o/(s||o)):0,n=this.first,r=0;if(this.elementViewChild?.nativeElement){let{scrollTop:o,scrollLeft:s}=this.elementViewChild.nativeElement;if(this.both)n={rows:e(o,this._itemSize[0]),cols:e(s,this._itemSize[1])},r={rows:n.rows+this.numItemsInViewport.rows,cols:n.cols+this.numItemsInViewport.cols};else{let a=this.horizontal?s:o;n=e(a,this._itemSize),r=n+this.numItemsInViewport}}return{first:this.first,last:this.last,viewport:{first:n,last:r}}}calculateNumItems(){let e=this.getContentPosition(),n=(this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetWidth-e.left:0)||0,r=(this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetHeight-e.top:0)||0,o=(c,m)=>m||c?Math.ceil(c/(m||c)):0,s=c=>Math.ceil(c/2),a=this.both?{rows:o(r,this._itemSize[0]),cols:o(n,this._itemSize[1])}:o(this.horizontal?n:r,this._itemSize),l=this.d_numToleratedItems||(this.both?[s(a.rows),s(a.cols)]:s(a));return{numItemsInViewport:a,numToleratedItems:l}}calculateOptions(){let{numItemsInViewport:e,numToleratedItems:n}=this.calculateNumItems(),r=(a,l,c,m=!1)=>this.getLast(a+l+(a<c?2:3)*c,m),o=this.first,s=this.both?{rows:r(this.first.rows,e.rows,n[0]),cols:r(this.first.cols,e.cols,n[1],!0)}:r(this.first,e,n);this.last=s,this.numItemsInViewport=e,this.d_numToleratedItems=n,this.showLoader&&(this.loaderArr=this.both?Array.from({length:e.rows}).map(()=>Array.from({length:e.cols})):Array.from({length:e})),this._lazy&&Promise.resolve().then(()=>{this.lazyLoadState={first:this._step?this.both?{rows:0,cols:o.cols}:0:o,last:Math.min(this._step?this._step:this.last,this.items.length)},this.handleEvents("onLazyLoad",this.lazyLoadState)})}calculateAutoSize(){this._autoSize&&!this.d_loading&&Promise.resolve().then(()=>{if(this.contentEl){this.contentEl.style.minHeight=this.contentEl.style.minWidth="auto",this.contentEl.style.position="relative",this.elementViewChild.nativeElement.style.contain="none";let[e,n]=[kt(this.contentEl),At(this.contentEl)];e!==this.defaultContentWidth&&(this.elementViewChild.nativeElement.style.width=""),n!==this.defaultContentHeight&&(this.elementViewChild.nativeElement.style.height="");let[r,o]=[kt(this.elementViewChild.nativeElement),At(this.elementViewChild.nativeElement)];(this.both||this.horizontal)&&(this.elementViewChild.nativeElement.style.width=r<this.defaultWidth?r+"px":this._scrollWidth||this.defaultWidth+"px"),(this.both||this.vertical)&&(this.elementViewChild.nativeElement.style.height=o<this.defaultHeight?o+"px":this._scrollHeight||this.defaultHeight+"px"),this.contentEl.style.minHeight=this.contentEl.style.minWidth="",this.contentEl.style.position="",this.elementViewChild.nativeElement.style.contain=""}})}getLast(e=0,n=!1){return this._items?Math.min(n?(this._columns||this._items[0]).length:this._items.length,e):0}getContentPosition(){if(this.contentEl){let e=getComputedStyle(this.contentEl),n=parseFloat(e.paddingLeft)+Math.max(parseFloat(e.left)||0,0),r=parseFloat(e.paddingRight)+Math.max(parseFloat(e.right)||0,0),o=parseFloat(e.paddingTop)+Math.max(parseFloat(e.top)||0,0),s=parseFloat(e.paddingBottom)+Math.max(parseFloat(e.bottom)||0,0);return{left:n,right:r,top:o,bottom:s,x:n+r,y:o+s}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}}setSize(){if(this.elementViewChild?.nativeElement){let e=this.elementViewChild.nativeElement.parentElement.parentElement,n=this._scrollWidth||`${this.elementViewChild.nativeElement.offsetWidth||e.offsetWidth}px`,r=this._scrollHeight||`${this.elementViewChild.nativeElement.offsetHeight||e.offsetHeight}px`,o=(s,a)=>this.elementViewChild.nativeElement.style[s]=a;this.both||this.horizontal?(o("height",r),o("width",n)):o("height",r)}}setSpacerSize(){if(this._items){let e=this.getContentPosition(),n=(r,o,s,a=0)=>this.spacerStyle=Ct(Z({},this.spacerStyle),{[`${r}`]:(o||[]).length*s+a+"px"});this.both?(n("height",this._items,this._itemSize[0],e.y),n("width",this._columns||this._items[1],this._itemSize[1],e.x)):this.horizontal?n("width",this._columns||this._items,this._itemSize,e.x):n("height",this._items,this._itemSize,e.y)}}setContentPosition(e){if(this.contentEl&&!this._appendOnly){let n=e?e.first:this.first,r=(s,a)=>s*a,o=(s=0,a=0)=>this.contentStyle=Ct(Z({},this.contentStyle),{transform:`translate3d(${s}px, ${a}px, 0)`});if(this.both)o(r(n.cols,this._itemSize[1]),r(n.rows,this._itemSize[0]));else{let s=r(n,this._itemSize);this.horizontal?o(s,0):o(0,s)}}}onScrollPositionChange(e){let n=e.target,r=this.getContentPosition(),o=(x,P)=>x?x>P?x-P:x:0,s=(x,P)=>P||x?Math.floor(x/(P||x)):0,a=(x,P,R,V,z,le)=>x<=z?z:le?R-V-z:P+z-1,l=(x,P,R,V,z,le,re)=>x<=le?0:Math.max(0,re?x<P?R:x-le:x>P?R:x-2*le),c=(x,P,R,V,z,le=!1)=>{let re=P+V+2*z;return x>=z&&(re+=z+1),this.getLast(re,le)},m=o(n.scrollTop,r.top),_=o(n.scrollLeft,r.left),E=this.both?{rows:0,cols:0}:0,w=this.last,b=!1,O=this.lastScrollPos;if(this.both){let x=this.lastScrollPos.top<=m,P=this.lastScrollPos.left<=_;if(!this._appendOnly||this._appendOnly&&(x||P)){let R={rows:s(m,this._itemSize[0]),cols:s(_,this._itemSize[1])},V={rows:a(R.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],x),cols:a(R.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],P)};E={rows:l(R.rows,V.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],x),cols:l(R.cols,V.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],P)},w={rows:c(R.rows,E.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:c(R.cols,E.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},b=E.rows!==this.first.rows||w.rows!==this.last.rows||E.cols!==this.first.cols||w.cols!==this.last.cols||this.isRangeChanged,O={top:m,left:_}}}else{let x=this.horizontal?_:m,P=this.lastScrollPos<=x;if(!this._appendOnly||this._appendOnly&&P){let R=s(x,this._itemSize),V=a(R,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,P);E=l(R,V,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,P),w=c(R,E,this.last,this.numItemsInViewport,this.d_numToleratedItems),b=E!==this.first||w!==this.last||this.isRangeChanged,O=x}}return{first:E,last:w,isRangeChanged:b,scrollPos:O}}onScrollChange(e){let{first:n,last:r,isRangeChanged:o,scrollPos:s}=this.onScrollPositionChange(e);if(o){let a={first:n,last:r};if(this.setContentPosition(a),this.first=n,this.last=r,this.lastScrollPos=s,this.handleEvents("onScrollIndexChange",a),this._lazy&&this.isPageChanged(n)){let l={first:this._step?Math.min(this.getPageByFirst(n)*this._step,this.items.length-this._step):n,last:Math.min(this._step?(this.getPageByFirst(n)+1)*this._step:r,this.items.length)};(this.lazyLoadState.first!==l.first||this.lazyLoadState.last!==l.last)&&this.handleEvents("onLazyLoad",l),this.lazyLoadState=l}}}onContainerScroll(e){if(this.handleEvents("onScroll",{originalEvent:e}),this._delay&&this.isPageChanged()){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),!this.d_loading&&this.showLoader){let{isRangeChanged:n}=this.onScrollPositionChange(e);(n||(this._step?this.isPageChanged():!1))&&(this.d_loading=!0,this.cd.detectChanges())}this.scrollTimeout=setTimeout(()=>{this.onScrollChange(e),this.d_loading&&this.showLoader&&(!this._lazy||this._loading===void 0)&&(this.d_loading=!1,this.page=this.getPageByFirst()),this.cd.detectChanges()},this._delay)}else!this.d_loading&&this.onScrollChange(e)}bindResizeListener(){ve(this.platformId)&&(this.windowResizeListener||this.zone.runOutsideAngular(()=>{let e=this.document.defaultView,n=Pt()?"orientationchange":"resize";this.windowResizeListener=this.renderer.listen(e,n,this.onWindowResize.bind(this))}))}unbindResizeListener(){this.windowResizeListener&&(this.windowResizeListener(),this.windowResizeListener=null)}onWindowResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{if(gr(this.elementViewChild?.nativeElement)){let[e,n]=[kt(this.elementViewChild?.nativeElement),At(this.elementViewChild?.nativeElement)],[r,o]=[e!==this.defaultWidth,n!==this.defaultHeight];(this.both?r||o:this.horizontal?r:this.vertical?o:!1)&&this.zone.run(()=>{this.d_numToleratedItems=this._numToleratedItems,this.defaultWidth=e,this.defaultHeight=n,this.defaultContentWidth=kt(this.contentEl),this.defaultContentHeight=At(this.contentEl),this.init()})}},this._resizeDelay)}handleEvents(e,n){return this.options&&this.options[e]?this.options[e](n):this[e].emit(n)}getContentOptions(){return{contentStyleClass:`p-virtualscroller-content ${this.d_loading?"p-virtualscroller-loading":""}`,items:this.loadedItems,getItemOptions:e=>this.getOptions(e),loading:this.d_loading,getLoaderOptions:(e,n)=>this.getLoaderOptions(e,n),itemSize:this._itemSize,rows:this.loadedRows,columns:this.loadedColumns,spacerStyle:this.spacerStyle,contentStyle:this.contentStyle,vertical:this.vertical,horizontal:this.horizontal,both:this.both}}getOptions(e){let n=(this._items||[]).length,r=this.both?this.first.rows+e:this.first+e;return{index:r,count:n,first:r===0,last:r===n-1,even:r%2===0,odd:r%2!==0}}getLoaderOptions(e,n){let r=this.loaderArr.length;return Z({index:e,count:r,first:e===0,last:e===r-1,even:e%2===0,odd:e%2!==0},n)}static \u0275fac=function(n){return new(n||i)(U(Ke))};static \u0275cmp=W({type:i,selectors:[["p-scroller"],["p-virtualscroller"],["p-virtual-scroller"],["p-virtualScroller"]],contentQueries:function(n,r,o){if(n&1&&(Re(o,Ca,4),Re(o,sd,4),Re(o,ad,4),Re(o,ld,4),Re(o,ti,4)),n&2){let s;K(s=G())&&(r.contentTemplate=s.first),K(s=G())&&(r.itemTemplate=s.first),K(s=G())&&(r.loaderTemplate=s.first),K(s=G())&&(r.loaderIconTemplate=s.first),K(s=G())&&(r.templates=s)}},viewQuery:function(n,r){if(n&1&&(me(cd,5),me(Ca,5)),n&2){let o;K(o=G())&&(r.elementViewChild=o.first),K(o=G())&&(r.contentViewChild=o.first)}},hostVars:2,hostBindings:function(n,r){n&2&&Yi("height",r.height)},inputs:{id:"id",style:"style",styleClass:"styleClass",tabindex:"tabindex",items:"items",itemSize:"itemSize",scrollHeight:"scrollHeight",scrollWidth:"scrollWidth",orientation:"orientation",step:"step",delay:"delay",resizeDelay:"resizeDelay",appendOnly:"appendOnly",inline:"inline",lazy:"lazy",disabled:"disabled",loaderDisabled:"loaderDisabled",columns:"columns",showSpacer:"showSpacer",showLoader:"showLoader",numToleratedItems:"numToleratedItems",loading:"loading",autoSize:"autoSize",trackBy:"trackBy",options:"options"},outputs:{onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange"},features:[Oe([xa]),oe,Wt],ngContentSelectors:dd,decls:3,vars:2,consts:[["disabledContainer",""],["element",""],["buildInContent",""],["content",""],["buildInLoader",""],["buildInLoaderIcon",""],[4,"ngIf","ngIfElse"],[3,"scroll","ngStyle","ngClass"],["class","p-virtualscroller-spacer",3,"ngStyle",4,"ngIf"],["class","p-virtualscroller-loader",3,"ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-virtualscroller-content",3,"ngClass","ngStyle"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-virtualscroller-spacer",3,"ngStyle"],[1,"p-virtualscroller-loader",3,"ngClass"],[4,"ngFor","ngForOf"],[3,"styleClass"],[4,"ngIf"]],template:function(n,r){if(n&1&&(ft(),v(0,Pd,8,16,"ng-container",6)(1,Md,2,1,"ng-template",null,0,Ie)),n&2){let o=Me(2);f("ngIf",!r._disabled)("ngIfElse",o)}},dependencies:[ge,it,Qt,Te,Ot,xt,ma,Ve],encapsulation:2})}return i})();var Ld=({dt:i})=>`
.p-tooltip {
    position: absolute;
    display: none;
    max-width: ${i("tooltip.max.width")};
}

.p-tooltip-right,
.p-tooltip-left {
    padding: 0 ${i("tooltip.gutter")};
}

.p-tooltip-top,
.p-tooltip-bottom {
    padding: ${i("tooltip.gutter")} 0;
}

.p-tooltip-text {
    white-space: pre-line;
    word-break: break-word;
    background: ${i("tooltip.background")};
    color: ${i("tooltip.color")};
    padding: ${i("tooltip.padding")};
    box-shadow: ${i("tooltip.shadow")};
    border-radius: ${i("tooltip.border.radius")};
}

.p-tooltip-arrow {
    position: absolute;
    width: 0;
    height: 0;
    border-color: transparent;
    border-style: solid;
    scale: 2;
}

.p-tooltip-right .p-tooltip-arrow {
    top: 50%;
    left: 0;
    margin-top: calc(-1 * ${i("tooltip.gutter")});
    border-width: ${i("tooltip.gutter")} ${i("tooltip.gutter")} ${i("tooltip.gutter")} 0;
    border-right-color: ${i("tooltip.background")};
}

.p-tooltip-left .p-tooltip-arrow {
    top: 50%;
    right: 0;
    margin-top: calc(-1 * ${i("tooltip.gutter")});
    border-width: ${i("tooltip.gutter")} 0 ${i("tooltip.gutter")} ${i("tooltip.gutter")};
    border-left-color: ${i("tooltip.background")};
}

.p-tooltip-top .p-tooltip-arrow {
    bottom: 0;
    left: 50%;
    margin-left: calc(-1 * ${i("tooltip.gutter")});
    border-width: ${i("tooltip.gutter")} ${i("tooltip.gutter")} 0 ${i("tooltip.gutter")};
    border-top-color: ${i("tooltip.background")};
    border-bottom-color: ${i("tooltip.background")};
}

.p-tooltip-bottom .p-tooltip-arrow {
    top: 0;
    left: 50%;
    margin-left: calc(-1 * ${i("tooltip.gutter")});
    border-width: 0 ${i("tooltip.gutter")} ${i("tooltip.gutter")} ${i("tooltip.gutter")};
    border-top-color: ${i("tooltip.background")};
    border-bottom-color: ${i("tooltip.background")};
}
`,Fd={root:"p-tooltip p-component",arrow:"p-tooltip-arrow",text:"p-tooltip-text"},Aa=(()=>{class i extends Ae{name="tooltip";theme=Ld;classes=Fd;static \u0275fac=(()=>{let e;return function(r){return(e||(e=X(i)))(r||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();var ka=(()=>{class i extends Se{zone;viewContainer;tooltipPosition;tooltipEvent="hover";appendTo;positionStyle;tooltipStyleClass;tooltipZIndex;escape=!0;showDelay;hideDelay;life;positionTop;positionLeft;autoHide=!0;fitContent=!0;hideOnEscape=!0;content;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this.deactivate()}tooltipOptions;_tooltipOptions={tooltipLabel:null,tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",positionStyle:null,tooltipStyleClass:null,tooltipZIndex:"auto",escape:!0,disabled:null,showDelay:null,hideDelay:null,positionTop:null,positionLeft:null,life:null,autoHide:!0,hideOnEscape:!0,id:ei("pn_id_")+"_tooltip"};_disabled;container;styleClass;tooltipText;showTimeout;hideTimeout;active;mouseEnterListener;mouseLeaveListener;containerMouseleaveListener;clickListener;focusListener;blurListener;documentEscapeListener;scrollHandler;resizeListener;_componentStyle=ye(Aa);interactionInProgress=!1;constructor(e,n){super(),this.zone=e,this.viewContainer=n}ngAfterViewInit(){super.ngAfterViewInit(),ve(this.platformId)&&this.zone.runOutsideAngular(()=>{let e=this.getOption("tooltipEvent");if((e==="hover"||e==="both")&&(this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onInputClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("click",this.clickListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener)),e==="focus"||e==="both"){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let n=this.el.nativeElement.querySelector(".p-component");n||(n=this.getTarget(this.el.nativeElement)),n.addEventListener("focus",this.focusListener),n.addEventListener("blur",this.blurListener)}})}ngOnChanges(e){super.ngOnChanges(e),e.tooltipPosition&&this.setOption({tooltipPosition:e.tooltipPosition.currentValue}),e.tooltipEvent&&this.setOption({tooltipEvent:e.tooltipEvent.currentValue}),e.appendTo&&this.setOption({appendTo:e.appendTo.currentValue}),e.positionStyle&&this.setOption({positionStyle:e.positionStyle.currentValue}),e.tooltipStyleClass&&this.setOption({tooltipStyleClass:e.tooltipStyleClass.currentValue}),e.tooltipZIndex&&this.setOption({tooltipZIndex:e.tooltipZIndex.currentValue}),e.escape&&this.setOption({escape:e.escape.currentValue}),e.showDelay&&this.setOption({showDelay:e.showDelay.currentValue}),e.hideDelay&&this.setOption({hideDelay:e.hideDelay.currentValue}),e.life&&this.setOption({life:e.life.currentValue}),e.positionTop&&this.setOption({positionTop:e.positionTop.currentValue}),e.positionLeft&&this.setOption({positionLeft:e.positionLeft.currentValue}),e.disabled&&this.setOption({disabled:e.disabled.currentValue}),e.content&&(this.setOption({tooltipLabel:e.content.currentValue}),this.active&&(e.content.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),e.autoHide&&this.setOption({autoHide:e.autoHide.currentValue}),e.id&&this.setOption({id:e.id.currentValue}),e.tooltipOptions&&(this._tooltipOptions=Z(Z({},this._tooltipOptions),e.tooltipOptions.currentValue),this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}isAutoHide(){return this.getOption("autoHide")}onMouseEnter(e){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(e){this.isAutoHide()?this.deactivate():!(Ti(e.relatedTarget,"p-tooltip")||Ti(e.relatedTarget,"p-tooltip-text")||Ti(e.relatedTarget,"p-tooltip-arrow"))&&this.deactivate()}onFocus(e){this.activate()}onBlur(e){this.deactivate()}onInputClick(e){this.deactivate()}activate(){if(!this.interactionInProgress){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let e=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},e)}this.getOption("hideOnEscape")&&(this.documentEscapeListener=this.renderer.listen("document","keydown.escape",()=>{this.deactivate(),this.documentEscapeListener()})),this.interactionInProgress=!0}}deactivate(){this.interactionInProgress=!1,this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide(),this.documentEscapeListener&&this.documentEscapeListener()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div"),this.container.setAttribute("id",this.getOption("id")),this.container.setAttribute("role","tooltip");let e=document.createElement("div");e.className="p-tooltip-arrow",this.container.appendChild(e),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),this.getOption("appendTo")==="body"?document.body.appendChild(this.container):this.getOption("appendTo")==="target"?mr(this.container,this.el.nativeElement):mr(this.getOption("appendTo"),this.container),this.container.style.display="none",this.fitContent&&(this.container.style.width="fit-content"),this.isAutoHide()?this.container.style.pointerEvents="none":(this.container.style.pointerEvents="unset",this.bindContainerMouseleaveListener())}bindContainerMouseleaveListener(){if(!this.containerMouseleaveListener){let e=this.container??this.container.nativeElement;this.containerMouseleaveListener=this.renderer.listen(e,"mouseleave",n=>{this.deactivate()})}}unbindContainerMouseleaveListener(){this.containerMouseleaveListener&&(this.bindContainerMouseleaveListener(),this.containerMouseleaveListener=null)}show(){if(!this.getOption("tooltipLabel")||this.getOption("disabled"))return;this.create(),this.el.nativeElement.closest("p-dialog")?setTimeout(()=>{this.container&&(this.container.style.display="inline-block"),this.container&&this.align()},100):(this.container.style.display="inline-block",this.align()),ea(this.container,250),this.getOption("tooltipZIndex")==="auto"?vt.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener()}hide(){this.getOption("tooltipZIndex")==="auto"&&vt.clear(this.container),this.remove()}updateText(){let e=this.getOption("tooltipLabel");if(e instanceof ws){let n=this.viewContainer.createEmbeddedView(e);n.detectChanges(),n.rootNodes.forEach(r=>this.tooltipText.appendChild(r))}else this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(e))):this.tooltipText.innerHTML=e}align(){let e=this.getOption("tooltipPosition"),n={top:[this.alignTop,this.alignBottom,this.alignRight,this.alignLeft],bottom:[this.alignBottom,this.alignTop,this.alignRight,this.alignLeft],left:[this.alignLeft,this.alignRight,this.alignTop,this.alignBottom],right:[this.alignRight,this.alignLeft,this.alignTop,this.alignBottom]};for(let[r,o]of n[e].entries())if(r===0)o.call(this);else if(this.isOutOfBounds())o.call(this);else break}getHostOffset(){if(this.getOption("appendTo")==="body"||this.getOption("appendTo")==="target"){let e=this.el.nativeElement.getBoundingClientRect(),n=e.left+Js(),r=e.top+Xs();return{left:n,top:r}}else return{left:0,top:0}}get activeElement(){return this.el.nativeElement.nodeName.startsWith("P-")?Le(this.el.nativeElement,".p-component"):this.el.nativeElement}alignRight(){this.preAlign("right");let e=this.activeElement,n=_t(e),r=(yt(e)-yt(this.container))/2;this.alignTooltip(n,r)}alignLeft(){this.preAlign("left");let e=_t(this.container),n=(yt(this.el.nativeElement)-yt(this.container))/2;this.alignTooltip(-e,n)}alignTop(){this.preAlign("top");let e=(_t(this.el.nativeElement)-_t(this.container))/2,n=yt(this.container);this.alignTooltip(e,-n)}alignBottom(){this.preAlign("bottom");let e=(_t(this.el.nativeElement)-_t(this.container))/2,n=yt(this.el.nativeElement);this.alignTooltip(e,n)}alignTooltip(e,n){let r=this.getHostOffset(),o=r.left+e,s=r.top+n;this.container.style.left=o+this.getOption("positionLeft")+"px",this.container.style.top=s+this.getOption("positionTop")+"px"}setOption(e){this._tooltipOptions=Z(Z({},this._tooltipOptions),e)}getOption(e){return this._tooltipOptions[e]}getTarget(e){return Ti(e,"p-inputwrapper")?Le(e,"input"):e}preAlign(e){this.container.style.left="-999px",this.container.style.top="-999px";let n="p-tooltip p-component p-tooltip-"+e;this.container.className=this.getOption("tooltipStyleClass")?n+" "+this.getOption("tooltipStyleClass"):n}isOutOfBounds(){let e=this.container.getBoundingClientRect(),n=e.top,r=e.left,o=_t(this.container),s=yt(this.container),a=Zs();return r+o>a.width||r<0||n<0||n+s>a.height}onWindowResize(e){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new on(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){let e=this.getOption("tooltipEvent");if((e==="hover"||e==="both")&&(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)),e==="focus"||e==="both"){let n=this.el.nativeElement.querySelector(".p-component");n||(n=this.getTarget(this.el.nativeElement)),n.removeEventListener("focus",this.focusListener),n.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&(this.getOption("appendTo")==="body"?document.body.removeChild(this.container):this.getOption("appendTo")==="target"?this.el.nativeElement.removeChild(this.container):oa(this.getOption("appendTo"),this.container)),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.unbindContainerMouseleaveListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),super.ngOnDestroy(),this.container&&vt.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.documentEscapeListener&&this.documentEscapeListener()}static \u0275fac=function(n){return new(n||i)(U(Ke),U(Is))};static \u0275dir=Ts({type:i,selectors:[["","pTooltip",""]],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:[2,"escape","escape",H],showDelay:[2,"showDelay","showDelay",Ne],hideDelay:[2,"hideDelay","hideDelay",Ne],life:[2,"life","life",Ne],positionTop:[2,"positionTop","positionTop",Ne],positionLeft:[2,"positionLeft","positionLeft",Ne],autoHide:[2,"autoHide","autoHide",H],fitContent:[2,"fitContent","fitContent",H],hideOnEscape:[2,"hideOnEscape","hideOnEscape",H],content:[0,"pTooltip","content"],disabled:[0,"tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[Oe([Aa]),oe,Wt]})}return i})(),Pa=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Ge({type:i});static \u0275inj=qe({})}return i})();var Ai=i=>({height:i}),Ud=(i,t,e)=>({"p-select-option":!0,"p-select-option-selected":i,"p-disabled":t,"p-focus":e}),Rr=i=>({$implicit:i});function $d(i,t){i&1&&M(0,"CheckIcon",4),i&2&&f("styleClass","p-select-option-check-icon")}function Hd(i,t){i&1&&M(0,"BlankIcon",4),i&2&&f("styleClass","p-select-option-blank-icon")}function Bd(i,t){if(i&1&&(ee(0),v(1,$d,1,1,"CheckIcon",3)(2,Hd,1,1,"BlankIcon",3),te()),i&2){let e=h();p(),f("ngIf",e.selected),p(),f("ngIf",!e.selected)}}function Wd(i,t){if(i&1&&(u(0,"span"),y(1),d()),i&2){let e,n=h();p(),gt((e=n.label)!==null&&e!==void 0?e:"empty")}}function jd(i,t){i&1&&ie(0)}var qd=["container"],Kd=["filter"],Gd=["focusInput"],Qd=["editableInput"],Yd=["items"],Zd=["scroller"],Jd=["overlay"],Xd=["firstHiddenFocusableEl"],eu=["lastHiddenFocusableEl"],tu=()=>({class:"p-select-clear-icon"}),iu=()=>({class:"p-select-dropdown-icon"}),Ma=i=>({options:i}),Na=(i,t)=>({$implicit:i,options:t}),nu=()=>({});function ru(i,t){if(i&1&&(ee(0),y(1),te()),i&2){let e=h(2);p(),gt(e.label()==="p-emptylabel"?"\xA0":e.label())}}function ou(i,t){if(i&1&&ie(0,23),i&2){let e=h(2);f("ngTemplateOutlet",e.selectedItemTemplate)("ngTemplateOutletContext",Y(2,Rr,e.selectedOption))}}function su(i,t){if(i&1&&(u(0,"span"),y(1),d()),i&2){let e=h(3);p(),gt(e.label()==="p-emptylabel"?"\xA0":e.label())}}function au(i,t){if(i&1&&v(0,su,2,1,"span",17),i&2){let e=h(2);f("ngIf",!e.selectedOption)}}function lu(i,t){if(i&1){let e=$();u(0,"span",21,3),I("focus",function(r){T(e);let o=h();return S(o.onInputFocus(r))})("blur",function(r){T(e);let o=h();return S(o.onInputBlur(r))})("keydown",function(r){T(e);let o=h();return S(o.onKeyDown(r))}),v(2,ru,2,1,"ng-container",19)(3,ou,1,4,"ng-container",22)(4,au,1,1,"ng-template",null,4,Ie),d()}if(i&2){let e,n=Me(5),r=h();f("ngClass",r.inputClass)("pTooltip",r.tooltip)("tooltipPosition",r.tooltipPosition)("positionStyle",r.tooltipPositionStyle)("tooltipStyleClass",r.tooltipStyleClass)("pAutoFocus",r.autofocus),q("aria-disabled",r.disabled)("id",r.inputId)("aria-label",r.ariaLabel||(r.label()==="p-emptylabel"?void 0:r.label()))("aria-labelledby",r.ariaLabelledBy)("aria-haspopup","listbox")("aria-expanded",(e=r.overlayVisible)!==null&&e!==void 0?e:!1)("aria-controls",r.overlayVisible?r.id+"_list":null)("tabindex",r.disabled?-1:r.tabindex)("aria-activedescendant",r.focused?r.focusedOptionId:void 0)("aria-required",r.required)("required",r.required),p(2),f("ngIf",!r.selectedItemTemplate)("ngIfElse",n),p(),f("ngIf",r.selectedItemTemplate&&r.selectedOption)}}function cu(i,t){if(i&1){let e=$();u(0,"input",24,5),I("input",function(r){T(e);let o=h();return S(o.onEditableInput(r))})("keydown",function(r){T(e);let o=h();return S(o.onKeyDown(r))})("focus",function(r){T(e);let o=h();return S(o.onInputFocus(r))})("blur",function(r){T(e);let o=h();return S(o.onInputBlur(r))}),d()}if(i&2){let e=h();f("ngClass",e.inputClass)("disabled",e.disabled)("pAutoFocus",e.autofocus),q("id",e.inputId)("maxlength",e.maxlength)("placeholder",e.modelValue()===void 0||e.modelValue()===null?e.placeholder():void 0)("aria-label",e.ariaLabel||(e.label()==="p-emptylabel"?void 0:e.label()))("aria-activedescendant",e.focused?e.focusedOptionId:void 0)}}function du(i,t){if(i&1){let e=$();u(0,"TimesIcon",26),I("click",function(r){T(e);let o=h(2);return S(o.clear(r))}),d()}i&2&&q("data-pc-section","clearicon")}function uu(i,t){}function hu(i,t){i&1&&v(0,uu,0,0,"ng-template")}function pu(i,t){if(i&1){let e=$();u(0,"span",26),I("click",function(r){T(e);let o=h(2);return S(o.clear(r))}),v(1,hu,1,0,null,27),d()}if(i&2){let e=h(2);q("data-pc-section","clearicon"),p(),f("ngTemplateOutlet",e.clearIconTemplate)("ngTemplateOutletContext",Kt(3,tu))}}function fu(i,t){if(i&1&&(ee(0),v(1,du,1,1,"TimesIcon",25)(2,pu,2,4,"span",25),te()),i&2){let e=h();p(),f("ngIf",!e.clearIconTemplate),p(),f("ngIf",e.clearIconTemplate)}}function mu(i,t){i&1&&ie(0)}function gu(i,t){if(i&1&&(ee(0),v(1,mu,1,0,"ng-container",28),te()),i&2){let e=h(2);p(),f("ngTemplateOutlet",e.loadingIconTemplate)}}function _u(i,t){if(i&1&&M(0,"span",31),i&2){let e=h(3);f("ngClass","p-select-loading-icon pi-spin "+e.loadingIcon)}}function yu(i,t){i&1&&M(0,"span",32),i&2&&ce("p-select-loading-icon pi pi-spinner pi-spin")}function vu(i,t){if(i&1&&(ee(0),v(1,_u,1,1,"span",29)(2,yu,1,2,"span",30),te()),i&2){let e=h(2);p(),f("ngIf",e.loadingIcon),p(),f("ngIf",!e.loadingIcon)}}function bu(i,t){if(i&1&&(ee(0),v(1,gu,2,1,"ng-container",17)(2,vu,3,2,"ng-container",17),te()),i&2){let e=h();p(),f("ngIf",e.loadingIconTemplate),p(),f("ngIf",!e.loadingIconTemplate)}}function wu(i,t){if(i&1&&M(0,"span",36),i&2){let e=h(3);f("ngClass",e.dropdownIcon)}}function Eu(i,t){i&1&&M(0,"ChevronDownIcon",37),i&2&&f("styleClass","p-select-dropdown-icon")}function Iu(i,t){if(i&1&&(ee(0),v(1,wu,1,1,"span",34)(2,Eu,1,1,"ChevronDownIcon",35),te()),i&2){let e=h(2);p(),f("ngIf",e.dropdownIcon),p(),f("ngIf",!e.dropdownIcon)}}function Tu(i,t){}function Su(i,t){i&1&&v(0,Tu,0,0,"ng-template")}function Cu(i,t){if(i&1&&(u(0,"span",38),v(1,Su,1,0,null,27),d()),i&2){let e=h(2);p(),f("ngTemplateOutlet",e.dropdownIconTemplate)("ngTemplateOutletContext",Kt(2,iu))}}function xu(i,t){if(i&1&&v(0,Iu,3,2,"ng-container",17)(1,Cu,2,3,"span",33),i&2){let e=h();f("ngIf",!e.dropdownIconTemplate),p(),f("ngIf",e.dropdownIconTemplate)}}function Ou(i,t){i&1&&ie(0)}function Au(i,t){i&1&&ie(0)}function ku(i,t){if(i&1&&(ee(0),v(1,Au,1,0,"ng-container",27),te()),i&2){let e=h(3);p(),f("ngTemplateOutlet",e.filterTemplate)("ngTemplateOutletContext",Y(2,Ma,e.filterOptions))}}function Pu(i,t){i&1&&M(0,"SearchIcon")}function Du(i,t){}function Ru(i,t){i&1&&v(0,Du,0,0,"ng-template")}function Mu(i,t){if(i&1&&(u(0,"span"),v(1,Ru,1,0,null,28),d()),i&2){let e=h(4);p(),f("ngTemplateOutlet",e.filterIconTemplate)}}function Nu(i,t){if(i&1){let e=$();u(0,"p-iconfield")(1,"input",45,10),I("input",function(r){T(e);let o=h(3);return S(o.onFilterInputChange(r))})("keydown",function(r){T(e);let o=h(3);return S(o.onFilterKeyDown(r))})("blur",function(r){T(e);let o=h(3);return S(o.onFilterBlur(r))}),d(),u(3,"p-inputicon"),v(4,Pu,1,0,"SearchIcon",17)(5,Mu,2,1,"span",17),d()()}if(i&2){let e=h(3);p(),f("value",e._filterValue()||"")("variant",e.variant),q("placeholder",e.filterPlaceholder)("aria-owns",e.id+"_list")("aria-label",e.ariaFilterLabel)("aria-activedescendant",e.focusedOptionId),p(3),f("ngIf",!e.filterIconTemplate),p(),f("ngIf",e.filterIconTemplate)}}function Lu(i,t){if(i&1){let e=$();u(0,"div",44),I("click",function(r){return T(e),S(r.stopPropagation())}),v(1,ku,2,4,"ng-container",19)(2,Nu,6,8,"ng-template",null,9,Ie),d()}if(i&2){let e=Me(3),n=h(2);p(),f("ngIf",n.filterTemplate)("ngIfElse",e)}}function Fu(i,t){i&1&&ie(0)}function Vu(i,t){if(i&1&&v(0,Fu,1,0,"ng-container",27),i&2){let e=t.$implicit,n=t.options;h(2);let r=Me(9);f("ngTemplateOutlet",r)("ngTemplateOutletContext",Qe(2,Na,e,n))}}function zu(i,t){i&1&&ie(0)}function Uu(i,t){if(i&1&&v(0,zu,1,0,"ng-container",27),i&2){let e=t.options,n=h(4);f("ngTemplateOutlet",n.loaderTemplate)("ngTemplateOutletContext",Y(2,Ma,e))}}function $u(i,t){i&1&&(ee(0),v(1,Uu,1,4,"ng-template",null,12,Ie),te())}function Hu(i,t){if(i&1){let e=$();u(0,"p-scroller",46,11),I("onLazyLoad",function(r){T(e);let o=h(2);return S(o.onLazyLoad.emit(r))}),v(2,Vu,1,5,"ng-template",null,2,Ie)(4,$u,3,0,"ng-container",17),d()}if(i&2){let e=h(2);Zi(Y(8,Ai,e.scrollHeight)),f("items",e.visibleOptions())("itemSize",e.virtualScrollItemSize||e._itemSize)("autoSize",!0)("lazy",e.lazy)("options",e.virtualScrollOptions),p(4),f("ngIf",e.loaderTemplate)}}function Bu(i,t){i&1&&ie(0)}function Wu(i,t){if(i&1&&(ee(0),v(1,Bu,1,0,"ng-container",27),te()),i&2){h();let e=Me(9),n=h();p(),f("ngTemplateOutlet",e)("ngTemplateOutletContext",Qe(3,Na,n.visibleOptions(),Kt(2,nu)))}}function ju(i,t){if(i&1&&(u(0,"span"),y(1),d()),i&2){let e=h(2).$implicit,n=h(3);p(),gt(n.getOptionGroupLabel(e.optionGroup))}}function qu(i,t){i&1&&ie(0)}function Ku(i,t){if(i&1&&(ee(0),u(1,"li",50),v(2,ju,2,1,"span",17)(3,qu,1,0,"ng-container",27),d(),te()),i&2){let e=h(),n=e.$implicit,r=e.index,o=h().options,s=h(2);p(),f("ngStyle",Y(5,Ai,o.itemSize+"px")),q("id",s.id+"_"+s.getOptionIndex(r,o)),p(),f("ngIf",!s.groupTemplate),p(),f("ngTemplateOutlet",s.groupTemplate)("ngTemplateOutletContext",Y(7,Rr,n.optionGroup))}}function Gu(i,t){if(i&1){let e=$();ee(0),u(1,"p-dropdownItem",51),I("onClick",function(r){T(e);let o=h().$implicit,s=h(3);return S(s.onOptionSelect(r,o))})("onMouseEnter",function(r){T(e);let o=h().index,s=h().options,a=h(2);return S(a.onOptionMouseEnter(r,a.getOptionIndex(o,s)))}),d(),te()}if(i&2){let e=h(),n=e.$implicit,r=e.index,o=h().options,s=h(2);p(),f("id",s.id+"_"+s.getOptionIndex(r,o))("option",n)("checkmark",s.checkmark)("selected",s.isSelected(n))("label",s.getOptionLabel(n))("disabled",s.isOptionDisabled(n))("template",s.itemTemplate)("focused",s.focusedOptionIndex()===s.getOptionIndex(r,o))("ariaPosInset",s.getAriaPosInset(s.getOptionIndex(r,o)))("ariaSetSize",s.ariaSetSize)}}function Qu(i,t){if(i&1&&v(0,Ku,4,9,"ng-container",17)(1,Gu,2,10,"ng-container",17),i&2){let e=t.$implicit,n=h(3);f("ngIf",n.isOptionGroup(e)),p(),f("ngIf",!n.isOptionGroup(e))}}function Yu(i,t){if(i&1&&y(0),i&2){let e=h(4);de(" ",e.emptyFilterMessageLabel," ")}}function Zu(i,t){i&1&&ie(0,null,14)}function Ju(i,t){if(i&1&&v(0,Zu,2,0,"ng-container",28),i&2){let e=h(4);f("ngTemplateOutlet",e.emptyFilterTemplate||e.emptyTemplate)}}function Xu(i,t){if(i&1&&(u(0,"li",52),v(1,Yu,1,1)(2,Ju,1,1,"ng-container"),d()),i&2){let e=h().options,n=h(2);f("ngStyle",Y(2,Ai,e.itemSize+"px")),p(),J(!n.emptyFilterTemplate&&!n.emptyTemplate?1:2)}}function eh(i,t){if(i&1&&y(0),i&2){let e=h(4);de(" ",e.emptyMessageLabel," ")}}function th(i,t){i&1&&ie(0)}function ih(i,t){if(i&1&&v(0,th,1,0,"ng-container",28),i&2){let e=h(4);f("ngTemplateOutlet",e.emptyTemplate)}}function nh(i,t){if(i&1&&(u(0,"li",52),v(1,eh,1,1)(2,ih,1,1,"ng-container"),d()),i&2){let e=h().options,n=h(2);f("ngStyle",Y(2,Ai,e.itemSize+"px")),p(),J(n.emptyTemplate?2:1)}}function rh(i,t){if(i&1&&(u(0,"ul",47,13),v(2,Qu,2,2,"ng-template",48)(3,Xu,3,4,"li",49)(4,nh,3,4,"li",49),d()),i&2){let e=t.$implicit,n=t.options,r=h(2);Zi(n.contentStyle),f("ngClass",n.contentStyleClass),q("id",r.id+"_list")("aria-label",r.listLabel),p(2),f("ngForOf",e),p(),f("ngIf",r.filterValue&&r.isEmpty()),p(),f("ngIf",!r.filterValue&&r.isEmpty())}}function oh(i,t){i&1&&ie(0)}function sh(i,t){if(i&1){let e=$();u(0,"div",39)(1,"span",40,6),I("focus",function(r){T(e);let o=h();return S(o.onFirstHiddenFocus(r))}),d(),v(3,Ou,1,0,"ng-container",28)(4,Lu,4,2,"div",41),u(5,"div",42),v(6,Hu,5,10,"p-scroller",43)(7,Wu,2,6,"ng-container",17)(8,rh,5,8,"ng-template",null,7,Ie),d(),v(10,oh,1,0,"ng-container",28),u(11,"span",40,8),I("focus",function(r){T(e);let o=h();return S(o.onLastHiddenFocus(r))}),d()()}if(i&2){let e=h();ce(e.panelStyleClass),f("ngClass","p-select-overlay p-component")("ngStyle",e.panelStyle),p(),q("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0),p(2),f("ngTemplateOutlet",e.headerTemplate),p(),f("ngIf",e.filter),p(),Yi("max-height",e.virtualScroll?"auto":e.scrollHeight||"auto"),p(),f("ngIf",e.virtualScroll),p(),f("ngIf",!e.virtualScroll),p(3),f("ngTemplateOutlet",e.footerTemplate),p(),q("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0)}}var ah=({dt:i})=>`
.p-select {
    display: inline-flex;
    cursor: pointer;
    position: relative;
    user-select: none;
    background: ${i("select.background")};
    border: 1px solid ${i("select.border.color")};
    transition: background ${i("select.transition.duration")}, color ${i("select.transition.duration")}, border-color ${i("select.transition.duration")},
        outline-color ${i("select.transition.duration")}, box-shadow ${i("select.transition.duration")};
    border-radius: ${i("select.border.radius")};
    outline-color: transparent;
    box-shadow: ${i("select.shadow")};
}

.p-select:not(.p-disabled):hover {
    border-color: ${i("select.hover.border.color")};
}

.p-select:not(.p-disabled).p-focus {
    border-color: ${i("select.focus.border.color")};
    box-shadow: ${i("select.focus.ring.shadow")};
    outline: ${i("select.focus.ring.width")} ${i("select.focus.ring.style")} ${i("select.focus.ring.color")};
    outline-offset: ${i("select.focus.ring.offset")};
}

.p-select.p-variant-filled {
    background: ${i("select.filled.background")};
}

.p-select.p-variant-filled.p-focus {
    background: ${i("select.filled.focus.background")};
}

.p-select.p-disabled {
    opacity: 1;
    background: ${i("select.disabled.background")};
}

.p-select-clear-icon {
    position: absolute;
    top: 50%;
    margin-top: -0.5rem;
    color: ${i("select.clear.icon.color")};
    right: ${i("select.dropdown.width")};
}

.p-select-dropdown {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    background: transparent;
    color: ${i("select.dropdown.color")};
    width: ${i("select.dropdown.width")};
    border-start-end-radius: ${i("select.border.radius")};
    border-end-end-radius: ${i("select.border.radius")};
}

.p-select-label {
    display: block;
    white-space: nowrap;
    overflow: hidden;
    flex: 1 1 auto;
    width: 1%;
    padding: ${i("select.padding.y")} ${i("select.padding.x")};
    text-overflow: ellipsis;
    cursor: pointer;
    color: ${i("select.color")};
    background: transparent;
    border: 0 none;
    outline: 0 none;
}

.p-select-label.p-placeholder {
    color: ${i("select.placeholder.color")};
}

.p-select:has(.p-select-clear-icon) .p-select-label {
    padding-right: calc(1rem + ${i("select.padding.x")});
}

.p-select.p-disabled .p-select-label {
    color: ${i("select.disabled.color")};
}

.p-select-label-empty {
    overflow: hidden;
    opacity: 0;
}

input.p-select-label {
    cursor: default;
}

.p-select .p-select-overlay {
    min-width: 100%;
}

.p-select-overlay {
    position: absolute;
    top: 0;
    left: 0;
    background: ${i("select.overlay.background")};
    color: ${i("select.overlay.color")};
    border: 1px solid ${i("select.overlay.border.color")};
    border-radius: ${i("select.overlay.border.radius")};
    box-shadow: ${i("select.overlay.shadow")};
}

.p-select-header {
    padding: ${i("select.list.header.padding")};
}

.p-select-filter {
    width: 100%;
}

.p-select-list-container {
    overflow: auto;
}

.p-select-option-group {
    cursor: auto;
    margin: 0;
    padding: ${i("select.option.group.padding")};
    background: ${i("select.option.group.background")};
    color: ${i("select.option.group.color")};
    font-weight: ${i("select.option.group.font.weight")};
}

.p-select-list {
    margin: 0;
    padding: 0;
    list-style-type: none;
    padding: ${i("select.list.padding")};
    gap: ${i("select.list.gap")};
    display: flex;
    flex-direction: column;
}

.p-select-option {
    cursor: pointer;
    font-weight: normal;
    white-space: nowrap;
    position: relative;
    overflow: hidden;
    display: flex;
    align-items: center;
    padding: ${i("select.option.padding")};
    border: 0 none;
    color: ${i("select.option.color")};
    background: transparent;
    transition: background ${i("select.transition.duration")}, color ${i("select.transition.duration")}, border-color ${i("select.transition.duration")},
    box-shadow ${i("select.transition.duration")}, outline-color ${i("select.transition.duration")};
    border-radius: ${i("select.option.border.radius")};
}

.p-select-option:not(.p-select-option-selected):not(.p-disabled).p-focus {
    background: ${i("select.option.focus.background")};
    color: ${i("select.option.focus.color")};
}

.p-select-option.p-select-option-selected {
    background: ${i("select.option.selected.background")};
    color: ${i("select.option.selected.color")};
}

.p-select-option.p-select-option-selected.p-focus {
    background: ${i("select.option.selected.focus.background")};
    color: ${i("select.option.selected.focus.color")};
}

.p-select-option-check-icon {
    position: relative;
    margin-inline-start: ${i("select.checkmark.gutter.start")};
    margin-inline-end: ${i("select.checkmark.gutter.end")};
    color: ${i("select.checkmark.color")};
}

.p-select-empty-message {
    padding: ${i("select.empty.message.padding")};
}

.p-select-fluid {
    display: flex;
}

/*For PrimeNG*/

.p-dropdown.ng-invalid.ng-dirty,
.p-select.ng-invalid.ng-dirty {
    outline: 1px solid ${i("select.invalid.border.color")};
    outline-offset: 0;
}

.p-dropdown.ng-invalid.ng-dirty .p-dropdown-label.p-placeholder,
.p-select.ng-invalid.ng-dirty .p-select-label.p-placeholder {
    color: ${i("select.invalid.placeholder.color")};
}
`,lh={root:({instance:i})=>["p-dropdown p-select p-component p-inputwrapper",{"p-disabled":i.disabled,"p-variant-filled":i.variant==="filled"||i.config.inputVariant()==="filled"||i.config.inputStyle()==="filled","p-focus":i.focused,"p-inputwrapper-filled":i.modelValue()!==void 0&&i.modelValue()!==null&&!i.modelValue().length,"p-inputwrapper-focus":i.focused||i.overlayVisible,"p-select-open":i.overlayVisible,"p-select-fluid":i.hasFluid,"p-select-sm p-inputfield-sm":i.size==="small","p-select-lg p-inputfield-lg":i.size==="large"}],label:({instance:i,props:t})=>["p-select-label",{"p-placeholder":!t.editable&&i.label===t.placeholder,"p-select-label-empty":!t.editable&&!i.$slots.value&&(i.label==="p-emptylabel"||i.label.length===0)}],clearIcon:"p-select-clear-icon",dropdown:"p-select-dropdown",loadingicon:"p-select-loading-icon",dropdownIcon:"p-select-dropdown-icon",overlay:"p-select-overlay p-component",header:"p-select-header",pcFilter:"p-select-filter",listContainer:"p-select-list-container",list:"p-select-list",optionGroup:"p-select-option-group",optionGroupLabel:"p-select-option-group-label",option:({instance:i,props:t,state:e,option:n,focusedOption:r})=>["p-select-option",{"p-select-option-selected":i.isSelected(n)&&t.highlightOnSelect,"p-focus":e.focusedOptionIndex===r,"p-disabled":i.isOptionDisabled(n)}],optionLabel:"p-select-option-label",optionCheckIcon:"p-select-option-check-icon",optionBlankIcon:"p-select-option-blank-icon",emptyMessage:"p-select-empty-message"},Da=(()=>{class i extends Ae{name="select";theme=ah;classes=lh;static \u0275fac=(()=>{let e;return function(r){return(e||(e=X(i)))(r||i)}})();static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})(),Ra;Ra||(Ra={});var ch={provide:Ls,useExisting:_s(()=>uh),multi:!0},dh=(()=>{class i extends Se{id;option;selected;focused;label;disabled;visible;itemSize;ariaPosInset;ariaSetSize;template;checkmark;onClick=new B;onMouseEnter=new B;onOptionClick(e){this.onClick.emit(e)}onOptionMouseEnter(e){this.onMouseEnter.emit(e)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=X(i)))(r||i)}})();static \u0275cmp=W({type:i,selectors:[["p-dropdownItem"]],inputs:{id:"id",option:"option",selected:[2,"selected","selected",H],focused:[2,"focused","focused",H],label:"label",disabled:[2,"disabled","disabled",H],visible:[2,"visible","visible",H],itemSize:[2,"itemSize","itemSize",Ne],ariaPosInset:"ariaPosInset",ariaSetSize:"ariaSetSize",template:"template",checkmark:[2,"checkmark","checkmark",H]},outputs:{onClick:"onClick",onMouseEnter:"onMouseEnter"},standalone:!1,features:[oe],decls:4,vars:22,consts:[["role","option","pRipple","",3,"click","mouseenter","id","ngStyle","ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"styleClass",4,"ngIf"],[3,"styleClass"]],template:function(n,r){n&1&&(u(0,"li",0),I("click",function(s){return r.onOptionClick(s)})("mouseenter",function(s){return r.onOptionMouseEnter(s)}),v(1,Bd,3,2,"ng-container",1)(2,Wd,2,1,"span",1)(3,jd,1,0,"ng-container",2),d()),n&2&&(f("id",r.id)("ngStyle",Y(14,Ai,r.itemSize+"px"))("ngClass",Gt(16,Ud,r.selected,r.disabled,r.focused)),q("aria-label",r.label)("aria-setsize",r.ariaSetSize)("aria-posinset",r.ariaPosInset)("aria-selected",r.selected)("data-p-focused",r.focused)("data-p-highlight",r.selected)("data-p-disabled",r.disabled),p(),f("ngIf",r.checkmark),p(),f("ngIf",!r.template),p(),f("ngTemplateOutlet",r.template)("ngTemplateOutletContext",Y(20,Rr,r.option)))},dependencies:()=>[it,Te,Ot,xt,ya,Sr,yr],encapsulation:2})}return i})(),uh=(()=>{class i extends Se{zone;filterService;id;scrollHeight="200px";filter;name;style;panelStyle;styleClass;panelStyleClass;readonly;required;editable;appendTo;tabindex=0;set placeholder(e){this._placeholder.set(e)}get placeholder(){return this._placeholder.asReadonly()}loadingIcon;filterPlaceholder;filterLocale;variant;inputId;dataKey;filterBy;filterFields;autofocus;resetFilterOnHide=!1;checkmark=!1;dropdownIcon;loading=!1;optionLabel;optionValue;optionDisabled;optionGroupLabel="label";optionGroupChildren="items";autoDisplayFirst=!0;group;showClear;emptyFilterMessage="";emptyMessage="";lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;overlayOptions;ariaFilterLabel;ariaLabel;ariaLabelledBy;filterMatchMode="contains";maxlength;tooltip="";tooltipPosition="right";tooltipPositionStyle="absolute";tooltipStyleClass;focusOnHover=!1;selectOnFocus=!1;autoOptionFocus=!0;autofocusFilter=!0;fluid;get disabled(){return this._disabled}set disabled(e){e&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=e,this.cd.destroyed||this.cd.detectChanges()}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=e,console.log("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}_itemSize;get autoZIndex(){return this._autoZIndex}set autoZIndex(e){this._autoZIndex=e,console.log("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}_autoZIndex;get baseZIndex(){return this._baseZIndex}set baseZIndex(e){this._baseZIndex=e,console.log("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}_baseZIndex;get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(e){this._showTransitionOptions=e,console.log("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}_showTransitionOptions;get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(e){this._hideTransitionOptions=e,console.log("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}_hideTransitionOptions;get filterValue(){return this._filterValue()}set filterValue(e){setTimeout(()=>{this._filterValue.set(e)})}get options(){return this._options()}set options(e){la(e,this._options())||this._options.set(e)}onChange=new B;onFilter=new B;onFocus=new B;onBlur=new B;onClick=new B;onShow=new B;onHide=new B;onClear=new B;onLazyLoad=new B;_componentStyle=ye(Da);containerViewChild;filterViewChild;focusInputViewChild;editableInputViewChild;itemsViewChild;scroller;overlayViewChild;firstHiddenFocusableElementOnOverlay;lastHiddenFocusableElementOnOverlay;get hostClass(){return this._componentStyle.classes.root({instance:this}).map(n=>typeof n=="string"?n:Object.keys(n).filter(r=>n[r]).join(" ")).join(" ")+" "+this.styleClass}get hostStyle(){return this.style}_disabled;itemsWrapper;itemTemplate;groupTemplate;loaderTemplate;selectedItemTemplate;headerTemplate;filterTemplate;footerTemplate;emptyFilterTemplate;emptyTemplate;dropdownIconTemplate;loadingIconTemplate;clearIconTemplate;filterIconTemplate;filterOptions;_options=tt(null);_placeholder=tt(void 0);modelValue=tt(null);value;onModelChange=()=>{};onModelTouched=()=>{};hover;focused;overlayVisible;optionsChanged;panel;selectedOptionUpdated;_filterValue=tt(null);searchValue;searchTimeout;preventModelTouched;focusedOptionIndex=tt(-1);clicked=tt(!1);get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(rn.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(rn.EMPTY_FILTER_MESSAGE)}get isVisibleClearIcon(){return this.modelValue()!=null&&this.hasSelectedOption()&&this.showClear&&!this.disabled}get listLabel(){return this.config.getTranslation(rn.ARIA).listLabel}get hasFluid(){let n=this.el.nativeElement.closest("p-fluid");return this.fluid||!!n}get inputClass(){let e=this.label();return{"p-select-label":!0,"p-placeholder":this.placeholder()&&e===this.placeholder(),"p-select-label-empty":!this.editable&&!this.selectedItemTemplate&&(e==null||e==="p-emptylabel"||e.length===0)}}get focusedOptionId(){return this.focusedOptionIndex()!==-1?`${this.id}_${this.focusedOptionIndex()}`:null}visibleOptions=Ii(()=>{let e=this.getAllVisibleAndNonVisibleOptions();if(this._filterValue()){let r=!(this.filterBy||this.optionLabel)&&!this.filterFields&&!this.optionValue?this.options.filter(o=>o.label?o.label.toString().toLowerCase().indexOf(this._filterValue().toLowerCase().trim())!==-1:o.toString().toLowerCase().indexOf(this._filterValue().toLowerCase().trim())!==-1):this.filterService.filter(e,this.searchFields(),this._filterValue().trim(),this.filterMatchMode,this.filterLocale);if(this.group){let o=this.options||[],s=[];return o.forEach(a=>{let c=this.getOptionGroupChildren(a).filter(m=>r.includes(m));c.length>0&&s.push(Ct(Z({},a),{[typeof this.optionGroupChildren=="string"?this.optionGroupChildren:"items"]:[...c]}))}),this.flatOptions(s)}return r}return e});label=Ii(()=>{let e=this.getAllVisibleAndNonVisibleOptions(),n=e.findIndex(r=>this.isOptionValueEqualsModelValue(r));return n!==-1?this.getOptionLabel(e[n]):this.placeholder()||"p-emptylabel"});filled=Ii(()=>typeof this.modelValue()=="string"?!!this.modelValue():this.label()!=="p-emptylabel"&&this.modelValue()!==void 0&&this.modelValue()!==null);selectedOption;editableInputValue=Ii(()=>this.getOptionLabel(this.selectedOption)||this.modelValue()||"");constructor(e,n){super(),this.zone=e,this.filterService=n,xs(()=>{let r=this.modelValue(),o=this.visibleOptions();if(o&&nn(o)){let s=this.findSelectedOptionIndex();(s!==-1||r===void 0||typeof r=="string"&&r.length===0||this.isModelValueNotSet()||this.editable)&&(this.selectedOption=o[s])}aa(o)&&(r===void 0||this.isModelValueNotSet())&&nn(this.selectedOption)&&(this.selectedOption=null),r!==void 0&&this.editable&&this.updateEditableLabel(),this.cd.markForCheck()})}isModelValueNotSet(){return this.modelValue()===null&&!this.isOptionValueEqualsModelValue(this.selectedOption)}getAllVisibleAndNonVisibleOptions(){return this.group?this.flatOptions(this.options):this.options||[]}ngOnInit(){super.ngOnInit(),console.log("Dropdown component is deprecated as of v18, use Select component instead."),this.id=this.id||ei("pn_id_"),this.autoUpdateModel(),this.filterBy&&(this.filterOptions={filter:e=>this.onFilterInputChange(e),reset:()=>this.resetFilter()})}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild&&this.overlayViewChild.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){let e=Le(this.overlayViewChild?.overlayViewChild?.nativeElement,"li.p-highlight");e&&sa(this.itemsWrapper,e),this.selectedOptionUpdated=!1}}templates;ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this.itemTemplate=e.template;break;case"selectedItem":this.selectedItemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"filter":this.filterTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"emptyfilter":this.emptyFilterTemplate=e.template;break;case"empty":this.emptyTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;case"loader":this.loaderTemplate=e.template;break;case"dropdownicon":this.dropdownIconTemplate=e.template;break;case"loadingicon":this.loadingIconTemplate=e.template;break;case"clearicon":this.clearIconTemplate=e.template;break;case"filtericon":this.filterIconTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}flatOptions(e){return(e||[]).reduce((n,r,o)=>{n.push({optionGroup:r,group:!0,index:o});let s=this.getOptionGroupChildren(r);return s&&s.forEach(a=>n.push(a)),n},[])}autoUpdateModel(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption()&&(this.focusedOptionIndex.set(this.findFirstFocusedOptionIndex()),this.onOptionSelect(null,this.visibleOptions()[this.focusedOptionIndex()],!1)),this.autoDisplayFirst&&(this.modelValue()===null||this.modelValue()===void 0)&&!this.placeholder()){let e=this.findFirstOptionIndex();this.onOptionSelect(null,this.visibleOptions()[e],!1,!0)}}onOptionSelect(e,n,r=!0,o=!1){if(!this.isSelected(n)){let s=this.getOptionValue(n);this.updateModel(s,e),this.focusedOptionIndex.set(this.findSelectedOptionIndex()),o===!1&&this.onChange.emit({originalEvent:e,value:s})}r&&this.hide(!0)}onOptionMouseEnter(e,n){this.focusOnHover&&this.changeFocusedOptionIndex(e,n)}updateModel(e,n){this.value=e,this.onModelChange(e),this.modelValue.set(e),this.selectedOptionUpdated=!0}writeValue(e){this.filter&&this.resetFilter(),this.value=e,this.allowModelChange()&&this.onModelChange(e),this.modelValue.set(this.value),this.updateEditableLabel(),this.cd.markForCheck()}allowModelChange(){return this.autoDisplayFirst&&!this.placeholder()&&(this.modelValue()===void 0||this.modelValue()===null)&&!this.editable&&this.options&&this.options.length}isSelected(e){return this.isValidOption(e)&&this.isOptionValueEqualsModelValue(e)}isOptionValueEqualsModelValue(e){return ca(this.modelValue(),this.getOptionValue(e),this.equalityKey())}ngAfterViewInit(){super.ngAfterViewInit(),this.editable&&this.updateEditableLabel(),this.updatePlaceHolderForFloatingLabel()}updatePlaceHolderForFloatingLabel(){let e=this.el.nativeElement.parentElement,n=e?.classList.contains("p-float-label");if(e&&n&&!this.selectedOption){let r=e.querySelector("label");r&&this._placeholder.set(r.textContent)}}updateEditableLabel(){this.editableInputViewChild&&(this.editableInputViewChild.nativeElement.value=this.getOptionLabel(this.selectedOption)||this.modelValue()||"")}clearEditableLabel(){this.editableInputViewChild&&(this.editableInputViewChild.nativeElement.value="")}getOptionIndex(e,n){return this.virtualScrollerDisabled?e:n&&n.getItemOptions(e).index}getOptionLabel(e){return this.optionLabel!==void 0&&this.optionLabel!==null?Xt(e,this.optionLabel):e&&e.label!==void 0?e.label:e}getOptionValue(e){return this.optionValue&&this.optionValue!==null?Xt(e,this.optionValue):!this.optionLabel&&e&&e.value!==void 0?e.value:e}isOptionDisabled(e){return this.getOptionValue(this.modelValue())===this.getOptionValue(e)||this.getOptionLabel(this.modelValue()===this.getOptionLabel(e))&&e.disabled===!1?!1:this.optionDisabled?Xt(e,this.optionDisabled):e&&e.disabled!==void 0?e.disabled:!1}getOptionGroupLabel(e){return this.optionGroupLabel!==void 0&&this.optionGroupLabel!==null?Xt(e,this.optionGroupLabel):e&&e.label!==void 0?e.label:e}getOptionGroupChildren(e){return this.optionGroupChildren!==void 0&&this.optionGroupChildren!==null?Xt(e,this.optionGroupChildren):e.items}getAriaPosInset(e){return(this.optionGroupLabel?e-this.visibleOptions().slice(0,e).filter(n=>this.isOptionGroup(n)).length:e)+1}get ariaSetSize(){return this.visibleOptions().filter(e=>!this.isOptionGroup(e)).length}resetFilter(){this._filterValue.set(null),this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value="")}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onContainerClick(e){this.disabled||this.readonly||this.loading||(this.focusInputViewChild?.nativeElement.focus({preventScroll:!0}),!(e.target.tagName==="INPUT"||e.target.getAttribute("data-pc-section")==="clearicon"||e.target.closest('[data-pc-section="clearicon"]'))&&((!this.overlayViewChild||!this.overlayViewChild.el.nativeElement.contains(e.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.onClick.emit(e),this.clicked.set(!0),this.cd.detectChanges()))}isEmpty(){return!this._options()||this.visibleOptions()&&this.visibleOptions().length===0}onEditableInput(e){let n=e.target.value;this.searchValue="",!this.searchOptions(e,n)&&this.focusedOptionIndex.set(-1),this.onModelChange(n),this.updateModel(n,e),setTimeout(()=>{this.onChange.emit({originalEvent:e,value:n})},1),!this.overlayVisible&&nn(n)&&this.show()}show(e){this.overlayVisible=!0;let n=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex();this.focusedOptionIndex.set(n),e&&Fe(this.focusInputViewChild?.nativeElement),this.cd.markForCheck()}onOverlayAnimationStart(e){if(e.toState==="visible"){if(this.itemsWrapper=Le(this.overlayViewChild?.overlayViewChild?.nativeElement,this.virtualScroll?".p-scroller":".p-dropdown-items-wrapper"),this.virtualScroll&&this.scroller?.setContentEl(this.itemsViewChild?.nativeElement),this.options&&this.options.length)if(this.virtualScroll){let n=this.modelValue()?this.focusedOptionIndex():-1;n!==-1&&this.scroller?.scrollToIndex(n)}else{let n=Le(this.itemsWrapper,".p-dropdown-item.p-highlight");n&&n.scrollIntoView({block:"nearest",inline:"nearest"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&!this.editable&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(e)}e.toState==="void"&&(this.itemsWrapper=null,this.onModelTouched(),this.onHide.emit(e))}hide(e){this.overlayVisible=!1,this.focusedOptionIndex.set(-1),this.clicked.set(!1),this.searchValue="",this.overlayOptions?.mode==="modal"&&Ys(),this.filter&&this.resetFilterOnHide&&this.resetFilter(),e&&(this.focusInputViewChild&&Fe(this.focusInputViewChild?.nativeElement),this.editable&&this.editableInputViewChild&&Fe(this.editableInputViewChild?.nativeElement)),this.cd.markForCheck()}onInputFocus(e){if(this.disabled)return;this.focused=!0;let n=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(n),this.overlayVisible&&this.scrollInView(this.focusedOptionIndex()),this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onBlur.emit(e),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}onKeyDown(e,n){if(!(this.disabled||this.readonly||this.loading)){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,this.editable);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,this.editable);break;case"Delete":this.onDeleteKey(e);break;case"Home":this.onHomeKey(e,this.editable);break;case"End":this.onEndKey(e,this.editable);break;case"PageDown":this.onPageDownKey(e);break;case"PageUp":this.onPageUpKey(e);break;case"Space":this.onSpaceKey(e,n);break;case"Enter":case"NumpadEnter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"Backspace":this.onBackspaceKey(e,this.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!e.metaKey&&da(e.key)&&(!this.overlayVisible&&this.show(),!this.editable&&this.searchOptions(e,e.key));break}this.clicked.set(!1)}}onFilterKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(e,!0);break;case"Home":this.onHomeKey(e,!0);break;case"End":this.onEndKey(e,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(e,!0);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e,!0);break;default:break}}onFilterBlur(e){this.focusedOptionIndex.set(-1)}onArrowDownKey(e){if(!this.overlayVisible)this.show(),this.editable&&this.changeFocusedOptionIndex(e,this.findSelectedOptionIndex());else{let n=this.focusedOptionIndex()!==-1?this.findNextOptionIndex(this.focusedOptionIndex()):this.clicked()?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(e,n)}e.preventDefault(),e.stopPropagation()}changeFocusedOptionIndex(e,n){if(this.focusedOptionIndex()!==n&&(this.focusedOptionIndex.set(n),this.scrollInView(),this.selectOnFocus)){let r=this.visibleOptions()[n];this.onOptionSelect(e,r,!1)}}get virtualScrollerDisabled(){return!this.virtualScroll}scrollInView(e=-1){let n=e!==-1?`${this.id}_${e}`:this.focusedOptionId;if(this.itemsViewChild&&this.itemsViewChild.nativeElement){let r=Le(this.itemsViewChild.nativeElement,`li[id="${n}"]`);r?r.scrollIntoView&&r.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||setTimeout(()=>{this.virtualScroll&&this.scroller?.scrollToIndex(e!==-1?e:this.focusedOptionIndex())},0)}}hasSelectedOption(){return this.modelValue()!==void 0}isValidSelectedOption(e){return this.isValidOption(e)&&this.isSelected(e)}equalityKey(){return this.optionValue?null:this.dataKey}findFirstFocusedOptionIndex(){let e=this.findSelectedOptionIndex();return e<0?this.findFirstOptionIndex():e}findFirstOptionIndex(){return this.visibleOptions().findIndex(e=>this.isValidOption(e))}findSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(e=>this.isValidSelectedOption(e)):-1}findNextOptionIndex(e){let n=e<this.visibleOptions().length-1?this.visibleOptions().slice(e+1).findIndex(r=>this.isValidOption(r)):-1;return n>-1?n+e+1:e}findPrevOptionIndex(e){let n=e>0?_r(this.visibleOptions().slice(0,e),r=>this.isValidOption(r)):-1;return n>-1?n:e}findLastOptionIndex(){return _r(this.visibleOptions(),e=>this.isValidOption(e))}findLastFocusedOptionIndex(){let e=this.findSelectedOptionIndex();return e<0?this.findLastOptionIndex():e}isValidOption(e){return e!=null&&!(this.isOptionDisabled(e)||this.isOptionGroup(e))}isOptionGroup(e){return this.optionGroupLabel!==void 0&&this.optionGroupLabel!==null&&e.optionGroup!==void 0&&e.optionGroup!==null&&e.group}onArrowUpKey(e,n=!1){if(e.altKey&&!n){if(this.focusedOptionIndex()!==-1){let r=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(e,r)}this.overlayVisible&&this.hide()}else{let r=this.focusedOptionIndex()!==-1?this.findPrevOptionIndex(this.focusedOptionIndex()):this.clicked()?this.findLastOptionIndex():this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(e,r),!this.overlayVisible&&this.show()}e.preventDefault(),e.stopPropagation()}onArrowLeftKey(e,n=!1){n&&this.focusedOptionIndex.set(-1)}onDeleteKey(e){this.showClear&&(this.clear(e),e.preventDefault())}onHomeKey(e,n=!1){if(n){let r=e.currentTarget;e.shiftKey?r.setSelectionRange(0,r.value.length):(r.setSelectionRange(0,0),this.focusedOptionIndex.set(-1))}else this.changeFocusedOptionIndex(e,this.findFirstOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()}onEndKey(e,n=!1){if(n){let r=e.currentTarget;if(e.shiftKey)r.setSelectionRange(0,r.value.length);else{let o=r.value.length;r.setSelectionRange(o,o),this.focusedOptionIndex.set(-1)}}else this.changeFocusedOptionIndex(e,this.findLastOptionIndex()),!this.overlayVisible&&this.show();e.preventDefault()}onPageDownKey(e){this.scrollInView(this.visibleOptions().length-1),e.preventDefault()}onPageUpKey(e){this.scrollInView(0),e.preventDefault()}onSpaceKey(e,n=!1){!this.editable&&!n&&this.onEnterKey(e)}onEnterKey(e,n=!1){if(!this.overlayVisible)this.focusedOptionIndex.set(-1),this.onArrowDownKey(e);else{if(this.focusedOptionIndex()!==-1){let r=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(e,r)}!n&&this.hide()}e.preventDefault()}onEscapeKey(e){this.overlayVisible&&this.hide(!0),e.preventDefault()}onTabKey(e,n=!1){if(!n)if(this.overlayVisible&&this.hasFocusableElements())Fe(e.shiftKey?this.lastHiddenFocusableElementOnOverlay.nativeElement:this.firstHiddenFocusableElementOnOverlay.nativeElement),e.preventDefault();else{if(this.focusedOptionIndex()!==-1&&this.overlayVisible){let r=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(e,r)}this.overlayVisible&&this.hide(this.filter)}e.stopPropagation()}onFirstHiddenFocus(e){let n=e.relatedTarget===this.focusInputViewChild?.nativeElement?ia(this.overlayViewChild.el?.nativeElement,":not(.p-hidden-focusable)"):this.focusInputViewChild?.nativeElement;Fe(n)}onLastHiddenFocus(e){let n=e.relatedTarget===this.focusInputViewChild?.nativeElement?na(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInputViewChild?.nativeElement;Fe(n)}hasFocusableElements(){return ta(this.overlayViewChild.overlayViewChild.nativeElement,':not([data-p-hidden-focusable="true"])').length>0}onBackspaceKey(e,n=!1){n&&!this.overlayVisible&&this.show()}searchFields(){return this.filterBy?.split(",")||this.filterFields||[this.optionLabel]}searchOptions(e,n){this.searchValue=(this.searchValue||"")+n;let r=-1,o=!1;return r=this.visibleOptions().findIndex(s=>this.isOptionExactMatched(s)),r===-1&&(r=this.visibleOptions().findIndex(s=>this.isOptionStartsWith(s))),r!==-1&&(o=!0),r===-1&&this.focusedOptionIndex()===-1&&(r=this.findFirstFocusedOptionIndex()),r!==-1&&this.changeFocusedOptionIndex(e,r),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),o}isOptionStartsWith(e){return this.isValidOption(e)&&this.getOptionLabel(e).toString().toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))}isOptionExactMatched(e){return this.isValidOption(e)&&this.getOptionLabel(e).toString().toLocaleLowerCase(this.filterLocale)===this.searchValue.toLocaleLowerCase(this.filterLocale)}onFilterInputChange(e){let n=e.target.value;this._filterValue.set(n),this.focusedOptionIndex.set(-1),this.onFilter.emit({originalEvent:e,filter:this._filterValue()}),!this.virtualScrollerDisabled&&this.scroller.scrollToIndex(0),setTimeout(()=>{this.overlayViewChild.alignOverlay()}),this.cd.markForCheck()}applyFocus(){this.editable?Le(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():Fe(this.focusInputViewChild?.nativeElement)}focus(){this.applyFocus()}clear(e){this.updateModel(null,e),this.clearEditableLabel(),this.onModelTouched(),this.onChange.emit({originalEvent:e,value:this.value}),this.onClear.emit(e),this.resetFilter()}static \u0275fac=function(n){return new(n||i)(U(Ke),U(ua))};static \u0275cmp=W({type:i,selectors:[["p-dropdown"]],contentQueries:function(n,r,o){if(n&1&&Re(o,ti,4),n&2){let s;K(s=G())&&(r.templates=s)}},viewQuery:function(n,r){if(n&1&&(me(qd,5),me(Kd,5),me(Gd,5),me(Qd,5),me(Yd,5),me(Zd,5),me(Jd,5),me(Xd,5),me(eu,5)),n&2){let o;K(o=G())&&(r.containerViewChild=o.first),K(o=G())&&(r.filterViewChild=o.first),K(o=G())&&(r.focusInputViewChild=o.first),K(o=G())&&(r.editableInputViewChild=o.first),K(o=G())&&(r.itemsViewChild=o.first),K(o=G())&&(r.scroller=o.first),K(o=G())&&(r.overlayViewChild=o.first),K(o=G())&&(r.firstHiddenFocusableElementOnOverlay=o.first),K(o=G())&&(r.lastHiddenFocusableElementOnOverlay=o.first)}},hostVars:5,hostBindings:function(n,r){n&1&&I("click",function(s){return r.onContainerClick(s)}),n&2&&(q("id",r.id),Zi(r.hostStyle),ce(r.hostClass))},inputs:{id:"id",scrollHeight:"scrollHeight",filter:[2,"filter","filter",H],name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:[2,"readonly","readonly",H],required:[2,"required","required",H],editable:[2,"editable","editable",H],appendTo:"appendTo",tabindex:[2,"tabindex","tabindex",Ne],placeholder:"placeholder",loadingIcon:"loadingIcon",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",variant:"variant",inputId:"inputId",dataKey:"dataKey",filterBy:"filterBy",filterFields:"filterFields",autofocus:[2,"autofocus","autofocus",H],resetFilterOnHide:[2,"resetFilterOnHide","resetFilterOnHide",H],checkmark:[2,"checkmark","checkmark",H],dropdownIcon:"dropdownIcon",loading:[2,"loading","loading",H],optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:[2,"autoDisplayFirst","autoDisplayFirst",H],group:[2,"group","group",H],showClear:[2,"showClear","showClear",H],emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",lazy:[2,"lazy","lazy",H],virtualScroll:[2,"virtualScroll","virtualScroll",H],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",Ne],virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:[2,"maxlength","maxlength",Ne],tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",focusOnHover:[2,"focusOnHover","focusOnHover",H],selectOnFocus:[2,"selectOnFocus","selectOnFocus",H],autoOptionFocus:[2,"autoOptionFocus","autoOptionFocus",H],autofocusFilter:[2,"autofocusFilter","autofocusFilter",H],fluid:[2,"fluid","fluid",H],disabled:"disabled",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",filterValue:"filterValue",options:"options"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear",onLazyLoad:"onLazyLoad"},standalone:!1,features:[Oe([ch,Da]),oe],decls:11,vars:15,consts:[["elseBlock",""],["overlay",""],["content",""],["focusInput",""],["defaultPlaceholder",""],["editableInput",""],["firstHiddenFocusableEl",""],["buildInItems",""],["lastHiddenFocusableEl",""],["builtInFilterElement",""],["filter",""],["scroller",""],["loader",""],["items",""],["emptyFilter",""],["role","combobox",3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","pAutoFocus","focus","blur","keydown",4,"ngIf"],["type","text","aria-haspopup","listbox",3,"ngClass","disabled","pAutoFocus","input","keydown","focus","blur",4,"ngIf"],[4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-select-dropdown"],[4,"ngIf","ngIfElse"],[3,"visibleChange","onAnimationStart","onHide","visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions"],["role","combobox",3,"focus","blur","keydown","ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","pAutoFocus"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["type","text","aria-haspopup","listbox",3,"input","keydown","focus","blur","ngClass","disabled","pAutoFocus"],["class","p-select-clear-icon",3,"click",4,"ngIf"],[1,"p-select-clear-icon",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngTemplateOutlet"],["aria-hidden","true",3,"ngClass",4,"ngIf"],["aria-hidden","true",3,"class",4,"ngIf"],["aria-hidden","true",3,"ngClass"],["aria-hidden","true"],["class","p-select-dropdown-icon",4,"ngIf"],["class","p-select-dropdown-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-select-dropdown-icon",3,"ngClass"],[3,"styleClass"],[1,"p-select-dropdown-icon"],[3,"ngClass","ngStyle"],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"focus"],["class","p-select-header",3,"click",4,"ngIf"],[1,"p-select-list-container"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],[1,"p-select-header",3,"click"],["pInputText","","type","text","role","searchbox","autocomplete","off",1,"p-select-filter",3,"input","keydown","blur","value","variant"],[3,"onLazyLoad","items","itemSize","autoSize","lazy","options"],["role","listbox",1,"p-select-list",3,"ngClass"],["ngFor","",3,"ngForOf"],["class","p-select-empty-message","role","option",3,"ngStyle",4,"ngIf"],["role","option",1,"p-select-option-group",3,"ngStyle"],[3,"onClick","onMouseEnter","id","option","checkmark","selected","label","disabled","template","focused","ariaPosInset","ariaSetSize"],["role","option",1,"p-select-empty-message",3,"ngStyle"]],template:function(n,r){if(n&1){let o=$();v(0,lu,6,20,"span",15)(1,cu,2,8,"input",16)(2,fu,3,2,"ng-container",17),u(3,"div",18),v(4,bu,3,2,"ng-container",19)(5,xu,2,2,"ng-template",null,0,Ie),d(),u(7,"p-overlay",20,1),Ei("visibleChange",function(a){return T(o),wi(r.overlayVisible,a)||(r.overlayVisible=a),S(a)}),I("onAnimationStart",function(a){return T(o),S(r.onOverlayAnimationStart(a))})("onHide",function(){return T(o),S(r.hide())}),v(9,sh,13,17,"ng-template",null,2,Ie),d()}if(n&2){let o,s=Me(6);f("ngIf",!r.editable),p(),f("ngIf",r.editable),p(),f("ngIf",r.isVisibleClearIcon),p(),q("aria-expanded",(o=r.overlayVisible)!==null&&o!==void 0?o:!1)("data-pc-section","trigger"),p(),f("ngIf",r.loading)("ngIfElse",s),p(3),bi("visible",r.overlayVisible),f("options",r.overlayOptions)("target","@parent")("appendTo",r.appendTo)("autoZIndex",r.autoZIndex)("baseZIndex",r.baseZIndex)("showTransitionOptions",r.showTransitionOptions)("hideTransitionOptions",r.hideTransitionOptions)}},dependencies:()=>[it,Qt,Te,Ot,xt,Ar,ka,Dr,pa,vr,Cr,xr,sn,Tr,Or,dh],encapsulation:2,changeDetection:0})}return i})(),dn=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Ge({type:i});static \u0275inj=qe({imports:[ge,kr,Ve,Pa,Dr,fa,vr,Cr,xr,Sr,yr,an,Tr,Or,kr,Ve]})}return i})();var La=function(i){let t=[],e=0;for(let n=0;n<i.length;n++){let r=i.charCodeAt(n);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&n+1<i.length&&(i.charCodeAt(n+1)&64512)===56320?(r=65536+((r&1023)<<10)+(i.charCodeAt(++n)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},hh=function(i){let t=[],e=0,n=0;for(;e<i.length;){let r=i[e++];if(r<128)t[n++]=String.fromCharCode(r);else if(r>191&&r<224){let o=i[e++];t[n++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){let o=i[e++],s=i[e++],a=i[e++],l=((r&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[n++]=String.fromCharCode(55296+(l>>10)),t[n++]=String.fromCharCode(56320+(l&1023))}else{let o=i[e++],s=i[e++];t[n++]=String.fromCharCode((r&15)<<12|(o&63)<<6|s&63)}}return t.join("")},Fa={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();let e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let r=0;r<i.length;r+=3){let o=i[r],s=r+1<i.length,a=s?i[r+1]:0,l=r+2<i.length,c=l?i[r+2]:0,m=o>>2,_=(o&3)<<4|a>>4,E=(a&15)<<2|c>>6,w=c&63;l||(w=64,s||(E=64)),n.push(e[m],e[_],e[E],e[w])}return n.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(La(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):hh(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();let e=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let r=0;r<i.length;){let o=e[i.charAt(r++)],a=r<i.length?e[i.charAt(r)]:0;++r;let c=r<i.length?e[i.charAt(r)]:64;++r;let _=r<i.length?e[i.charAt(r)]:64;if(++r,o==null||a==null||c==null||_==null)throw new Nr;let E=o<<2|a>>4;if(n.push(E),c!==64){let w=a<<4&240|c>>2;if(n.push(w),_!==64){let b=c<<6&192|_;n.push(b)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}},Nr=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},ph=function(i){let t=La(i);return Fa.encodeByteArray(t,!0)},Fr=function(i){return ph(i).replace(/\./g,"")},Vr=function(i){try{return Fa.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function fh(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var mh=()=>fh().__FIREBASE_DEFAULTS__,gh=()=>{if(typeof process>"u"||typeof process.env>"u")return;let i=process.env.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},_h=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=i&&Vr(i[1]);return t&&JSON.parse(t)},yh=()=>{try{return mh()||gh()||_h()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}};var Va=i=>{var t;return(t=yh())===null||t===void 0?void 0:t[`_${i}`]};function $e(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function za(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function Ua(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $a(){let i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function Ha(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ba(){try{return typeof indexedDB=="object"}catch{return!1}}function Wa(){return new Promise((i,t)=>{try{let e=!0,n="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(n);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(n),i(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var o;t(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(e){t(e)}})}var vh="FirebaseError",Ue=class i extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name=vh,Object.setPrototypeOf(this,i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nt.prototype.create)}},nt=class{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){let n=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],s=o?bh(o,n):"Error",a=`${this.serviceName}: ${s} (${r}).`;return new Ue(r,a,n)}};function bh(i,t){return i.replace(wh,(e,n)=>{let r=t[n];return r!=null?String(r):`<${n}?>`})}var wh=/\{\$([^}]+)}/g;function ki(i){let t=[];for(let[e,n]of Object.entries(i))Array.isArray(n)?n.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function ja(i,t){let e=new Lr(i,t);return e.subscribe.bind(e)}var Lr=class{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,n){let r;if(t===void 0&&e===void 0&&n===void 0)throw new Error("Missing Observer.");Eh(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:n},r.next===void 0&&(r.next=Mr),r.error===void 0&&(r.error=Mr),r.complete===void 0&&(r.complete=Mr);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Eh(i,t){if(typeof i!="object"||i===null)return!1;for(let e of t)if(e in i&&typeof i[e]=="function")return!0;return!1}function Mr(){}var _0=4*60*60*1e3;function si(i){return i&&i._delegate?i._delegate:i}var rt=class{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var Ih=[],j=function(i){return i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT",i}(j||{}),Th={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},Sh=j.INFO,Ch={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},xh=(i,t,...e)=>{if(t<i.logLevel)return;let n=new Date().toISOString(),r=Ch[t];if(r)console[r](`[${n}]  ${i.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},ai=class{constructor(t){this.name=t,this._logLevel=Sh,this._logHandler=xh,this._userLogHandler=null,Ih.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in j))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Th[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...t),this._logHandler(this,j.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...t),this._logHandler(this,j.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,j.INFO,...t),this._logHandler(this,j.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,j.WARN,...t),this._logHandler(this,j.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...t),this._logHandler(this,j.ERROR,...t)}};var Oh=(i,t)=>t.some(e=>i instanceof e),qa,Ka;function Ah(){return qa||(qa=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kh(){return Ka||(Ka=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Ga=new WeakMap,Ur=new WeakMap,Qa=new WeakMap,zr=new WeakMap,Hr=new WeakMap;function Ph(i){let t=new Promise((e,n)=>{let r=()=>{i.removeEventListener("success",o),i.removeEventListener("error",s)},o=()=>{e(Ze(i.result)),r()},s=()=>{n(i.error),r()};i.addEventListener("success",o),i.addEventListener("error",s)});return t.then(e=>{e instanceof IDBCursor&&Ga.set(e,i)}).catch(()=>{}),Hr.set(t,i),t}function Dh(i){if(Ur.has(i))return;let t=new Promise((e,n)=>{let r=()=>{i.removeEventListener("complete",o),i.removeEventListener("error",s),i.removeEventListener("abort",s)},o=()=>{e(),r()},s=()=>{n(i.error||new DOMException("AbortError","AbortError")),r()};i.addEventListener("complete",o),i.addEventListener("error",s),i.addEventListener("abort",s)});Ur.set(i,t)}var $r={get(i,t,e){if(i instanceof IDBTransaction){if(t==="done")return Ur.get(i);if(t==="objectStoreNames")return i.objectStoreNames||Qa.get(i);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Ze(i[t])},set(i,t,e){return i[t]=e,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function Ya(i){$r=i($r)}function Rh(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){let n=i.call(un(this),t,...e);return Qa.set(n,t.sort?t.sort():[t]),Ze(n)}:kh().includes(i)?function(...t){return i.apply(un(this),t),Ze(Ga.get(this))}:function(...t){return Ze(i.apply(un(this),t))}}function Mh(i){return typeof i=="function"?Rh(i):(i instanceof IDBTransaction&&Dh(i),Oh(i,Ah())?new Proxy(i,$r):i)}function Ze(i){if(i instanceof IDBRequest)return Ph(i);if(zr.has(i))return zr.get(i);let t=Mh(i);return t!==i&&(zr.set(i,t),Hr.set(t,i)),t}var un=i=>Hr.get(i);function Ja(i,t,{blocked:e,upgrade:n,blocking:r,terminated:o}={}){let s=indexedDB.open(i,t),a=Ze(s);return n&&s.addEventListener("upgradeneeded",l=>{n(Ze(s.result),l.oldVersion,l.newVersion,Ze(s.transaction),l)}),e&&s.addEventListener("blocked",l=>e(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}var Nh=["get","getKey","getAll","getAllKeys","count"],Lh=["put","add","delete","clear"],Br=new Map;function Za(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Br.get(t))return Br.get(t);let e=t.replace(/FromIndex$/,""),n=t!==e,r=Lh.includes(e);if(!(e in(n?IDBIndex:IDBObjectStore).prototype)||!(r||Nh.includes(e)))return;let o=function(s,...a){return g(this,null,function*(){let l=this.transaction(s,r?"readwrite":"readonly"),c=l.store;return n&&(c=c.index(a.shift())),(yield Promise.all([c[e](...a),r&&l.done]))[0]})};return Br.set(t,o),o}Ya(i=>Ct(Z({},i),{get:(t,e,n)=>Za(t,e)||i.get(t,e,n),has:(t,e)=>!!Za(t,e)||i.has(t,e)}));var jr=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(Vh(e)){let n=e.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(e=>e).join(" ")}};function Vh(i){let t=i.getComponent();return t?.type==="VERSION"}var qr="@firebase/app",Xa="0.10.13";var st=new ai("@firebase/app"),zh="@firebase/app-compat",Uh="@firebase/analytics-compat",$h="@firebase/analytics",Hh="@firebase/app-check-compat",Bh="@firebase/app-check",Wh="@firebase/auth",jh="@firebase/auth-compat",qh="@firebase/database",Kh="@firebase/data-connect",Gh="@firebase/database-compat",Qh="@firebase/functions",Yh="@firebase/functions-compat",Zh="@firebase/installations",Jh="@firebase/installations-compat",Xh="@firebase/messaging",ep="@firebase/messaging-compat",tp="@firebase/performance",ip="@firebase/performance-compat",np="@firebase/remote-config",rp="@firebase/remote-config-compat",op="@firebase/storage",sp="@firebase/storage-compat",ap="@firebase/firestore",lp="@firebase/vertexai-preview",cp="@firebase/firestore-compat",dp="firebase",up="10.14.1";var hp={[qr]:"fire-core",[zh]:"fire-core-compat",[$h]:"fire-analytics",[Uh]:"fire-analytics-compat",[Bh]:"fire-app-check",[Hh]:"fire-app-check-compat",[Wh]:"fire-auth",[jh]:"fire-auth-compat",[qh]:"fire-rtdb",[Kh]:"fire-data-connect",[Gh]:"fire-rtdb-compat",[Qh]:"fire-fn",[Yh]:"fire-fn-compat",[Zh]:"fire-iid",[Jh]:"fire-iid-compat",[Xh]:"fire-fcm",[ep]:"fire-fcm-compat",[tp]:"fire-perf",[ip]:"fire-perf-compat",[np]:"fire-rc",[rp]:"fire-rc-compat",[op]:"fire-gcs",[sp]:"fire-gcs-compat",[ap]:"fire-fst",[cp]:"fire-fst-compat",[lp]:"fire-vertex","fire-js":"fire-js",[dp]:"fire-js-all"};var pp=new Map,fp=new Map,el=new Map;function tl(i,t){try{i.container.addComponent(t)}catch(e){st.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,e)}}function li(i){let t=i.name;if(el.has(t))return st.debug(`There were multiple attempts to register component ${t}.`),!1;el.set(t,i);for(let e of pp.values())tl(e,i);for(let e of fp.values())tl(e,i);return!0}function Je(i){return i.settings!==void 0}var mp={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qr=new nt("app","Firebase",mp);var hn=up;function ot(i,t,e){var n;let r=(n=hp[i])!==null&&n!==void 0?n:i;e&&(r+=`-${e}`);let o=r.match(/\s|\//),s=t.match(/\s|\//);if(o||s){let a=[`Unable to register library "${r}" with version "${t}":`];o&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),st.warn(a.join(" "));return}li(new rt(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}var gp="firebase-heartbeat-database",_p=1,Pi="firebase-heartbeat-store",Wr=null;function ol(){return Wr||(Wr=Ja(gp,_p,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Pi)}catch(e){console.warn(e)}}}}).catch(i=>{throw Qr.create("idb-open",{originalErrorMessage:i.message})})),Wr}function yp(i){return g(this,null,function*(){try{let e=(yield ol()).transaction(Pi),n=yield e.objectStore(Pi).get(sl(i));return yield e.done,n}catch(t){if(t instanceof Ue)st.warn(t.message);else{let e=Qr.create("idb-get",{originalErrorMessage:t?.message});st.warn(e.message)}}})}function il(i,t){return g(this,null,function*(){try{let n=(yield ol()).transaction(Pi,"readwrite");yield n.objectStore(Pi).put(t,sl(i)),yield n.done}catch(e){if(e instanceof Ue)st.warn(e.message);else{let n=Qr.create("idb-set",{originalErrorMessage:e?.message});st.warn(n.message)}}})}function sl(i){return`${i.name}!${i.options.appId}`}var vp=1024,bp=30*24*60*60*1e3,Kr=class{constructor(t){this.container=t,this._heartbeatsCache=null;let e=this.container.getProvider("app").getImmediate();this._storage=new Gr(e),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}triggerHeartbeat(){return g(this,null,function*(){var t,e;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=nl();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=bp}),this._storage.overwrite(this._heartbeatsCache))}catch(n){st.warn(n)}})}getHeartbeatsHeader(){return g(this,null,function*(){var t;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=nl(),{heartbeatsToSend:n,unsentEntries:r}=wp(this._heartbeatsCache.heartbeats),o=Fr(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return st.warn(e),""}})}};function nl(){return new Date().toISOString().substring(0,10)}function wp(i,t=vp){let e=[],n=i.slice();for(let r of i){let o=e.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),rl(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),rl(e)>t){e.pop();break}n=n.slice(1)}return{heartbeatsToSend:e,unsentEntries:n}}var Gr=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(this,null,function*(){return Ba()?Wa().then(()=>!0).catch(()=>!1):!1})}read(){return g(this,null,function*(){if(yield this._canUseIndexedDBPromise){let e=yield yp(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(t){return g(this,null,function*(){var e;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return il(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return})}add(t){return g(this,null,function*(){var e;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return il(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return})}};function rl(i){return Fr(JSON.stringify({version:2,heartbeats:i})).length}function Ep(i){li(new rt("platform-logger",t=>new jr(t),"PRIVATE")),li(new rt("heartbeat",t=>new Kr(t),"PRIVATE")),ot(qr,Xa,i),ot(qr,Xa,"esm2017"),ot("fire-js","")}Ep("");var Ip="firebase",Tp="10.14.1";ot(Ip,Tp,"app");function _e(i){return typeof i=="function"}function al(i){let e=i(n=>{Error.call(n),n.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var pn=al(i=>function(e){i(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((n,r)=>`${r+1}) ${n.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function Yr(i,t){if(i){let e=i.indexOf(t);0<=e&&i.splice(e,1)}}var bt=class i{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let o of e)o.remove(this);else e.remove(this);let{initialTeardown:n}=this;if(_e(n))try{n()}catch(o){t=o instanceof pn?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{ll(o)}catch(s){t=t??[],s instanceof pn?t=[...t,...s.errors]:t.push(s)}}if(t)throw new pn(t)}}add(t){var e;if(t&&t!==this)if(this.closed)ll(t);else{if(t instanceof i){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}}_hasParent(t){let{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){let{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Yr(e,t)}remove(t){let{_finalizers:e}=this;e&&Yr(e,t),t instanceof i&&t._removeParent(this)}};bt.EMPTY=(()=>{let i=new bt;return i.closed=!0,i})();var X0=bt.EMPTY;function fn(i){return i instanceof bt||i&&"closed"in i&&_e(i.remove)&&_e(i.add)&&_e(i.unsubscribe)}function ll(i){_e(i)?i():i.unsubscribe()}var He={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ci={setTimeout(i,t,...e){let{delegate:n}=ci;return n?.setTimeout?n.setTimeout(i,t,...e):setTimeout(i,t,...e)},clearTimeout(i){let{delegate:t}=ci;return(t?.clearTimeout||clearTimeout)(i)},delegate:void 0};function cl(i){ci.setTimeout(()=>{let{onUnhandledError:t}=He;if(t)t(i);else throw i})}function Zr(){}var dl=Jr("C",void 0,void 0);function ul(i){return Jr("E",void 0,i)}function hl(i){return Jr("N",i,void 0)}function Jr(i,t,e){return{kind:i,value:t,error:e}}var Rt=null;function pl(i){if(He.useDeprecatedSynchronousErrorHandling){let t=!Rt;if(t&&(Rt={errorThrown:!1,error:null}),i(),t){let{errorThrown:e,error:n}=Rt;if(Rt=null,e)throw n}}else i()}function fl(i){He.useDeprecatedSynchronousErrorHandling&&Rt&&(Rt.errorThrown=!0,Rt.error=i)}var Mt=class extends bt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,fn(t)&&t.add(this)):this.destination=xp}static create(t,e,n){return new di(t,e,n)}next(t){this.isStopped?eo(hl(t),this):this._next(t)}error(t){this.isStopped?eo(ul(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?eo(dl,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Sp=Function.prototype.bind;function Xr(i,t){return Sp.call(i,t)}var to=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(n){mn(n)}}error(t){let{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(n){mn(n)}else mn(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){mn(e)}}},di=class extends Mt{constructor(t,e,n){super();let r;if(_e(t)||!t)r={next:t??void 0,error:e??void 0,complete:n??void 0};else{let o;this&&He.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&Xr(t.next,o),error:t.error&&Xr(t.error,o),complete:t.complete&&Xr(t.complete,o)}):r=t}this.destination=new to(r)}};function mn(i){He.useDeprecatedSynchronousErrorHandling?fl(i):cl(i)}function Cp(i){throw i}function eo(i,t){let{onStoppedNotification:e}=He;e&&ci.setTimeout(()=>e(i,t))}var xp={closed:!0,next:Zr,error:Cp,complete:Zr};var ml=typeof Symbol=="function"&&Symbol.observable||"@@observable";function gn(i){return i}function gl(i){return i.length===0?gn:i.length===1?i[0]:function(e){return i.reduce((n,r)=>r(n),e)}}var _n=(()=>{class i{constructor(e){e&&(this._subscribe=e)}lift(e){let n=new i;return n.source=this,n.operator=e,n}subscribe(e,n,r){let o=Ap(e)?e:new di(e,n,r);return pl(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(n){e.error(n)}}forEach(e,n){return n=_l(n),new n((r,o)=>{let s=new di({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)}[ml](){return this}pipe(...e){return gl(e)(this)}toPromise(e){return e=_l(e),new e((n,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>n(o))})}}return i.create=t=>new i(t),i})();function _l(i){var t;return(t=i??He.Promise)!==null&&t!==void 0?t:Promise}function Op(i){return i&&_e(i.next)&&_e(i.error)&&_e(i.complete)}function Ap(i){return i&&i instanceof Mt||Op(i)&&fn(i)}function kp(i){return _e(i?.lift)}function ui(i){return t=>{if(kp(t))return t.lift(function(e){try{return i(e,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function yn(i,t,e,n,r){return new io(i,t,e,n,r)}var io=class extends Mt{constructor(t,e,n,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function vn(i,t,e,n=0,r=!1){let o=t.schedule(function(){e(),r?i.add(this.schedule(null,n)):this.unsubscribe()},n);if(i.add(o),!r)return o}function bn(i,t=0){return ui((e,n)=>{e.subscribe(yn(n,r=>vn(n,i,()=>n.next(r),t),()=>vn(n,i,()=>n.complete(),t),r=>vn(n,i,()=>n.error(r),t)))})}function wn(i,t=0){return ui((e,n)=>{n.add(i.schedule(()=>e.subscribe(n),t))})}function no(i,t,e){let n=_e(i)||t||e?{next:i,error:t,complete:e}:i;return n?ui((r,o)=>{var s;(s=n.subscribe)===null||s===void 0||s.call(n);let a=!0;r.subscribe(yn(o,l=>{var c;(c=n.next)===null||c===void 0||c.call(n,l),o.next(l)},()=>{var l;a=!1,(l=n.complete)===null||l===void 0||l.call(n),o.complete()},l=>{var c;a=!1,(c=n.error)===null||c===void 0||c.call(n,l),o.error(l)},()=>{var l,c;a&&((l=n.unsubscribe)===null||l===void 0||l.call(n)),(c=n.finalize)===null||c===void 0||c.call(n)}))}):gn}function hi(){}var ro=class{zone;task=null;constructor(t){this.zone=t}call(t,e){let n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",hi,{},hi,hi)),e.pipe(no({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}};function En(){let i=globalThis.\u0275AngularFireScheduler;if(!i)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return i}function Pp(i){return En().ngZone.runOutsideAngular(()=>i())}function Nt(i){return En().ngZone.run(()=>i())}function Dp(i){return Rp(En())(i)}function Rp(i){return function(e){return e=e.lift(new ro(i.ngZone)),e.pipe(wn(i.outsideAngular),bn(i.insideAngular))}}var Mp=(i,t)=>function(){let n=arguments;return t&&setTimeout(()=>{t.state==="scheduled"&&t.invoke()},10),Nt(()=>i.apply(void 0,n))},oo=(i,t)=>function(){let e,n=arguments;for(let o=0;o<arguments.length;o++)typeof n[o]=="function"&&(t&&(e||=Nt(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",hi,{},hi,hi))),n[o]=Mp(n[o],e));let r=Pp(()=>i.apply(this,n));if(!t)if(r instanceof _n){let o=En();return r.pipe(wn(o.outsideAngular),bn(o.insideAngular))}else return Nt(()=>r);return r instanceof _n?r.pipe(Dp):r instanceof Promise?Nt(()=>new Promise((o,s)=>r.then(a=>Nt(()=>o(a)),a=>Nt(()=>s(a))))):typeof r=="function"&&e?function(){return setTimeout(()=>{e&&e.state==="scheduled"&&e.invoke()},10),r.apply(this,arguments)}:Nt(()=>r)};function Cl(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var xl=Cl,Ol=new nt("auth","Firebase",Cl());var Sn=new ai("@firebase/auth");function Np(i,...t){Sn.logLevel<=j.WARN&&Sn.warn(`Auth (${hn}): ${i}`,...t)}function Tn(i,...t){Sn.logLevel<=j.ERROR&&Sn.error(`Auth (${hn}): ${i}`,...t)}function Ft(i,...t){throw Co(i,...t)}function Xe(i,...t){return Co(i,...t)}function So(i,t,e){let n=Object.assign(Object.assign({},xl()),{[t]:e});return new nt("auth","Firebase",n).create(t,{appName:i.name})}function Lt(i){return So(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lp(i,t,e){let n=e;if(!(t instanceof n))throw n.name!==t.constructor.name&&Ft(i,"argument-error"),So(i,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Co(i,...t){if(typeof i!="string"){let e=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=i.name),i._errorFactory.create(e,...n)}return Ol.create(i,...t)}function A(i,t,...e){if(!i)throw Co(t,...e)}function at(i){let t="INTERNAL ASSERTION FAILED: "+i;throw Tn(t),new Error(t)}function Vt(i,t){i||at(t)}function Al(){return yl()==="http:"||yl()==="https:"}function yl(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}function Fp(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Al()||$a()||"connection"in navigator)?navigator.onLine:!0}function Vp(){if(typeof navigator>"u")return null;let i=navigator;return i.languages&&i.languages[0]||i.language||null}var zt=class{constructor(t,e){this.shortDelay=t,this.longDelay=e,Vt(e>t,"Short delay should be less than long delay!"),this.isMobile=za()||Ha()}get(){return Fp()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function zp(i,t){Vt(i.emulator,"Emulator should always be set here");let{url:e}=i.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}var Cn=class{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;at("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;at("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;at("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Up={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var $p=new zt(3e4,6e4);function lt(i,t){return i.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:i.tenantId}):t}function ct(o,s,a,l){return g(this,arguments,function*(i,t,e,n,r={}){return kl(i,r,()=>g(this,null,function*(){let c={},m={};n&&(t==="GET"?m=n:c={body:JSON.stringify(n)});let _=ki(Object.assign({key:i.config.apiKey},m)).slice(1),E=yield i._getAdditionalHeaders();E["Content-Type"]="application/json",i.languageCode&&(E["X-Firebase-Locale"]=i.languageCode);let w=Object.assign({method:t,headers:E},c);return Ua()||(w.referrerPolicy="no-referrer"),Cn.fetch()(Pl(i,i.config.apiHost,e,_),w)}))})}function kl(i,t,e){return g(this,null,function*(){i._canInitEmulator=!1;let n=Object.assign(Object.assign({},Up),t);try{let r=new co(i),o=yield Promise.race([e(),r.promise]);r.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Di(i,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Di(i,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Di(i,"email-already-in-use",s);if(l==="USER_DISABLED")throw Di(i,"user-disabled",s);let m=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw So(i,m,c);Ft(i,m)}}catch(r){if(r instanceof Ue)throw r;Ft(i,"network-request-failed",{message:String(r)})}})}function Rn(o,s,a,l){return g(this,arguments,function*(i,t,e,n,r={}){let c=yield ct(i,t,e,n,r);return"mfaPendingCredential"in c&&Ft(i,"multi-factor-auth-required",{_serverResponse:c}),c})}function Pl(i,t,e,n){let r=`${t}${e}?${n}`;return i.config.emulator?zp(i.config,r):`${i.config.apiScheme}://${r}`}var co=class{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,n)=>{this.timer=setTimeout(()=>n(Xe(this.auth,"network-request-failed")),$p.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Di(i,t,e){let n={appName:i.name};e.email&&(n.email=e.email),e.phoneNumber&&(n.phoneNumber=e.phoneNumber);let r=Xe(i,t,n);return r.customData._tokenResponse=e,r}function vl(i){return i!==void 0&&i.getResponse!==void 0}function Hp(i){return g(this,null,function*(){return(yield ct(i,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})}function Bp(i,t){return g(this,null,function*(){return ct(i,"POST","/v1/accounts:delete",t)})}function Dl(i,t){return g(this,null,function*(){return ct(i,"POST","/v1/accounts:lookup",t)})}function Ri(i){if(i)try{let t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function xo(i,t=!1){return g(this,null,function*(){let e=si(i),n=yield e.getIdToken(t),r=Oo(n);A(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");let o=typeof r.firebase=="object"?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:n,authTime:Ri(so(r.auth_time)),issuedAtTime:Ri(so(r.iat)),expirationTime:Ri(so(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function so(i){return Number(i)*1e3}function Oo(i){let[t,e,n]=i.split(".");if(t===void 0||e===void 0||n===void 0)return Tn("JWT malformed, contained fewer than 3 sections"),null;try{let r=Vr(e);return r?JSON.parse(r):(Tn("Failed to decode base64 JWT payload"),null)}catch(r){return Tn("Caught error parsing JWT payload as JSON",r?.toString()),null}}function bl(i){let t=Oo(i);return A(t,"internal-error"),A(typeof t.exp<"u","internal-error"),A(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}function Ni(i,t,e=!1){return g(this,null,function*(){if(e)return t;try{return yield t}catch(n){throw n instanceof Ue&&Wp(n)&&i.auth.currentUser===i&&(yield i.auth.signOut()),n}})}function Wp({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}var uo=class{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){let n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;let r=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;let e=this.getInterval(t);this.timerId=setTimeout(()=>g(this,null,function*(){yield this.iteration()}),e)}iteration(){return g(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Li=class{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ri(this.lastLoginAt),this.creationTime=Ri(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function xn(i){return g(this,null,function*(){var t;let e=i.auth,n=yield i.getIdToken(),r=yield Ni(i,Dl(e,{idToken:n}));A(r?.users.length,e,"internal-error");let o=r.users[0];i._notifyReloadListener(o);let s=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?Rl(o.providerUserInfo):[],a=jp(i.providerData,s),l=i.isAnonymous,c=!(i.email&&o.passwordHash)&&!a?.length,m=l?c:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Li(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(i,_)})}function Ao(i){return g(this,null,function*(){let t=si(i);yield xn(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})}function jp(i,t){return[...i.filter(n=>!t.some(r=>r.providerId===n.providerId)),...t]}function Rl(i){return i.map(t=>{var{providerId:e}=t,n=Qi(t,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}function qp(i,t){return g(this,null,function*(){let e=yield kl(i,{},()=>g(this,null,function*(){let n=ki({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=i.config,s=Pl(i,r,"/v1/token",`key=${o}`),a=yield i._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Cn.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}})}function Kp(i,t){return g(this,null,function*(){return ct(i,"POST","/v2/accounts:revokeToken",lt(i,t))})}var Mi=class i{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){A(t.idToken,"internal-error"),A(typeof t.idToken<"u","internal-error"),A(typeof t.refreshToken<"u","internal-error");let e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):bl(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){A(t.length!==0,"internal-error");let e=bl(t);this.updateTokensAndExpiration(t,null,e)}getToken(t,e=!1){return g(this,null,function*(){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(A(this.refreshToken,t,"user-token-expired"),this.refreshToken?(yield this.refresh(t,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(t,e){return g(this,null,function*(){let{accessToken:n,refreshToken:r,expiresIn:o}=yield qp(t,e);this.updateTokensAndExpiration(n,r,Number(o))})}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,e){let{refreshToken:n,accessToken:r,expirationTime:o}=e,s=new i;return n&&(A(typeof n=="string","internal-error",{appName:t}),s.refreshToken=n),r&&(A(typeof r=="string","internal-error",{appName:t}),s.accessToken=r),o&&(A(typeof o=="number","internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new i,this.toJSON())}_performRefresh(){return at("not implemented")}};function wt(i,t){A(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}var fi=class i{constructor(t){var{uid:e,auth:n,stsTokenManager:r}=t,o=Qi(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Li(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(t){return g(this,null,function*(){let e=yield Ni(this,this.stsTokenManager.getToken(this.auth,t));return A(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e})}getIdTokenResult(t){return xo(this,t)}reload(){return Ao(this)}_assign(t){this!==t&&(A(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){let e=new i(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,e=!1){return g(this,null,function*(){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),e&&(yield xn(this)),yield this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)})}delete(){return g(this,null,function*(){if(Je(this.auth.app))return Promise.reject(Lt(this.auth));let t=yield this.getIdToken();return yield Ni(this,Bp(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var n,r,o,s,a,l,c,m;let _=(n=e.displayName)!==null&&n!==void 0?n:void 0,E=(r=e.email)!==null&&r!==void 0?r:void 0,w=(o=e.phoneNumber)!==null&&o!==void 0?o:void 0,b=(s=e.photoURL)!==null&&s!==void 0?s:void 0,O=(a=e.tenantId)!==null&&a!==void 0?a:void 0,x=(l=e._redirectEventId)!==null&&l!==void 0?l:void 0,P=(c=e.createdAt)!==null&&c!==void 0?c:void 0,R=(m=e.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:V,emailVerified:z,isAnonymous:le,providerData:re,stsTokenManager:se}=e;A(V&&se,t,"internal-error");let pe=Mi.fromJSON(this.name,se);A(typeof V=="string",t,"internal-error"),wt(_,t.name),wt(E,t.name),A(typeof z=="boolean",t,"internal-error"),A(typeof le=="boolean",t,"internal-error"),wt(w,t.name),wt(b,t.name),wt(O,t.name),wt(x,t.name),wt(P,t.name),wt(R,t.name);let De=new i({uid:V,auth:t,email:E,emailVerified:z,displayName:_,isAnonymous:le,photoURL:b,phoneNumber:w,tenantId:O,stsTokenManager:pe,createdAt:P,lastLoginAt:R});return re&&Array.isArray(re)&&(De.providerData=re.map(ut=>Object.assign({},ut))),x&&(De._redirectEventId=x),De}static _fromIdTokenResponse(t,e,n=!1){return g(this,null,function*(){let r=new Mi;r.updateFromServerResponse(e);let o=new i({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:n});return yield xn(o),o})}static _fromGetAccountInfoResponse(t,e,n){return g(this,null,function*(){let r=e.users[0];A(r.localId!==void 0,"internal-error");let o=r.providerUserInfo!==void 0?Rl(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!o?.length,a=new Mi;a.updateFromIdToken(n);let l=new i({uid:r.localId,auth:t,stsTokenManager:a,isAnonymous:s}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Li(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(l,c),l})}};var wl=new Map;function Et(i){Vt(i instanceof Function,"Expected a class definition");let t=wl.get(i);return t?(Vt(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,wl.set(i,t),t)}var Gp=(()=>{class i{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(this,null,function*(){return!0})}_set(e,n){return g(this,null,function*(){this.storage[e]=n})}_get(e){return g(this,null,function*(){let n=this.storage[e];return n===void 0?null:n})}_remove(e){return g(this,null,function*(){delete this.storage[e]})}_addListener(e,n){}_removeListener(e,n){}}return i.type="NONE",i})(),ho=Gp;function ao(i,t,e){return`firebase:${i}:${t}:${e}`}var On=class i{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;let{config:r,name:o}=this.auth;this.fullUserKey=ao(this.userKey,r.apiKey,o),this.fullPersistenceKey=ao("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){return g(this,null,function*(){let t=yield this.persistence._get(this.fullUserKey);return t?fi._fromJSON(this.auth,t):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){return g(this,null,function*(){if(this.persistence===t)return;let e=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,e,n="authUser"){return g(this,null,function*(){if(!e.length)return new i(Et(ho),t,n);let r=(yield Promise.all(e.map(c=>g(this,null,function*(){if(yield c._isAvailable())return c})))).filter(c=>c),o=r[0]||Et(ho),s=ao(n,t.config.apiKey,t.name),a=null;for(let c of e)try{let m=yield c._get(s);if(m){let _=fi._fromJSON(t,m);c!==o&&(a=_),o=c;break}}catch{}let l=r.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new i(o,t,n):(o=l[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(e.map(c=>g(this,null,function*(){if(c!==o)try{yield c._remove(s)}catch{}}))),new i(o,t,n))})}};function El(i){let t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Jp(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Qp(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ef(t))return"Blackberry";if(tf(t))return"Webos";if(Yp(t))return"Safari";if((t.includes("chrome/")||Zp(t))&&!t.includes("edge/"))return"Chrome";if(Xp(t))return"Android";{let e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=i.match(e);if(n?.length===2)return n[1]}return"Other"}function Qp(i=$e()){return/firefox\//i.test(i)}function Yp(i=$e()){let t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Zp(i=$e()){return/crios\//i.test(i)}function Jp(i=$e()){return/iemobile/i.test(i)}function Xp(i=$e()){return/android/i.test(i)}function ef(i=$e()){return/blackberry/i.test(i)}function tf(i=$e()){return/webos/i.test(i)}function Ml(i,t=[]){let e;switch(i){case"Browser":e=El($e());break;case"Worker":e=`${El($e())}-${i}`;break;default:e=i}let n=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${hn}/${n}`}var po=class{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){let n=o=>new Promise((s,a)=>{try{let l=t(o);s(l)}catch(l){a(l)}});n.onAbort=e,this.queue.push(n);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(t){return g(this,null,function*(){if(this.auth.currentUser===t)return;let e=[];try{for(let n of this.queue)yield n(t),n.onAbort&&e.push(n.onAbort)}catch(n){e.reverse();for(let r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}})}};function nf(e){return g(this,arguments,function*(i,t={}){return ct(i,"GET","/v2/passwordPolicy",lt(i,t))})}var rf=6,fo=class{constructor(t){var e,n,r,o;let s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=s.minPasswordLength)!==null&&e!==void 0?e:rf,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(n=t.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,n,r,o,s,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(e=l.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(t,e){let n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(e.meetsMinPasswordLength=t.length>=n),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let n;for(let r=0;r<t.length;r++)n=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,e,n,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}};var mo=class{constructor(t,e,n,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new An(this),this.idTokenSubscription=new An(this),this.beforeStateQueue=new po(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ol,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Et(e)),this._initializationPromise=this.queue(()=>g(this,null,function*(){var n,r;if(!this._deleted&&(this.persistenceManager=yield On.create(this,t),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(e),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return g(this,null,function*(){if(this._deleted)return;let t=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(t,!0)}})}initializeCurrentUserFromIdToken(t){return g(this,null,function*(){try{let e=yield Dl(this,{idToken:t}),n=yield fi._fromGetAccountInfoResponse(this,e,t);yield this.directlySetCurrentUser(n)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(t){return g(this,null,function*(){var e;if(Je(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let n=yield this.assertedPersistence.getCurrentUser(),r=n,o=!1;if(t&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,a=r?._redirectEventId,l=yield this.tryRedirectSignIn(t);(!s||s===a)&&l?.user&&(r=l.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return A(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(t){return g(this,null,function*(){let e=null;try{e=yield this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{yield this._setRedirectUser(null)}return e})}reloadAndSetCurrentUserOrClear(t){return g(this,null,function*(){try{yield xn(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)})}useDeviceLanguage(){this.languageCode=Vp()}_delete(){return g(this,null,function*(){this._deleted=!0})}updateCurrentUser(t){return g(this,null,function*(){if(Je(this.app))return Promise.reject(Lt(this));let e=t?si(t):null;return e&&A(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))})}_updateCurrentUser(t,e=!1){return g(this,null,function*(){if(!this._deleted)return t&&A(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||(yield this.beforeStateQueue.runMiddleware(t)),this.queue(()=>g(this,null,function*(){yield this.directlySetCurrentUser(t),this.notifyAuthListeners()}))})}signOut(){return g(this,null,function*(){return Je(this.app)?Promise.reject(Lt(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(t){return Je(this.app)?Promise.reject(Lt(this)):this.queue(()=>g(this,null,function*(){yield this.assertedPersistence.setPersistence(Et(t))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){return g(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return g(this,null,function*(){let t=yield nf(this),e=new fo(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new nt("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{let n=this.onAuthStateChanged(()=>{n(),t()},e)}})}revokeAccessToken(t){return g(this,null,function*(){if(this.currentUser){let e=yield this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(n.tenantId=this.tenantId),yield Kp(this,n)}})}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}_setRedirectUser(t,e){return g(this,null,function*(){let n=yield this.getOrInitRedirectPersistenceManager(e);return t===null?n.removeCurrentUser():n.setCurrentUser(t)})}getOrInitRedirectPersistenceManager(t){return g(this,null,function*(){if(!this.redirectPersistenceManager){let e=t&&Et(t)||this._popupRedirectResolver;A(e,this,"argument-error"),this.redirectPersistenceManager=yield On.create(this,[Et(e._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(t){return g(this,null,function*(){var e,n;return this._isInitialized&&(yield this.queue(()=>g(this,null,function*(){}))),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===t?this.redirectUser:null})}_persistUserIfCurrent(t){return g(this,null,function*(){if(t===this.currentUser)return this.queue(()=>g(this,null,function*(){return this.directlySetCurrentUser(t)}))})}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let n=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,r){if(this._deleted)return()=>{};let o=typeof e=="function"?e:e.next.bind(e),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(A(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof e=="function"){let l=t.addObserver(e,n,r);return()=>{s=!0,l()}}else{let l=t.addObserver(e);return()=>{s=!0,l()}}}directlySetCurrentUser(t){return g(this,null,function*(){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?yield this.assertedPersistence.setCurrentUser(t):yield this.assertedPersistence.removeCurrentUser()})}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Ml(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return g(this,null,function*(){var t;let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let n=yield(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);let r=yield this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e})}_getAppCheckToken(){return g(this,null,function*(){var t;let e=yield(t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken();return e?.error&&Np(`Error while retrieving App Check token: ${e.error}`),e?.token})}};function Ui(i){return si(i)}var An=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=ja(e=>this.observer=e)}get next(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var ko={loadJS(){return g(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function of(i){ko=i}function sf(i){return ko.loadJS(i)}function af(){return ko.recaptchaV2Script}function lf(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function cf(i,t){let e=t?.persistence||[],n=(Array.isArray(e)?e:[e]).map(Et);t?.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(n,t?.popupRedirectResolver)}var mi=class{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return at("not implemented")}_getIdTokenResponse(t){return at("not implemented")}_linkToIdToken(t,e){return at("not implemented")}_getReauthenticationResolver(t){return at("not implemented")}};function pi(i,t){return g(this,null,function*(){return Rn(i,"POST","/v1/accounts:signInWithIdp",lt(i,t))})}var df="http://localhost",kn=class i extends mi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){let e=new i(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Ft("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){let e=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:r}=e,o=Qi(e,["providerId","signInMethod"]);if(!n||!r)return null;let s=new i(n,r);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(t){let e=this.buildRequest();return pi(t,e)}_linkToIdToken(t,e){let n=this.buildRequest();return n.idToken=e,pi(t,n)}_getReauthenticationResolver(t){let e=this.buildRequest();return e.autoCreate=!1,pi(t,e)}buildRequest(){let t={requestUri:df,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{let e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=ki(e)}return t}};function uf(i,t){return g(this,null,function*(){return ct(i,"POST","/v1/accounts:sendVerificationCode",lt(i,t))})}function hf(i,t){return g(this,null,function*(){return Rn(i,"POST","/v1/accounts:signInWithPhoneNumber",lt(i,t))})}function pf(i,t){return g(this,null,function*(){let e=yield Rn(i,"POST","/v1/accounts:signInWithPhoneNumber",lt(i,t));if(e.temporaryProof)throw Di(i,"account-exists-with-different-credential",e);return e})}var ff={USER_NOT_FOUND:"user-not-found"};function mf(i,t){return g(this,null,function*(){let e=Object.assign(Object.assign({},t),{operation:"REAUTH"});return Rn(i,"POST","/v1/accounts:signInWithPhoneNumber",lt(i,e),ff)})}var Pn=class i extends mi{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,e){return new i({verificationId:t,verificationCode:e})}static _fromTokenResponse(t,e){return new i({phoneNumber:t,temporaryProof:e})}_getIdTokenResponse(t){return hf(t,this._makeVerificationRequest())}_linkToIdToken(t,e){return pf(t,Object.assign({idToken:e},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return mf(t,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:t,phoneNumber:e,verificationId:n,verificationCode:r}=this.params;return t&&e?{temporaryProof:t,phoneNumber:e}:{sessionInfo:n,code:r}}toJSON(){let t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){typeof t=="string"&&(t=JSON.parse(t));let{verificationId:e,verificationCode:n,phoneNumber:r,temporaryProof:o}=t;return!n&&!e&&!r&&!o?null:new i({verificationId:e,verificationCode:n,phoneNumber:r,temporaryProof:o})}};var Dn=class{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}};var go=class extends Dn{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}};var Po=(()=>{class i extends go{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return kn._fromParams({providerId:i.PROVIDER_ID,signInMethod:i.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return i.credentialFromTaggedObject(e)}static credentialFromError(e){return i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return i.credential(n,r)}catch{return null}}}i.GOOGLE_SIGN_IN_METHOD="google.com",i.PROVIDER_ID="google.com";return i})();var Fi=class i{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,e,n,r=!1){return g(this,null,function*(){let o=yield fi._fromIdTokenResponse(t,n,r),s=Il(n);return new i({user:o,providerId:s,_tokenResponse:n,operationType:e})})}static _forOperation(t,e,n){return g(this,null,function*(){yield t._updateTokensIfNecessary(n,!0);let r=Il(n);return new i({user:t,providerId:r,_tokenResponse:n,operationType:e})})}};function Il(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}var _o=class i extends Ue{constructor(t,e,n,r){var o;super(e.code,e.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,i.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,e,n,r){return new i(t,e,n,r)}};function Nl(i,t,e,n){return(t==="reauthenticate"?e._getReauthenticationResolver(i):e._getIdTokenResponse(i)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?_o._fromErrorAndOperation(i,o,t,n):o})}function gf(i,t,e=!1){return g(this,null,function*(){let n=yield Ni(i,t._linkToIdToken(i.auth,yield i.getIdToken()),e);return Fi._forOperation(i,"link",n)})}function _f(i,t,e=!1){return g(this,null,function*(){let{auth:n}=i;if(Je(n.app))return Promise.reject(Lt(n));let r="reauthenticate";try{let o=yield Ni(i,Nl(n,r,t,i),e);A(o.idToken,n,"internal-error");let s=Oo(o.idToken);A(s,n,"internal-error");let{sub:a}=s;return A(i.uid===a,n,"user-mismatch"),Fi._forOperation(i,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&Ft(n,"user-mismatch"),o}})}function Ll(i,t,e=!1){return g(this,null,function*(){if(Je(i.app))return Promise.reject(Lt(i));let n="signIn",r=yield Nl(i,n,t),o=yield Fi._fromIdTokenResponse(i,n,r);return e||(yield i._updateCurrentUser(o.user)),o})}function Do(i,t){return g(this,null,function*(){return Ll(Ui(i),t)})}function yf(i,t){return ct(i,"POST","/v2/accounts/mfaEnrollment:start",lt(i,t))}function vf(i="",t=10){let e="";for(let n=0;n<t;n++)e+=Math.floor(Math.random()*10);return i+e}function ke(){return window}function bf(){return typeof ke().WorkerGlobalScope<"u"&&typeof ke().importScripts=="function"}function wf(i,t){return ct(i,"POST","/v2/accounts/mfaSignIn:start",lt(i,t))}var Ef=500,If=6e4,In=1e12,yo=class{constructor(t){this.auth=t,this.counter=In,this._widgets=new Map}render(t,e){let n=this.counter;return this._widgets.set(n,new vo(t,this.auth.name,e||{})),this.counter++,n}reset(t){var e;let n=t||In;(e=this._widgets.get(n))===null||e===void 0||e.delete(),this._widgets.delete(n)}getResponse(t){var e;let n=t||In;return((e=this._widgets.get(n))===null||e===void 0?void 0:e.getResponse())||""}execute(t){return g(this,null,function*(){var e;let n=t||In;return(e=this._widgets.get(n))===null||e===void 0||e.execute(),""})}},vo=class{constructor(t,e,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};let r=typeof t=="string"?document.getElementById(t):t;A(r,"argument-error",{appName:e}),this.container=r,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=Tf(50);let{callback:t,"expired-callback":e}=this.params;if(t)try{t(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,e)try{e()}catch{}this.isVisible&&this.execute()},If)},Ef))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}};function Tf(i){let t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<i;n++)t.push(e.charAt(Math.floor(Math.random()*e.length)));return t.join("")}var lo=lf("rcb"),Sf=new zt(3e4,6e4),bo=class{constructor(){var t;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((t=ke().grecaptcha)===null||t===void 0)&&t.render)}load(t,e=""){return A(Cf(e),t,"argument-error"),this.shouldResolveImmediately(e)&&vl(ke().grecaptcha)?Promise.resolve(ke().grecaptcha):new Promise((n,r)=>{let o=ke().setTimeout(()=>{r(Xe(t,"network-request-failed"))},Sf.get());ke()[lo]=()=>{ke().clearTimeout(o),delete ke()[lo];let a=ke().grecaptcha;if(!a||!vl(a)){r(Xe(t,"internal-error"));return}let l=a.render;a.render=(c,m)=>{let _=l(c,m);return this.counter++,_},this.hostLanguage=e,n(a)};let s=`${af()}?${ki({onload:lo,render:"explicit",hl:e})}`;sf(s).catch(()=>{clearTimeout(o),r(Xe(t,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(t){var e;return!!(!((e=ke().grecaptcha)===null||e===void 0)&&e.render)&&(t===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}};function Cf(i){return i.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(i)}var wo=class{load(t){return g(this,null,function*(){return new yo(t)})}clearedOneInstance(){}};var Fl="recaptcha",xf={theme:"light",type:"image"},Vi=class{constructor(t,e,n=Object.assign({},xf)){this.parameters=n,this.type=Fl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ui(t),this.isInvisible=this.parameters.size==="invisible",A(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");let r=typeof e=="string"?document.getElementById(e):e;A(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new wo:new bo,this.validateStartingState()}verify(){return g(this,null,function*(){this.assertNotDestroyed();let t=yield this.render(),e=this.getAssertedRecaptcha(),n=e.getResponse(t);return n||new Promise(r=>{let o=s=>{s&&(this.tokenChangeListeners.delete(o),r(s))};this.tokenChangeListeners.add(o),this.isInvisible&&e.execute(t)})})}render(){try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(t=>{throw this.renderPromise=null,t}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(t=>{this.container.removeChild(t)})}validateStartingState(){A(!this.parameters.sitekey,this.auth,"argument-error"),A(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),A(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(t){return e=>{if(this.tokenChangeListeners.forEach(n=>n(e)),typeof t=="function")t(e);else if(typeof t=="string"){let n=ke()[t];typeof n=="function"&&n(e)}}}assertNotDestroyed(){A(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){return g(this,null,function*(){if(yield this.init(),!this.widgetId){let t=this.container;if(!this.isInvisible){let e=document.createElement("div");t.appendChild(e),t=e}this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)}return this.widgetId})}init(){return g(this,null,function*(){A(Al()&&!bf(),this.auth,"internal-error"),yield Of(),this.recaptcha=yield this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);let t=yield Hp(this.auth);A(t,this.auth,"internal-error"),this.parameters.sitekey=t})}getAssertedRecaptcha(){return A(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function Of(){let i=null;return new Promise(t=>{if(document.readyState==="complete"){t();return}i=()=>t(),window.addEventListener("load",i)}).catch(t=>{throw i&&window.removeEventListener("load",i),t})}var Eo=class{constructor(t,e){this.verificationId=t,this.onConfirmation=e}confirm(t){let e=Pn._fromVerification(this.verificationId,t);return this.onConfirmation(e)}};function Ro(i,t,e){return g(this,null,function*(){if(Je(i.app))return Promise.reject(Lt(i));let n=Ui(i),r=yield Af(n,t,si(e));return new Eo(r,o=>Do(n,o))})}function Af(i,t,e){return g(this,null,function*(){var n;let r=yield e.verify();try{A(typeof r=="string",i,"argument-error"),A(e.type===Fl,i,"argument-error");let o;if(typeof t=="string"?o={phoneNumber:t}:o=t,"session"in o){let s=o.session;if("phoneNumber"in o)return A(s.type==="enroll",i,"internal-error"),(yield yf(i,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:r}})).phoneSessionInfo.sessionInfo;{A(s.type==="signin",i,"internal-error");let a=((n=o.multiFactorHint)===null||n===void 0?void 0:n.uid)||o.multiFactorUid;return A(a,i,"missing-multi-factor-info"),(yield wf(i,{mfaPendingCredential:s.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:r}})).phoneResponseInfo.sessionInfo}}else{let{sessionInfo:s}=yield uf(i,{phoneNumber:o.phoneNumber,recaptchaToken:r});return s}}finally{e._reset()}})}function kf(i,t){return t?Et(t):(A(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}var zi=class extends mi{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return pi(t,this._buildIdpRequest())}_linkToIdToken(t,e){return pi(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return pi(t,this._buildIdpRequest())}_buildIdpRequest(t){let e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}};function Pf(i){return Ll(i.auth,new zi(i),i.bypassAuthState)}function Df(i){let{auth:t,user:e}=i;return A(e,t,"internal-error"),_f(e,new zi(i),i.bypassAuthState)}function Rf(i){return g(this,null,function*(){let{auth:t,user:e}=i;return A(e,t,"internal-error"),gf(e,new zi(i),i.bypassAuthState)})}var Io=class{constructor(t,e,n,r,o=!1){this.auth=t,this.resolver=n,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise((t,e)=>g(this,null,function*(){this.pendingPromise={resolve:t,reject:e};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}onAuthEvent(t){return g(this,null,function*(){let{urlResponse:e,sessionId:n,postBody:r,tenantId:o,error:s,type:a}=t;if(s){this.reject(s);return}let l={auth:this.auth,requestUri:e,sessionId:n,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(l))}catch(c){this.reject(c)}})}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Pf;case"linkViaPopup":case"linkViaRedirect":return Rf;case"reauthViaPopup":case"reauthViaRedirect":return Df;default:Ft(this.auth,"internal-error")}}resolve(t){Vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Mf=new zt(2e3,1e4);function Mo(i,t,e){return g(this,null,function*(){if(Je(i.app))return Promise.reject(Xe(i,"operation-not-supported-in-this-environment"));let n=Ui(i);Lp(i,t,Dn);let r=kf(n,e);return new Nf(n,"signInViaPopup",t,r).executeNotNull()})}var Nf=(()=>{class i extends Io{constructor(e,n,r,o,s){super(e,n,o,s),this.provider=r,this.authWindow=null,this.pollId=null,i.currentPopupAction&&i.currentPopupAction.cancel(),i.currentPopupAction=this}executeNotNull(){return g(this,null,function*(){let e=yield this.execute();return A(e,this.auth,"internal-error"),e})}onExecution(){return g(this,null,function*(){Vt(this.filter.length===1,"Popup operations only handle one event");let e=vf();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xe(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Xe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,i.currentPopupAction=null}pollUserCancellation(){let e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xe(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Mf.get())};e()}}i.currentPopupAction=null;return i})();var bb=10*60*1e3;var wb=new zt(3e4,6e4);var Eb=new zt(5e3,15e3);var Ib=encodeURIComponent("fac");var Tl="@firebase/auth",Sl="1.7.9";var To=class{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}getToken(t){return g(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(t)}:null})}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;let e=this.auth.onIdTokenChanged(n=>{t(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();let e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Lf(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ff(i){li(new rt("auth",(t,{options:e})=>{let n=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=n.options;A(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});let l={apiKey:s,authDomain:a,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ml(i)},c=new mo(n,r,o,l);return cf(c,e),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider("auth-internal").initialize()})),li(new rt("auth-internal",t=>{let e=Ui(t.getProvider("auth").getImmediate());return(n=>new To(n))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),ot(Tl,Sl,Lf(i)),ot(Tl,Sl,"esm2017")}var Vf=5*60,Tb=Va("authIdTokenMaxAge")||Vf;function zf(){var i,t;return(t=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&t!==void 0?t:document}of({loadJS(i){return new Promise((t,e)=>{let n=document.createElement("script");n.setAttribute("src",i),n.onload=t,n.onerror=r=>{let o=Xe("internal-error");o.customData=r,e(o)},n.type="text/javascript",n.charset="UTF-8",zf().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ff("Browser");var Mn=class{constructor(t){return t}};var Vl=oo(Ro,!0),zl=oo(Mo,!0);function Fm(i,t){i&1&&(u(0,"p",13),y(1," Please enter a valid phone number or email "),d())}function Vm(i,t){i&1&&(u(0,"p",13),y(1," Password must be at least 6 characters "),d())}function zm(i,t){if(i&1&&(u(0,"div",27),y(1),d()),i&2){let e=h();qt("bg-green-100",!e.loginError&&!e.otpError)("bg-red-100",e.loginError||e.otpError)("text-green-800",!e.loginError&&!e.otpError)("text-red-800",e.loginError||e.otpError),p(),de(" ",e.message," ")}}function Um(i,t){i&1&&(u(0,"div",15)(1,"strong",25),y(2,"Incorrect email or password."),M(3,"br"),d(),y(4," Please try again."),M(5,"br"),u(6,"span",28),y(7,"That doesn't look right. Doublecheck your email and password, or reset your password if you've forgotten it."),d(),u(8,"a",29),y(9,"Forgot Password?"),d()())}function $m(i,t){if(i&1&&(u(0,"div",33)(1,"p",40)(2,"strong"),y(3,"User:"),d(),y(4),d(),u(5,"p",40)(6,"strong"),y(7,"Phone:"),d(),y(8),d(),u(9,"p",40)(10,"strong"),y(11,"Email:"),d(),y(12),d()()),i&2){let e=h(2);p(4),Ss(" ",e.currentUser.first_name," ",e.currentUser.last_name,""),p(4),de(" ",e.currentUser.phone,""),p(4),de(" ",e.currentUser.email||"Not provided","")}}function Hm(i,t){if(i&1&&(u(0,"div",36),y(1),d()),i&2){let e=h(2);p(),de(" ",e.message," ")}}function Bm(i,t){if(i&1&&(u(0,"div",37),y(1),d()),i&2){let e=h(2);p(),de(" ",e.message," ")}}function Wm(i,t){if(i&1){let e=$();u(0,"div",0)(1,"div",30)(2,"div",4)(3,"h2",31),y(4,"\u{1F510} SMS Verification"),d(),u(5,"p",32),y(6,"Complete the verification to receive SMS code"),d(),v(7,$m,13,4,"div",33),d(),u(8,"div",34),M(9,"div",35),d(),v(10,Hm,2,1,"div",36)(11,Bm,2,1,"div",37),u(12,"div",38)(13,"button",39),I("click",function(){T(e);let r=h();return S(r.closeRecaptcha())}),y(14," Cancel "),d()()()()}if(i&2){let e=h();p(7),J(e.currentUser?7:-1),p(3),J(e.message&&!e.loginError?10:-1),p(),J(e.message&&e.loginError?11:-1)}}function jm(i,t){if(i&1&&(u(0,"div",51)(1,"p",54),y(2),d()()),i&2){let e=h(2);p(2),gt(e.message)}}function qm(i,t){if(i&1&&(u(0,"div",51)(1,"p",55),y(2),d()()),i&2){let e=h(2);p(2),gt(e.message)}}function Km(i,t){if(i&1){let e=$();u(0,"div",51)(1,"p",54),y(2,"SMS Code Expired!"),d(),u(3,"button",56),I("click",function(){T(e);let r=h(2);return S(r.resendOTP())}),y(4," Resend SMS Code "),d()()}if(i&2){let e=h(2);p(3),f("disabled",!e.otpResendEnabled)}}function Gm(i,t){if(i&1){let e=$();u(0,"div",51)(1,"p",41),y(2,"Didn't get a code? Click to resend"),d(),u(3,"button",57),I("click",function(){T(e);let r=h(2);return S(r.resendOTP())}),y(4),d()()}if(i&2){let e=h(2);p(3),f("disabled",!e.otpResendEnabled),p(),de(" Resend in ",e.resendCountdown,"s ")}}function Qm(i,t){i&1&&(u(0,"p",52),y(1," Please enter the complete SMS code "),d())}function Ym(i,t){if(i&1){let e=$();u(0,"div",0)(1,"div",1)(2,"div",4)(3,"h2",31),y(4,"\u{1F4F1} SMS Verification"),d(),u(5,"p",32),y(6,"Please check your phone"),d(),u(7,"p",41),y(8),d()(),u(9,"form",7),I("ngSubmit",function(){T(e);let r=h();return S(r.verifyOTP())}),u(10,"div",42)(11,"label",43),y(12,"SMS Code"),d(),u(13,"div",44)(14,"input",45),I("input",function(r){T(e);let o=h();return S(o.onOTPInputChange(r,"digit2"))}),d(),u(15,"input",46),I("input",function(r){T(e);let o=h();return S(o.onOTPInputChange(r,"digit3"))}),d(),u(16,"input",47),I("input",function(r){T(e);let o=h();return S(o.onOTPInputChange(r,"digit4"))}),d(),u(17,"input",48),I("input",function(r){T(e);let o=h();return S(o.onOTPInputChange(r,"digit5"))}),d(),u(18,"input",49),I("input",function(r){T(e);let o=h();return S(o.onOTPInputChange(r,"digit6"))}),d(),u(19,"input",50),I("input",function(r){T(e);let o=h();return S(o.onOTPInputChange(r))}),d()(),v(20,jm,3,1,"div",51)(21,qm,3,1,"div",51)(22,Km,5,1,"div",51)(23,Gm,5,2,"div",51)(24,Qm,2,0,"p",52),d(),u(25,"div",38)(26,"button",39),I("click",function(){T(e);let r=h();return S(r.closeOTPModal())}),y(27," Cancel "),d(),u(28,"button",53),y(29," Verify Code "),d()()()()()}if(i&2){let e=h();p(8),de("We've sent a code to ",e.phoneNumber,""),p(),f("formGroup",e.otpForm),p(11),J(e.message&&(e.otpError||e.loginError)?20:-1),p(),J(e.message&&!e.otpError&&!e.loginError?21:-1),p(),J(e.otpExpired?22:-1),p(),J(!e.otpResendEnabled&&!e.otpExpired?23:-1),p(),J(e.otpForm.invalid&&e.otpForm.touched?24:-1),p(4),f("disabled",e.otpForm.invalid)}}var Nn=class i{constructor(t,e,n,r){this.fb=t;this.auth=e;this.cookieService=n;this.router=r;this.loginForm=this.fb.group({login:["",ue.required],password:["",[ue.minLength(6)]]}),this.otpForm=this.fb.group({digit1:["",[ue.required,ue.pattern(/^[0-9]$/)]],digit2:["",[ue.required,ue.pattern(/^[0-9]$/)]],digit3:["",[ue.required,ue.pattern(/^[0-9]$/)]],digit4:["",[ue.required,ue.pattern(/^[0-9]$/)]],digit5:["",[ue.required,ue.pattern(/^[0-9]$/)]],digit6:["",[ue.required,ue.pattern(/^[0-9]$/)]]})}authInstance=ye(Mn);close=new B;loginForm;otpForm;showOTPModal=!1;loginError=!1;phoneNumber="";tokenExist="";otpExpired=!1;otpResendEnabled=!1;countdownInterval;resendCountdown=30;userLogin="";otpError=!1;recaptchaVerifier=null;confirmationResult=null;message="";recaptchaWidgetId=null;isPhoneLoginFlow=!1;recaptchaLoaded=!1;pendingUserId=null;currentUser=null;showRecaptcha=!1;ngOnInit(){this.onLoginInputChange(),this.loadRecaptcha()}loadRecaptcha(){if(document.querySelector('script[src*="recaptcha"]')){this.recaptchaLoaded=!0;return}let t=document.createElement("script");t.src="https://www.google.com/recaptcha/api.js?render=explicit",t.async=!0,t.defer=!0,t.onload=()=>{this.recaptchaLoaded=!0,console.log("reCAPTCHA script loaded")},t.onerror=()=>{console.error("Failed to load reCAPTCHA script"),this.message="Failed to load verification system"},document.head.appendChild(t)}initRecaptcha(){return g(this,null,function*(){try{let t=document.getElementById("recaptcha-container");if(!t)throw new Error("Recaptcha container not found");if(t.innerHTML="",this.recaptchaVerifier){try{this.recaptchaVerifier.clear()}catch{console.log("Previous verifier already cleared")}this.recaptchaVerifier=null}console.log("Initializing reCAPTCHA for phone:",this.phoneNumber),this.recaptchaVerifier=new Vi(this.authInstance,"recaptcha-container",{size:"normal",callback:e=>{console.log("reCAPTCHA verified, response:",e.substring(0,50)+"..."),this.sendFirebaseOTP()},"expired-callback":()=>{console.log("reCAPTCHA expired"),this.message="reCAPTCHA expired. Please try again.",this.loginError=!0},"error-callback":e=>{console.error("reCAPTCHA error:",e),this.message="reCAPTCHA error. Please try again.",this.loginError=!0}}),console.log("Rendering reCAPTCHA..."),yield this.recaptchaVerifier.render(),console.log("reCAPTCHA rendered successfully")}catch(t){throw console.error("Error initializing reCAPTCHA:",t),this.message="Failed to initialize verification. Please refresh the page.",this.loginError=!0,t}})}formatPhoneNumber(t){let e=t.replace(/\D/g,"");return t.startsWith("+")?t:e.startsWith("00")?"+"+e.substring(2):e.startsWith("0")&&e.length===10?"+212"+e.substring(1):e.length===9&&(e.startsWith("6")||e.startsWith("7"))?"+212"+e:t.startsWith("+")?t:"+"+e}onSubmit(){return g(this,null,function*(){if(this.loginForm.invalid){this.loginForm.markAllAsTouched();return}let t=this.loginForm.get("login")?.value?.trim()||"",e=this.loginForm.get("password")?.value?.trim()||"";this.isEmail(t)?this.auth.loginWithEmailPassword(t,e).subscribe({next:n=>{this.message="Connexion r\xE9ussie (email)",this.closeModal()},error:n=>{this.message=n.error?.message||"Erreur email",this.loginError=!0}}):this.isPhone(t)?yield this.handlePhonePasswordLogin(t,e):(this.message="Email ou num\xE9ro invalide",this.loginError=!0)})}handlePhonePasswordLogin(t,e){return g(this,null,function*(){try{let n=this.formatPhoneNumber(t);this.phoneNumber=n;let r=yield this.auth.loginWithPhonePassword(n,e).toPromise();r.requiresFirebaseOTP?(this.currentUser=r,this.pendingUserId=r.user_id,this.showRecaptcha=!0,this.message="Please complete the reCAPTCHA verification to receive SMS code",setTimeout(()=>{this.initRecaptcha()},100)):this.handleSuccessfulLogin(r.token,r.user)}catch(n){this.message=n.error?.message||"Login failed",this.loginError=!0}})}sendFirebaseOTP(){return g(this,null,function*(){try{if(!this.recaptchaVerifier)throw new Error("reCAPTCHA not initialized");if(!this.phoneNumber)throw new Error("Phone number not set");console.log("Sending Firebase OTP to:",this.phoneNumber),this.message="Sending SMS code...",this.loginError=!1,this.confirmationResult=yield Vl(this.authInstance,this.phoneNumber,this.recaptchaVerifier),console.log("SMS sent successfully, confirmationResult:",this.confirmationResult),this.showRecaptcha=!1,this.showOTPModal=!0,this.startOTPCountdown(),this.message="SMS code sent successfully to "+this.phoneNumber}catch(t){if(console.error("Firebase SMS Error:",t),console.error("Error code:",t.code),console.error("Error message:",t.message),this.message=this.getFirebaseErrorMessage(t),this.loginError=!0,this.recaptchaVerifier){try{this.recaptchaVerifier.clear()}catch(e){console.log("Error clearing verifier:",e)}this.recaptchaVerifier=null}this.showRecaptcha=!1}})}verifyOTP(){return g(this,null,function*(){if(this.otpForm.invalid){this.otpForm.markAllAsTouched();return}let t=Object.values(this.otpForm.value).join("");this.message="Verifying OTP...";try{let e=yield this.auth.verifyOtp(this.pendingUserId,t).toPromise(),r=yield(yield this.confirmationResult.confirm(t)).user.getIdToken(),o=yield this.auth.completeFirebaseAuth(this.pendingUserId,r).toPromise();this.handleSuccessfulLogin(o.token,o.user),this.showOTPModal=!1,this.closeModal()}catch(e){console.error("OTP Verification Error:",e),e.code&&e.code.includes("auth/")?this.message=this.getFirebaseErrorMessage(e):this.message=e.error?.message||"OTP verification failed",this.otpError=!0}})}getFirebaseErrorMessage(t){switch(t.code){case"auth/invalid-phone-number":return"Invalid phone number format. Please use international format (+country code)";case"auth/too-many-requests":return"Too many attempts. Please try again later.";case"auth/captcha-check-failed":return"reCAPTCHA verification failed. Please try again.";case"auth/invalid-verification-code":return"Invalid OTP code. Please check and try again.";case"auth/code-expired":return"OTP code expired. Please request a new one.";case"auth/quota-exceeded":return"SMS quota exceeded. Please try again later.";default:return t.message||"An error occurred. Please try again."}}loginWithGoogle(){return g(this,null,function*(){let t=new Po;try{let r=yield(yield zl(this.authInstance,t)).user.getIdToken();this.auth.loginWithFirebaseToken(r).subscribe({next:o=>{o.token&&this.handleSuccessfulLogin(o.token,o.user)},error:o=>{console.error("Backend login error:",o),this.message="Google login failed"}})}catch(e){console.error("Google login error:",e),this.message="Google login error"}})}isEmail(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}isPhone(t){return/^[\+]?[0-9\s\-\(\)]{8,20}$/.test(t)}onLoginInputChange(){let t=this.loginForm.get("login")?.value,e=this.loginForm.get("password");this.isPhone(t)?(e?.clearValidators(),e?.setErrors(null)):e?.setValidators([ue.required,ue.minLength(6)]),e?.updateValueAndValidity()}handleSuccessfulLogin(t,e){this.cookieService.set("token",t,{secure:!1,sameSite:"Strict",path:"/",expires:7}),this.auth.saveToken(t),this.auth.setLoggedIn(!0),this.auth.fetchUserProfile&&this.auth.fetchUserProfile(),this.router.navigate(["/home"])}closeModal(){this.close.emit(),this.resetComponent()}closeOTPModal(){this.showOTPModal=!1,this.otpError=!1,this.clearOTPForm(),this.clearCountdown()}closeRecaptcha(){this.showRecaptcha=!1,this.recaptchaVerifier&&(this.recaptchaVerifier.clear(),this.recaptchaVerifier=null)}resetComponent(){this.showOTPModal=!1,this.showRecaptcha=!1,this.loginError=!1,this.otpError=!1,this.message="",this.currentUser=null,this.pendingUserId=null,this.phoneNumber="",this.clearOTPForm(),this.clearCountdown(),this.recaptchaVerifier&&(this.recaptchaVerifier.clear(),this.recaptchaVerifier=null)}clearOTPForm(){this.otpForm.reset()}clearCountdown(){this.countdownInterval&&clearInterval(this.countdownInterval)}startOTPCountdown(){this.otpResendEnabled=!1,this.resendCountdown=30,this.countdownInterval=setInterval(()=>{this.resendCountdown--,this.resendCountdown<=0&&(this.otpResendEnabled=!0,this.otpExpired=!0,this.clearCountdown())},1e3)}resendOTP(){return g(this,null,function*(){if(this.otpResendEnabled){this.otpExpired=!1,this.otpError=!1,this.clearOTPForm(),this.showOTPModal=!1,this.showRecaptcha=!0,this.message="Complete reCAPTCHA to resend SMS code";try{yield this.initRecaptcha()}catch(t){console.error("Error initializing reCAPTCHA for resend:",t),this.message="Error initializing verification. Please try again.",this.showRecaptcha=!1,this.showOTPModal=!0}}})}onOTPInputChange(t,e){let n=t.target,r=n.value;if(r&&!/^[0-9]$/.test(r)){n.value="";return}if(r&&e){let o=document.getElementById(e);o&&o.focus()}if(!r&&t.inputType==="deleteContentBackward"){let o=["digit1","digit2","digit3","digit4","digit5","digit6"],s=o.indexOf(n.id);if(s>0){let a=document.getElementById(o[s-1]);a&&a.focus()}}}ngOnDestroy(){this.clearCountdown(),this.recaptchaVerifier&&this.recaptchaVerifier.clear()}static \u0275fac=function(e){return new(e||i)(U(Ks),U(Ye),U(oi),U(Yt))};static \u0275cmp=W({type:i,selectors:[["app-login-modal"]],outputs:{close:"close"},decls:41,vars:9,consts:[[1,"fixed","inset-0","z-50","bg-gray","bg-opacity-50","backdrop-blur-sm","flex","items-center","justify-center"],[1,"bg-white","rounded-xl","shadow-lg","w-full","max-w-sm","p-6"],[1,"flex","flex-col","items-center","mb-6"],["src","/pictures/dabapplogo.svg","alt","Dab",1,"w-12","h-12","mb-2"],[1,"text-center","mb-6"],[1,"text-base","font-medium","text-gray-800"],[1,"text-sm","text-gray-500","mt-1"],[3,"ngSubmit","formGroup"],[1,"mb-4"],[1,"block","text-sm","font-medium","text-gray-700"],["type","text","placeholder","+212612345678 or email@example.com","formControlName","login","required","",1,"w-full","mt-1","px-3","py-2","text-black","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-red-400",3,"input"],["class","text-sm text-red-600 mt-1",4,"ngIf"],["type","password","placeholder","Enter password","formControlName","password",1,"w-full","mt-1","px-3","py-2","text-black","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-red-400",3,"required"],[1,"text-sm","text-red-600","mt-1"],[1,"mb-4","p-3","rounded-lg","text-sm",3,"bg-green-100","bg-red-100","text-green-800","text-red-800"],[1,"bg-red-100","border","border-red-400","px-4","py-3","rounded-lg","mt-4","text-sm"],[1,"space-y-2"],["type","submit",1,"w-full","bg-red-500","hover:bg-red-600","disabled:bg-gray-300","text-white","font-semibold","py-2","px-4","rounded-lg",3,"disabled"],["type","button","routerLink","/register",1,"w-full","bg-gray-800","hover:bg-gray-900","text-white","font-semibold","py-2","px-4","rounded-lg",3,"click"],["type","button",1,"w-full","bg-white","border","border-gray-300","text-gray-800","hover:bg-gray-100","py-2","px-4","rounded-lg","flex","items-center","justify-center","gap-2",3,"click"],["viewBox","0 0 533.5 544.3","xmlns","http://www.w3.org/2000/svg",1,"w-5","h-5"],["fill","#4285f4","d","M533.5 278.4c0-17.4-1.6-34.1-4.6-50.4H272v95.3h146.9c-6.3 34-25.1 62.8-53.4 82.1v68h86.4c50.6-46.7 81.6-115.5 81.6-194.9z"],["fill","#34a853","d","M272 544.3c72.6 0 133.6-24 178.2-65.2l-86.4-68c-24 16-54.8 25.5-91.8 25.5-70.6 0-130.4-47.7-151.8-111.7h-89v69.9c44.5 88.1 136.3 149.5 240.8 149.5z"],["fill","#fbbc04","d","M120.2 324.9c-10.1-29.7-10.1-61.6 0-91.3v-69.9h-89c-38.2 75.6-38.2 165.5 0 241.1l89-69.9z"],["fill","#ea4335","d","M272 107.7c39.5 0 75 13.6 102.9 40.3l77.3-77.3C405.5 24 344.6 0 272 0c-104.5 0-196.3 61.4-240.8 149.5l89 69.9c21.3-64 81.1-111.7 151.8-111.7z"],[1,"font-medium"],["type","button",1,"w-full","bg-gray-100","hover:bg-gray-200","text-gray-800","font-semibold","py-2","px-4","rounded-lg",3,"click"],[1,"mb-4","p-3","rounded-lg","text-sm"],[1,"block","mt-1"],["href","#",1,"text-red-500","font-semibold","block","mt-2"],[1,"bg-white","rounded-xl","shadow-lg","w-full","max-w-md","p-6"],[1,"text-lg","font-semibold","text-gray-800"],[1,"text-sm","text-gray-600","mt-2"],[1,"mt-4","p-3","bg-blue-50","rounded-lg"],[1,"flex","justify-center","mb-6"],["id","recaptcha-container"],[1,"mb-4","p-3","bg-blue-100","text-blue-800","rounded-lg","text-sm","text-center"],[1,"mb-4","p-3","bg-red-100","text-red-800","rounded-lg","text-sm","text-center"],[1,"flex","space-x-3"],["type","button",1,"flex-1","bg-gray-100","hover:bg-gray-200","text-gray-800","font-semibold","py-2","px-4","rounded-lg","border","border-gray-300",3,"click"],[1,"text-sm","text-gray-700"],[1,"text-sm","text-gray-600"],[1,"mb-6"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"flex","justify-between","gap-2"],["id","digit1","type","text","maxlength","1","formControlName","digit1",1,"w-12","h-14","text-center","border","border-blue-500","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-red-400","text-black",3,"input"],["id","digit2","type","text","maxlength","1","formControlName","digit2",1,"w-12","h-14","text-center","border","border-blue-500","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-red-400","text-black",3,"input"],["id","digit3","type","text","maxlength","1","formControlName","digit3",1,"w-12","h-14","text-center","border","border-blue-500","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-red-400","text-black",3,"input"],["id","digit4","type","text","maxlength","1","formControlName","digit4",1,"w-12","h-14","text-center","border","border-blue-500","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-red-400","text-black",3,"input"],["id","digit5","type","text","maxlength","1","formControlName","digit5",1,"w-12","h-14","text-center","border","border-blue-500","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-red-400","text-black",3,"input"],["id","digit6","type","text","maxlength","1","formControlName","digit6",1,"w-12","h-14","text-center","border","border-blue-500","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-red-400","text-black",3,"input"],[1,"mt-4","text-center"],[1,"text-sm","text-red-600","mt-2","text-center"],["type","submit",1,"flex-1","bg-red-500","hover:bg-red-600","disabled:bg-gray-300","text-white","font-semibold","py-2","px-4","rounded-lg",3,"disabled"],[1,"text-sm","text-red-600"],[1,"text-sm","text-green-600"],["type","button",1,"text-sm","text-blue-600","hover:text-blue-800","disabled:text-gray-400",3,"click","disabled"],["type","button",1,"text-sm","font-semibold","text-gray-400","focus:outline-none",3,"click","disabled"]],template:function(e,n){if(e&1&&(u(0,"div",0)(1,"div",1)(2,"div",2),M(3,"img",3),d(),u(4,"div",4)(5,"h2",5),y(6,"Please Sign in or create an account"),d(),u(7,"p",6),y(8," To be able to sell or view information, you will"),M(9,"br"),y(10," need to have a Dabapp account "),d()(),u(11,"form",7),I("ngSubmit",function(){return n.onSubmit()}),u(12,"div",8)(13,"label",9),y(14,"Phone Number or Email"),d(),u(15,"input",10),I("input",function(){return n.onLoginInputChange()}),d(),v(16,Fm,2,0,"p",11),d(),u(17,"div",8)(18,"label",9),y(19,"Password"),d(),M(20,"input",12),v(21,Vm,2,0,"p",13),d(),v(22,zm,2,9,"div",14)(23,Um,10,0,"div",15),u(24,"div",16)(25,"button",17),y(26," Sign in "),d(),u(27,"button",18),I("click",function(){return n.closeModal()}),y(28," Sign Up "),d(),u(29,"button",19),I("click",function(){return n.loginWithGoogle()}),pt(),u(30,"svg",20),M(31,"path",21)(32,"path",22)(33,"path",23)(34,"path",24),d(),vs(),u(35,"span",25),y(36,"Continue with Google"),d()(),u(37,"button",26),I("click",function(){return n.closeModal()}),y(38," Cancel "),d()()()(),v(39,Wm,15,3,"div",0)(40,Ym,30,8,"div",0),d()),e&2){let r,o,s,a;p(11),f("formGroup",n.loginForm),p(5),f("ngIf",((r=n.loginForm.get("login"))==null?null:r.invalid)&&((r=n.loginForm.get("login"))==null?null:r.touched)),p(4),f("required",!n.isPhone((o=n.loginForm.get("login"))==null?null:o.value)),p(),J((s=n.loginForm.get("password"))!=null&&s.invalid&&((s=n.loginForm.get("password"))!=null&&s.touched)?21:-1),p(),J(n.message?22:-1),p(),J(n.loginError&&!n.isPhone((a=n.loginForm.get("login"))==null?null:a.value)?23:-1),p(2),f("disabled",n.loginForm.invalid),p(14),J(n.showRecaptcha?39:-1),p(),J(n.showOTPModal?40:-1)}},dependencies:[ge,Te,Jt,zs,en,tn,Fs,js,qs,Gs,Us,$s,Zt],encapsulation:2})};var Jm=(i,t)=>({"fa-bars":i,"fa-times":t}),Xm=i=>({hidden:i});function eg(i,t){if(i&1){let e=$();u(0,"div",16)(1,"div",17)(2,"a",18),I("click",function(r){return T(e),h(2).navigateToProfile(),S(r.preventDefault())}),y(3," Profile "),d(),u(4,"a",18),I("click",function(r){return T(e),h(2).logout(),S(r.preventDefault())}),y(5," Logout "),d()()()}}function tg(i,t){if(i&1){let e=$();u(0,"ul",11)(1,"li")(2,"a",12),I("click",function(){T(e);let r=h();return r.selectMenu("home"),S(r.toggleMobileMenu())}),y(3,"Home"),d()(),u(4,"li")(5,"a",12),I("click",function(){T(e);let r=h();return r.selectMenu("marketplace"),S(r.toggleMobileMenu())}),y(6,"Marketplace"),d()(),u(7,"li")(8,"a",12),I("click",function(){T(e);let r=h();return r.selectMenu("usedParts"),S(r.toggleMobileMenu())}),y(9,"Used Parts"),d()(),u(10,"li")(11,"a",12),I("click",function(){T(e);let r=h();return r.selectMenu("services"),S(r.toggleMobileMenu())}),y(12,"Services"),d()(),u(13,"li")(14,"a",12),I("click",function(){T(e);let r=h();return r.selectMenu("guide"),S(r.toggleMobileMenu())}),y(15,"Guide"),d()(),u(16,"li")(17,"a",12),I("click",function(){T(e);let r=h();return r.selectMenu("contact-us"),S(r.toggleMobileMenu())}),y(18,"Contact Us"),d()(),u(19,"li")(20,"a",12),I("click",function(){T(e);let r=h();return r.selectMenu("about-us"),S(r.toggleMobileMenu())}),y(21,"About Us"),d()()(),u(22,"div",13)(23,"button",14),I("click",function(){T(e);let r=h();return S(r.toggleDropdown())}),y(24),M(25,"i",15),d(),v(26,eg,6,0,"div",16),d()}if(i&2){let e=h();p(24),de(" ",e.userName," "),p(2),J(e.showDropdown?26:-1)}}function ig(i,t){if(i&1){let e=$();u(0,"app-login-modal",26),I("close",function(){T(e);let r=h(2);return S(r.showLoginModal=!1)}),d()}}function ng(i,t){if(i&1){let e=$();u(0,"ul",11)(1,"li")(2,"a",19),I("click",function(){T(e);let r=h();return S(r.toggleMobileMenu())}),y(3,"Home"),d()(),u(4,"li")(5,"a",20),I("click",function(){T(e);let r=h();return S(r.toggleMobileMenu())}),y(6,"Motorcycles"),d()(),u(7,"li")(8,"a",21),I("click",function(){T(e);let r=h();return S(r.toggleMobileMenu())}),y(9,"Spare Parts"),d()(),u(10,"li")(11,"a",22),I("click",function(){T(e);let r=h();return S(r.toggleMobileMenu())}),y(12,"Plates"),d()()(),u(13,"div",23)(14,"button",24),I("click",function(){T(e);let r=h();return S(r.openLoginModal())}),y(15,"Sign In"),d(),v(16,ig,1,0,"app-login-modal",25),d()}if(i&2){let e=h();p(16),f("ngIf",e.showLoginModal)}}function rg(i,t){if(i&1){let e=$();u(0,"div",28)(1,"div",17)(2,"a",18),I("click",function(r){return T(e),h(2).navigateToProfile(),S(r.preventDefault())}),y(3," Profile "),d(),u(4,"a",18),I("click",function(r){return T(e),h(2).logout(),S(r.preventDefault())}),y(5," Logout "),d()()()}}function og(i,t){if(i&1){let e=$();u(0,"div",9)(1,"button",27),I("click",function(){T(e);let r=h();return S(r.toggleDropdown())}),y(2),M(3,"i",15),d(),v(4,rg,6,0,"div",28),d()}if(i&2){let e=h();p(2),de(" ",e.userName," "),p(2),J(e.showDropdown?4:-1)}}function sg(i,t){if(i&1){let e=$();u(0,"app-login-modal",26),I("close",function(){T(e);let r=h(2);return S(r.showLoginModal=!1)}),d()}}function ag(i,t){if(i&1){let e=$();u(0,"div",10)(1,"button",29),I("click",function(){T(e);let r=h();return S(r.openLoginModal())}),y(2,"Sign In"),d(),v(3,sg,1,0,"app-login-modal",25),d()}if(i&2){let e=h();p(3),f("ngIf",e.showLoginModal)}}var Vn=class i{constructor(t,e,n,r,o){this.router=t;this.auth=e;this.cookieService=n;this.translate=r;this.platformId=o;if(this.translate.setDefaultLang("en"),ve(this.platformId)){let s=localStorage.getItem("lang")||"en";this.translate.use(s)}}menuSelected=new B;subNavItems=tt([]);userName="";cities;showDropdown=!1;mobileMenuOpen=!1;selectedCity;currentUser;isLoggedIn=!1;showLoginModal=!1;ngOnInit(){this.auth.isLoggedIn$.subscribe(t=>{this.isLoggedIn=t,t?(this.auth.fetchUserProfileOnce(),this.auth.userProfile$.subscribe(e=>{e&&e.user&&(this.currentUser=e.user,this.userName=e.user.first_name)})):(this.currentUser=void 0,this.userName="")}),this.cities=[{name:"Riyadh",code:"RYD"},{name:"Jeddah",code:"JED"},{name:"Dammam",code:"DAM"}]}switchLang(t){this.translate.use(t),ve(this.platformId)&&localStorage.setItem("lang",t)}selectMenu(t){this.menuSelected.emit(t)}navigateToProfile(){this.showDropdown=!1,this.router.navigate(["/account"])}toggleDropdown(){this.showDropdown=!this.showDropdown}toggleMobileMenu(){this.mobileMenuOpen=!this.mobileMenuOpen}openLoginModal(){this.showLoginModal=!0}onModalClose(){this.showLoginModal=!1}logout(){this.auth.logout().subscribe({next:()=>{this.cookieService.delete("token","/"),localStorage.clear(),sessionStorage.clear(),this.isLoggedIn=!1,this.showLoginModal=!0}})}static \u0275fac=function(e){return new(e||i)(U(Yt),U(Ye),U(oi),U(cn),U(jt))};static \u0275cmp=W({type:i,selectors:[["app-navbar"]],outputs:{menuSelected:"menuSelected"},decls:16,vars:9,consts:[[1,"bg-gray-900","text-white","p-4"],[1,"container","mx-auto","flex","flex-wrap","justify-between","items-center"],[1,"flex","items-center"],["routerLink","/home","src","/pictures/mainLogo.png","alt","Dab",1,"h-8","cursor-pointer"],[1,"flex","items-center","gap-2","ml-4"],[1,"text-sm","px-3","py-1","rounded","bg-gray-700","hover:bg-gray-600",3,"click"],[1,"md:hidden","text-white","focus:outline-none",3,"click"],[1,"fa-solid",3,"ngClass"],[1,"w-full","md:flex","md:w-auto","md:items-center","mt-4","md:mt-0",3,"ngClass"],[1,"hidden","md:block","relative","profile-dropdown"],[1,"hidden","md:block"],[1,"flex","flex-col","md:flex-row","md:space-x-4","space-y-2","md:space-y-0","mb-4","md:mb-0"],[1,"block","hover:text-gray-300","cursor-pointer",3,"click"],[1,"md:hidden","mb-4","profile-dropdown"],[1,"bg-white","px-4","py-2","rounded-lg","text-black","flex","items-center","gap-2","w-full","justify-center",3,"click"],[1,"fa-regular","fa-user"],[1,"mt-2","bg-white","rounded-md","shadow-lg","z-50"],[1,"py-1","cursor-pointer"],[1,"block","px-4","py-2","text-gray-800","hover:bg-gray-100",3,"click"],["routerLink","/home",1,"block","hover:text-gray-300",3,"click"],["routerLink","/motorcycles",1,"block","hover:text-gray-300",3,"click"],["routerLink","/spareparts",1,"block","hover:text-gray-300",3,"click"],["routerLink","/plates",1,"block","hover:text-gray-300",3,"click"],[1,"md:hidden","mb-4"],[3,"click"],[3,"close",4,"ngIf"],[3,"close"],[1,"bg-white","px-4","py-2","rounded-lg","text-black","flex","items-center","gap-2","cursor-pointer",2,"background-color","#fff",3,"click"],[1,"absolute","right-0","mt-2","w-48","bg-white","rounded-md","shadow-lg","z-50"],[1,"px-4","py-2","rounded-lg","text-white",2,"background-color","#F03D24",3,"click"]],template:function(e,n){e&1&&(u(0,"nav",0)(1,"div",1)(2,"div",2),M(3,"img",3),d(),u(4,"div",4)(5,"button",5),I("click",function(){return n.switchLang("en")}),y(6,"EN"),d(),u(7,"button",5),I("click",function(){return n.switchLang("ar")}),y(8,"AR"),d()(),u(9,"button",6),I("click",function(){return n.toggleMobileMenu()}),M(10,"i",7),d(),u(11,"div",8),v(12,tg,27,2)(13,ng,17,1),d(),v(14,og,5,2,"div",9)(15,ag,4,1,"div",10),d()()),e&2&&(p(10),f("ngClass",Qe(4,Jm,!n.mobileMenuOpen,n.mobileMenuOpen)),p(),f("ngClass",Y(7,Xm,!n.mobileMenuOpen)),p(),J(n.isLoggedIn?12:13),p(2),J(n.isLoggedIn?14:15))},dependencies:[ge,it,Te,Xi,Zt,Jt,dn,ri,Nn],styles:["nav[_ngcontent-%COMP%]{z-index:1000}@media (max-width: 768px){nav[_ngcontent-%COMP%]   div[class*=w-full][_ngcontent-%COMP%]{transition:max-height .3s ease-in-out;overflow:hidden}nav[_ngcontent-%COMP%]   div.hidden[_ngcontent-%COMP%]{max-height:0}nav[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:not(.hidden){max-height:100vh;padding-bottom:.5rem}}button[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #4299e180}.profile-dropdown[_ngcontent-%COMP%]{position:relative}.z-50[_ngcontent-%COMP%]{z-index:50}a[_ngcontent-%COMP%]:hover{transition:all .2s ease}"]})};var zn=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=W({type:i,selectors:[["app-footer"]],decls:55,vars:0,consts:[[1,"footer"],[1,"footer-content"],[1,"footer-section"],["href","/"],["href","/products"],["href","/profile"],["href","/affiliate"],["href","/about-us"],["href","/contact-us"],["href","/privacy"],["href","/terms"],["href","/return-policy"],[1,"footer-bottom"],[1,"footer-logo"],["routerLink","/home","routerLinkActive","router-link-active","src","/pictures/footerLogo.png","alt","DabApp Logo"],[1,"social-icons"],["href","#",1,"facebook"],["href","#",1,"twitter"],["href","#",1,"youtube"],["href","#",1,"instagram"]],template:function(e,n){e&1&&(u(0,"footer",0)(1,"div",1)(2,"div",2)(3,"h3"),y(4,"DabApp"),d(),u(5,"ul")(6,"li")(7,"a",3),y(8,"Home"),d()(),u(9,"li")(10,"a",4),y(11,"Products"),d()(),u(12,"li")(13,"a",5),y(14,"Profile"),d()(),u(15,"li")(16,"a",6),y(17,"Become an Affiliate"),d()()()(),u(18,"div",2)(19,"h3"),y(20,"Company Info"),d(),u(21,"ul")(22,"li")(23,"a",7),y(24,"About Us"),d()(),u(25,"li")(26,"a",8),y(27,"Contact Us"),d()()()(),u(28,"div",2)(29,"h3"),y(30,"Legal"),d(),u(31,"ul")(32,"li")(33,"a",9),y(34,"Privacy Policy"),d()(),u(35,"li")(36,"a",10),y(37,"Terms of Service"),d()(),u(38,"li")(39,"a",11),y(40,"Return Policy"),d()()()()(),u(41,"div",12)(42,"div",13),M(43,"img",14),u(44,"p"),y(45,"\xA9 2025 DabApp Technologies - All rights reserved"),d(),u(46,"div",15)(47,"a",16),y(48,"Facebook"),d(),u(49,"a",17),y(50,"Twitter"),d(),u(51,"a",18),y(52,"YouTube"),d(),u(53,"a",19),y(54,"Instagram"),d()()()()())},styles:[".footer[_ngcontent-%COMP%]{background-color:#00263a;color:#fff;padding:40px 20px;font-family:Arial,sans-serif}.footer-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;max-width:1200px;margin:0 auto}.footer-section[_ngcontent-%COMP%]{text-align:left}.footer-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:15px;font-size:16px}.footer-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0}.footer-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px}.footer-section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none}.footer-bottom[_ngcontent-%COMP%]{text-align:center;margin-top:15px;padding-top:20px}.footer-logo[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.footer-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;margin-bottom:15px}.social-icons[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px;margin-top:15px}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:20px}"]})};function lg(i,t){if(i&1&&(u(0,"option",15),y(1),d()),i&2){let e=t.$implicit;f("value",e.name),p(),de(" ",e.name,`
`)}}function cg(i,t){if(i&1&&(u(0,"li")(1,"a",19),y(2),d()()),i&2){let e=t.$implicit;p(),f("routerLink",e.path),q("data-id",e),p(),de(" ",e.name," ")}}function dg(i,t){if(i&1&&(u(0,"div",16)(1,"ul",17),v(2,cg,3,3,"li",18),d()()),i&2){let e=h();p(2),f("ngForOf",e.getSubMenuItems())}}var Un=class i{constructor(t,e,n){this.authService=t;this.listingService=e;this.locationService=n}selectedMenu="";value="";selectedCountry="";countries=[];allCities=[];userSub;getSubMenuItems(){return{home:[{name:"Helmets",path:"/helmets"},{name:"Riding Gear",path:"/riding-gear"},{name:"Accessories",path:"/accessories"},{name:"Tires",path:"/tires"},{name:"Aftermarket",path:"/aftermarket"},{name:"Section 1",path:"/section-1"},{name:"Section 2",path:"/section-2"},{name:"Section 3",path:"/section-3"}],marketplace:[{name:"Marketplace 1",path:"/marketplace-1"},{name:"Marketplace 2",path:"/marketplace-2"},{name:"Marketplace 3",path:"/marketplace-3"},{name:"Marketplace 4",path:"/marketplace-4"}],usedParts:[{name:"Motorcycles",path:"/motorcycles"},{name:"Spare Parts",path:"/spare-parts"},{name:"Plates",path:"/plates"}],services:[{name:"Services 1",path:"/services-1"},{name:"Services 2",path:"/services-2"},{name:"Services 3",path:"/services-3"},{name:"Services 4",path:"/services-4"}],guide:[{name:"Guide 1",path:"/guide-1"},{name:"Guide 2",path:"/guide-2"},{name:"Guide 3",path:"/guide-3"},{name:"Guide 4",path:"/guide-4"}],"about-us":[{name:"About Us 1",path:"/about-us-1"},{name:"About Us 2",path:"/about-us-2"},{name:"About Us 3",path:"/about-us-3"},{name:"About Us 4",path:"/about-us-4"}],"contact-us":[{name:"Contact Us 1",path:"/contact-us-1"},{name:"Contact Us 2",path:"/contact-us-2"},{name:"Contact Us 3",path:"/contact-us-3"},{name:"Contact Us 4",path:"/contact-us-4"}]}[this.selectedMenu]||[]}ngOnInit(){this.loadCountries(),this.userSub=this.authService.currentUser$.subscribe(t=>{if(t?.country){let e=this.countries.find(n=>n.name.toLowerCase()===t.country.toLowerCase());e&&(this.selectedCountry=e.name,console.log(" this.selectedCountry: ",this.selectedCountry),console.log("User country matched:",e.name,"-> code:",e.code))}})}loadCountries(){this.listingService.getCityList().subscribe(t=>{this.countries=t.countries,console.log("this.countries: ",this.countries),this.allCities=t.cities})}onCountryChange(t){let e=t.target.value,n=this.countries.find(r=>r.name===e);n&&this.locationService.setSelectedCountry(n)}ngOnChanges(t){t.selectedMenu}ngOnDestroy(){this.userSub?.unsubscribe()}static \u0275fac=function(e){return new(e||i)(U(Ye),U(ba),U(wa))};static \u0275cmp=W({type:i,selectors:[["app-sub-nav"]],inputs:{selectedMenu:"selectedMenu"},features:[Wt],decls:17,vars:4,consts:[[1,"bg-white","shadow-sm","border-b","border-gray-200"],[1,"container","mx-auto","px-4","py-2","flex","flex-col","md:flex-row","md:justify-between","md:items-center","gap-4"],[1,"flex","items-center","gap-1","w-8","text-sm"],[1,"pi","pi-map-marker","text-red-600","text-lg"],[1,"w-full","min-w-[200px]","p-2","rounded-md","hover:border-blue-500","focus:border-blue-500","focus:ring-blue-500","transition-colors","appearance-none","bg-white",3,"ngModelChange","change","ngModel"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[1,"pi","pi-chevron-down","text-gray-500","ml-[-1.5rem]","pointer-events-none"],[1,"relative","w-full","max-w-sm"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","text-gray-500"],["type","text","pInputText","","placeholder","Search...",1,"w-full","pl-10","pr-4","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","placeholder-gray-400","text-sm",3,"ngModelChange","ngModel"],[1,"pi","pi-search"],["class","order-3 md:order-2 mt-2 md:mt-0 w-full md:w-auto overflow-x-auto",4,"ngIf"],[1,"md:order-4","mt-2","md:mt-0","w-full","md:w-auto"],["routerLink","/add-product",1,"bg-red-500","hover:bg-red-600","text-white","px-4","py-2","rounded-lg","text-sm","w-full","md:w-auto",2,"cursor","pointer"],[3,"value"],[1,"order-3","md:order-2","mt-2","md:mt-0","w-full","md:w-auto","overflow-x-auto"],[1,"flex","space-x-3","text-sm","text-gray-600","min-w-max"],[4,"ngFor","ngForOf"],[1,"hover:text-red-500","transition","whitespace-nowrap","py-1","px-1",3,"routerLink"]],template:function(e,n){if(e&1&&(u(0,"div",0)(1,"div",1)(2,"div",2),M(3,"i",3),u(4,"select",4),Ei("ngModelChange",function(o){return wi(n.selectedCountry,o)||(n.selectedCountry=o),o}),I("change",function(o){return n.onCountryChange(o)}),u(5,"option",5),y(6,"Select a Country"),d(),v(7,lg,2,2,"option",6),d(),M(8,"i",7),d(),u(9,"div",8)(10,"span",9)(11,"input",10),Ei("ngModelChange",function(o){return wi(n.value,o)||(n.value=o),o}),d(),M(12,"i",11),d()(),v(13,dg,3,1,"div",12),u(14,"div",13)(15,"button",14),y(16," Sell an item "),d()()()()),e&2){let r;p(4),bi("ngModel",n.selectedCountry),p(3),f("ngForOf",n.countries),p(4),bi("ngModel",n.value),p(2),f("ngIf",(r=n.getSubMenuItems())==null?null:r.length)}},dependencies:[ge,Qt,Te,Xi,Zt,Jt,Bs,Ws,en,Hs,tn,Vs,dn,an,sn],styles:['.overflow-x-auto[_ngcontent-%COMP%]{-webkit-overflow-scrolling:touch;scrollbar-width:thin;scrollbar-color:rgba(156,163,175,.5) transparent}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar{height:4px}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#9ca3af80;border-radius:2px}.overflow-x-auto[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.5rem .75rem;display:inline-block}[_nghost-%COMP%]     .p-dropdown{width:100%}[_nghost-%COMP%]     .p-dropdown-panel .p-dropdown-items{padding:.5rem 0}[_nghost-%COMP%]     .p-dropdown-panel .p-dropdown-items .p-dropdown-item{padding:.5rem 1rem}@media (max-width: 768px){[_nghost-%COMP%]     .p-dropdown{width:100%;max-width:none}.container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:.5rem}}.text-red-500[_ngcontent-%COMP%], a.active[_ngcontent-%COMP%]{position:relative}.text-red-500[_ngcontent-%COMP%]:after, a.active[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-2px;left:0;width:100%;height:2px;background-color:#ef4444}select[_ngcontent-%COMP%]{background-image:none;padding-right:2rem}select[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #3b82f633}']})};var $n=class i{constructor(t,e,n){this.auth=t;this.translate=e;this.platformId=n;if(this.translate.setDefaultLang("en"),ve(this.platformId)){let r=this.auth.getToken();this.auth.setLoggedIn(!!r)}}selectedMenu="";handleMenuSelection(t){this.selectedMenu=t}ngOnInit(){}static \u0275fac=function(e){return new(e||i)(U(Ye),U(cn),U(jt))};static \u0275cmp=W({type:i,selectors:[["app-root"]],decls:8,vars:1,consts:[[1,"flex","flex-col","min-h-screen"],[3,"menuSelected"],[3,"selectedMenu"],[1,"flex-grow"]],template:function(e,n){e&1&&(u(0,"div",0)(1,"header")(2,"app-navbar",1),I("menuSelected",function(o){return n.handleMenuSelection(o)}),d(),M(3,"app-sub-nav",2),d(),u(4,"main",3),M(5,"router-outlet"),d(),u(6,"footer"),M(7,"app-footer"),d()()),e&2&&(p(3),f("selectedMenu",n.selectedMenu))},dependencies:[Ms,Vn,zn,Un,ri],styles:[".main-container[_ngcontent-%COMP%]{margin-top:60px;padding:0 20px}.location-sell[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:15px 0}.location[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;font-weight:500}.location[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#f44336}.sell-btn[_ngcontent-%COMP%]{background:#f44336;color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer;font-weight:500}.categories[_ngcontent-%COMP%]{display:flex;gap:20px;padding:15px 0;border-top:1px solid #eee;border-bottom:1px solid #eee;margin-bottom:20px}.category[_ngcontent-%COMP%]{text-decoration:none;color:#333;font-weight:500;padding:5px 0}.category.active[_ngcontent-%COMP%]{color:#f44336;border-bottom:2px solid #f44336}.content-container[_ngcontent-%COMP%]{display:flex;gap:50px;justify-content:space-around}@media (max-width: 992px){.content-container[_ngcontent-%COMP%]{flex-direction:column}}"]})};function Ul(i){return new F(3e3,!1)}function ug(){return new F(3100,!1)}function hg(){return new F(3101,!1)}function pg(i){return new F(3001,!1)}function fg(i){return new F(3003,!1)}function mg(i){return new F(3004,!1)}function Hl(i,t){return new F(3005,!1)}function Bl(){return new F(3006,!1)}function Wl(){return new F(3007,!1)}function jl(i,t){return new F(3008,!1)}function ql(i){return new F(3002,!1)}function Kl(i,t,e,n,r){return new F(3010,!1)}function Gl(){return new F(3011,!1)}function Ql(){return new F(3012,!1)}function Yl(){return new F(3200,!1)}function Zl(){return new F(3202,!1)}function Jl(){return new F(3013,!1)}function Xl(i){return new F(3014,!1)}function ec(i){return new F(3015,!1)}function tc(i){return new F(3016,!1)}function ic(i,t){return new F(3404,!1)}function gg(i){return new F(3502,!1)}function nc(i){return new F(3503,!1)}function rc(){return new F(3300,!1)}function oc(i){return new F(3504,!1)}function sc(i){return new F(3301,!1)}function ac(i,t){return new F(3302,!1)}function lc(i){return new F(3303,!1)}function cc(i,t){return new F(3400,!1)}function dc(i){return new F(3401,!1)}function uc(i){return new F(3402,!1)}function hc(i,t){return new F(3505,!1)}function dt(i){switch(i.length){case 0:return new Dt;case 1:return i[0];default:return new ln(i)}}function zo(i,t,e=new Map,n=new Map){let r=[],o=[],s=-1,a=null;if(t.forEach(l=>{let c=l.get("offset"),m=c==s,_=m&&a||new Map;l.forEach((E,w)=>{let b=w,O=E;if(w!=="offset")switch(b=i.normalizePropertyName(b,r),O){case Ci:O=e.get(w);break;case ze:O=n.get(w);break;default:O=i.normalizeStyleValue(w,b,O,r);break}_.set(b,O)}),m||o.push(_),a=_,s=c}),r.length)throw gg(r);return o}function Hn(i,t,e,n){switch(t){case"start":i.onStart(()=>n(e&&Lo(e,"start",i)));break;case"done":i.onDone(()=>n(e&&Lo(e,"done",i)));break;case"destroy":i.onDestroy(()=>n(e&&Lo(e,"destroy",i)));break}}function Lo(i,t,e){let n=e.totalTime,r=!!e.disabled,o=Bn(i.element,i.triggerName,i.fromState,i.toState,t||i.phaseName,n??i.totalTime,r),s=i._data;return s!=null&&(o._data=s),o}function Bn(i,t,e,n,r="",o=0,s){return{element:i,triggerName:t,fromState:e,toState:n,phaseName:r,totalTime:o,disabled:!!s}}function be(i,t,e){let n=i.get(t);return n||i.set(t,n=e),n}function Uo(i){let t=i.indexOf(":"),e=i.substring(1,t),n=i.slice(t+1);return[e,n]}var _g=typeof document>"u"?null:document.documentElement;function Wn(i){let t=i.parentNode||i.host||null;return t===_g?null:t}function yg(i){return i.substring(1,6)=="ebkit"}var Ut=null,$l=!1;function pc(i){Ut||(Ut=vg()||{},$l=Ut.style?"WebkitAppearance"in Ut.style:!1);let t=!0;return Ut.style&&!yg(i)&&(t=i in Ut.style,!t&&$l&&(t="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in Ut.style)),t}function vg(){return typeof document<"u"?document.body:null}function $o(i,t){for(;t;){if(t===i)return!0;t=Wn(t)}return!1}function Ho(i,t,e){if(e)return Array.from(i.querySelectorAll(t));let n=i.querySelector(t);return n?[n]:[]}var bg=1e3,Bo="{{",wg="}}",Wo="ng-enter",jn="ng-leave",$i="ng-trigger",Hi=".ng-trigger",jo="ng-animating",qn=".ng-animating";function et(i){if(typeof i=="number")return i;let t=i.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Fo(parseFloat(t[1]),t[2])}function Fo(i,t){switch(t){case"s":return i*bg;default:return i}}function Bi(i,t,e){return i.hasOwnProperty("duration")?i:Eg(i,t,e)}function Eg(i,t,e){let n=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,o=0,s="";if(typeof i=="string"){let a=i.match(n);if(a===null)return t.push(Ul(i)),{duration:0,delay:0,easing:""};r=Fo(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(o=Fo(parseFloat(l),a[4]));let c=a[5];c&&(s=c)}else r=i;if(!e){let a=!1,l=t.length;r<0&&(t.push(ug()),a=!0),o<0&&(t.push(hg()),a=!0),a&&t.splice(l,0,Ul(i))}return{duration:r,delay:o,easing:s}}function fc(i){return i.length?i[0]instanceof Map?i:i.map(t=>new Map(Object.entries(t))):[]}function Be(i,t,e){t.forEach((n,r)=>{let o=Kn(r);e&&!e.has(r)&&e.set(r,i.style[o]),i.style[o]=n})}function It(i,t){t.forEach((e,n)=>{let r=Kn(n);i.style[r]=""})}function gi(i){return Array.isArray(i)?i.length==1?i[0]:_a(i):i}function mc(i,t,e){let n=t.params||{},r=qo(i);r.length&&r.forEach(o=>{n.hasOwnProperty(o)||e.push(pg(o))})}var Vo=new RegExp(`${Bo}\\s*(.+?)\\s*${wg}`,"g");function qo(i){let t=[];if(typeof i=="string"){let e;for(;e=Vo.exec(i);)t.push(e[1]);Vo.lastIndex=0}return t}function _i(i,t,e){let n=`${i}`,r=n.replace(Vo,(o,s)=>{let a=t[s];return a==null&&(e.push(fg(s)),a=""),a.toString()});return r==n?i:r}var Ig=/-+([a-z0-9])/g;function Kn(i){return i.replace(Ig,(...t)=>t[1].toUpperCase())}function gc(i,t){return i===0||t===0}function _c(i,t,e){if(e.size&&t.length){let n=t[0],r=[];if(e.forEach((o,s)=>{n.has(s)||r.push(s),n.set(s,o)}),r.length)for(let o=1;o<t.length;o++){let s=t[o];r.forEach(a=>s.set(a,Gn(i,a)))}}return t}function we(i,t,e){switch(t.type){case N.Trigger:return i.visitTrigger(t,e);case N.State:return i.visitState(t,e);case N.Transition:return i.visitTransition(t,e);case N.Sequence:return i.visitSequence(t,e);case N.Group:return i.visitGroup(t,e);case N.Animate:return i.visitAnimate(t,e);case N.Keyframes:return i.visitKeyframes(t,e);case N.Style:return i.visitStyle(t,e);case N.Reference:return i.visitReference(t,e);case N.AnimateChild:return i.visitAnimateChild(t,e);case N.AnimateRef:return i.visitAnimateRef(t,e);case N.Query:return i.visitQuery(t,e);case N.Stagger:return i.visitStagger(t,e);default:throw mg(t.type)}}function Gn(i,t){return window.getComputedStyle(i)[t]}var cs=(()=>{class i{validateStyleProperty(e){return pc(e)}containsElement(e,n){return $o(e,n)}getParentElement(e){return Wn(e)}query(e,n,r){return Ho(e,n,r)}computeStyle(e,n,r){return r||""}animate(e,n,r,o,s,a=[],l){return new Dt(r,o)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})(),Ht=class{static NOOP=new cs},Bt=class{};var Tg=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Xn=class extends Bt{normalizePropertyName(t,e){return Kn(t)}normalizeStyleValue(t,e,n,r){let o="",s=n.toString().trim();if(Tg.has(e)&&n!==0&&n!=="0")if(typeof n=="number")o="px";else{let a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(Hl(t,n))}return s+o}};var er="*";function Sg(i,t){let e=[];return typeof i=="string"?i.split(/\s*,\s*/).forEach(n=>Cg(n,e,t)):e.push(i),e}function Cg(i,t,e){if(i[0]==":"){let l=xg(i,e);if(typeof l=="function"){t.push(l);return}i=l}let n=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(n==null||n.length<4)return e.push(ec(i)),t;let r=n[1],o=n[2],s=n[3];t.push(yc(r,s));let a=r==er&&s==er;o[0]=="<"&&!a&&t.push(yc(s,r))}function xg(i,t){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,n)=>parseFloat(n)>parseFloat(e);case":decrement":return(e,n)=>parseFloat(n)<parseFloat(e);default:return t.push(tc(i)),"* => *"}}var Qn=new Set(["true","1"]),Yn=new Set(["false","0"]);function yc(i,t){let e=Qn.has(i)||Yn.has(i),n=Qn.has(t)||Yn.has(t);return(r,o)=>{let s=i==er||i==r,a=t==er||t==o;return!s&&e&&typeof r=="boolean"&&(s=r?Qn.has(i):Yn.has(i)),!a&&n&&typeof o=="boolean"&&(a=o?Qn.has(t):Yn.has(t)),s&&a}}var Oc=":self",Og=new RegExp(`s*${Oc}s*,?`,"g");function Ac(i,t,e,n){return new Jo(i).build(t,e,n)}var vc="",Jo=class{_driver;constructor(t){this._driver=t}build(t,e,n){let r=new Xo(e);return this._resetContextStyleTimingState(r),we(this,gi(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector=vc,t.collectedStyles=new Map,t.collectedStyles.set(vc,new Map),t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0,o=[],s=[];return t.name.charAt(0)=="@"&&e.errors.push(Bl()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),a.type==N.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(m=>{l.name=m,o.push(this.visitState(l,e))}),l.name=c}else if(a.type==N.Transition){let l=this.visitTransition(a,e);n+=l.queryCount,r+=l.depCount,s.push(l)}else e.errors.push(Wl())}),{type:N.Trigger,name:t.name,states:o,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){let n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){let o=new Set,s=r||{};n.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{qo(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&e.errors.push(jl(t.name,[...o.values()]))}return{type:N.State,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let n=we(this,gi(t.animation),e),r=Sg(t.expr,e.errors);return{type:N.Transition,matchers:r,animation:n,queryCount:e.queryCount,depCount:e.depCount,options:$t(t.options)}}visitSequence(t,e){return{type:N.Sequence,steps:t.steps.map(n=>we(this,n,e)),options:$t(t.options)}}visitGroup(t,e){let n=e.currentTime,r=0,o=t.steps.map(s=>{e.currentTime=n;let a=we(this,s,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:N.Group,steps:o,options:$t(t.options)}}visitAnimate(t,e){let n=Dg(t.timings,e.errors);e.currentAnimateTimings=n;let r,o=t.styles?t.styles:ni({});if(o.type==N.Keyframes)r=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;let c={};n.easing&&(c.easing=n.easing),s=ni(c)}e.currentTime+=n.duration+n.delay;let l=this.visitStyle(s,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:N.Animate,timings:n,style:r,options:null}}visitStyle(t,e){let n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){let n=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)typeof a=="string"?a===ze?n.push(a):e.errors.push(ql(a)):n.push(new Map(Object.entries(a)));let o=!1,s=null;return n.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let l of a.values())if(l.toString().indexOf(Bo)>=0){o=!0;break}}}),{type:N.Style,styles:n,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){let n=e.currentAnimateTimings,r=e.currentTime,o=e.currentTime;n&&o>0&&(o-=n.duration+n.delay),t.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,l)=>{let c=e.collectedStyles.get(e.currentQuerySelector),m=c.get(l),_=!0;m&&(o!=r&&o>=m.startTime&&r<=m.endTime&&(e.errors.push(Kl(l,m.startTime,m.endTime,o,r)),_=!1),o=m.startTime),_&&c.set(l,{startTime:o,endTime:r}),e.options&&mc(a,e.options,e.errors)})})}visitKeyframes(t,e){let n={type:N.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(Gl()),n;let r=1,o=0,s=[],a=!1,l=!1,c=0,m=t.steps.map(P=>{let R=this._makeStyleAst(P,e),V=R.offset!=null?R.offset:Pg(R.styles),z=0;return V!=null&&(o++,z=R.offset=V),l=l||z<0||z>1,a=a||z<c,c=z,s.push(z),R});l&&e.errors.push(Ql()),a&&e.errors.push(Yl());let _=t.steps.length,E=0;o>0&&o<_?e.errors.push(Zl()):o==0&&(E=r/(_-1));let w=_-1,b=e.currentTime,O=e.currentAnimateTimings,x=O.duration;return m.forEach((P,R)=>{let V=E>0?R==w?1:E*R:s[R],z=V*x;e.currentTime=b+O.delay+z,O.duration=z,this._validateStyleAst(P,e),P.offset=V,n.styles.push(P)}),n}visitReference(t,e){return{type:N.Reference,animation:we(this,gi(t.animation),e),options:$t(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:N.AnimateChild,options:$t(t.options)}}visitAnimateRef(t,e){return{type:N.AnimateRef,animation:this.visitReference(t.animation,e),options:$t(t.options)}}visitQuery(t,e){let n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;let[o,s]=Ag(t.selector);e.currentQuerySelector=n.length?n+" "+o:o,be(e.collectedStyles,e.currentQuerySelector,new Map);let a=we(this,gi(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:N.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:$t(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(Jl());let n=t.timings==="full"?{duration:0,delay:0,easing:"full"}:Bi(t.timings,e.errors,!0);return{type:N.Stagger,animation:we(this,gi(t.animation),e),timings:n,options:null}}};function Ag(i){let t=!!i.split(/\s*,\s*/).find(e=>e==Oc);return t&&(i=i.replace(Og,"")),i=i.replace(/@\*/g,Hi).replace(/@\w+/g,e=>Hi+"-"+e.slice(1)).replace(/:animating/g,qn),[i,t]}function kg(i){return i?Z({},i):null}var Xo=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(t){this.errors=t}};function Pg(i){if(typeof i=="string")return null;let t=null;if(Array.isArray(i))i.forEach(e=>{if(e instanceof Map&&e.has("offset")){let n=e;t=parseFloat(n.get("offset")),n.delete("offset")}});else if(i instanceof Map&&i.has("offset")){let e=i;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function Dg(i,t){if(i.hasOwnProperty("duration"))return i;if(typeof i=="number"){let o=Bi(i,t).duration;return Ko(o,0,"")}let e=i;if(e.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=Ko(0,0,"");return o.dynamic=!0,o.strValue=e,o}let r=Bi(e,t);return Ko(r.duration,r.delay,r.easing)}function $t(i){return i?(i=Z({},i),i.params&&(i.params=kg(i.params))):i={},i}function Ko(i,t,e){return{duration:i,delay:t,easing:e}}function ds(i,t,e,n,r,o,s=null,a=!1){return{type:1,element:i,keyframes:t,preStyleProps:e,postStyleProps:n,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}var ji=class{_map=new Map;get(t){return this._map.get(t)||[]}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},Rg=1,Mg=":enter",Ng=new RegExp(Mg,"g"),Lg=":leave",Fg=new RegExp(Lg,"g");function kc(i,t,e,n,r,o=new Map,s=new Map,a,l,c=[]){return new es().buildKeyframes(i,t,e,n,r,o,s,a,l,c)}var es=class{buildKeyframes(t,e,n,r,o,s,a,l,c,m=[]){c=c||new ji;let _=new ts(t,e,c,r,o,m,[]);_.options=l;let E=l.delay?et(l.delay):0;_.currentTimeline.delayNextStep(E),_.currentTimeline.setStyles([s],null,_.errors,l),we(this,n,_);let w=_.timelines.filter(b=>b.containsAnimation());if(w.length&&a.size){let b;for(let O=w.length-1;O>=0;O--){let x=w[O];if(x.element===e){b=x;break}}b&&!b.allowOnlyTimelineStyles()&&b.setStyles([a],null,_.errors,l)}return w.length?w.map(b=>b.buildKeyframes()):[ds(e,[],[],[],0,E,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let n=e.subInstructions.get(e.element);if(n){let r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){let n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,n),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,n){for(let r of t){let o=r?.delay;if(o){let s=typeof o=="number"?o:et(_i(o,r?.params??{},e.errors));n.delayNextStep(s)}}}_visitSubInstructions(t,e,n){let o=e.currentTimeline.currentTime,s=n.duration!=null?et(n.duration):null,a=n.delay!=null?et(n.delay):null;return s!==0&&t.forEach(l=>{let c=e.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),we(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let n=e.subContextCount,r=e,o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==N.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=tr);let s=et(o.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>we(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let n=[],r=e.currentTimeline.currentTime,o=t.options&&t.options.delay?et(t.options.delay):0;t.steps.forEach(s=>{let a=e.createSubContext(t.options);o&&a.delayNextStep(o),we(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),n.push(a.currentTimeline)}),n.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let n=t.strValue,r=e.params?_i(n,e.params,e.errors):n;return Bi(r,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());let o=t.style;o.type==N.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(n.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.hasCurrentStyleProperties()&&n.forwardFrame();let o=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(o):n.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let n=e.currentAnimateTimings,r=e.currentTimeline.duration,o=n.duration,a=e.createSubContext().currentTimeline;a.easing=n.easing,t.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*o),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){let n=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?et(r.delay):0;o&&(e.previousNode.type===N.Style||n==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=tr);let s=n,a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,m)=>{e.currentQueryIndex=m;let _=e.createSubContext(t.options,c);o&&_.delayNextStep(o),c===e.element&&(l=_.currentTimeline),we(this,t.animation,_),_.currentTimeline.applyStylesToKeyframe();let E=_.currentTimeline.currentTime;s=Math.max(s,E)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let n=e.parentContext,r=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1),l=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=n.currentStaggerTime;break}let m=e.currentTimeline;l&&m.delayNextStep(l);let _=m.currentTime;we(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-_+(r.startTime-n.currentTimeline.startTime)}},tr={},ts=class i{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=tr;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(t,e,n,r,o,s,a,l){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=l||new ir(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let n=t,r=this.options;n.duration!=null&&(r.duration=et(n.duration)),n.delay!=null&&(r.delay=et(n.delay));let o=n.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=_i(o[a],s,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let n=t.params={};Object.keys(e).forEach(r=>{n[r]=e[r]})}}return t}createSubContext(t=null,e,n){let r=e||this.element,o=new i(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=tr,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){let r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(n??0)+t.delay,easing:""},o=new is(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,o,s){let a=[];if(r&&a.push(this.element),t.length>0){t=t.replace(Ng,"."+this._enterClassName),t=t.replace(Fg,"."+this._leaveClassName);let l=n!=1,c=this._driver.query(this.element,t,l);n!==0&&(c=n<0?c.slice(c.length+n,c.length):c.slice(0,n)),a.push(...c)}return!o&&a.length==0&&s.push(Xl(e)),a}},ir=class i{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new i(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Rg,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,n]of this._globalTimelineStyles)this._backFill.set(e,n||ze),this._currentKeyframe.set(e,ze);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&this._previousKeyframe.set("easing",e);let o=r&&r.params||{},s=Vg(t,this._globalTimelineStyles);for(let[a,l]of s){let c=_i(l,o,n);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ze),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,n)=>{let r=this._styleSummary.get(n);(!r||e.time>r.time)&&this._updateStyle(n,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,n=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((m,_)=>{m===Ci?t.add(_):m===ze&&e.add(_)}),n||c.set("offset",l/this.duration),r.push(c)});let o=[...t.values()],s=[...e.values()];if(n){let a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return ds(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}},is=class extends ir{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(t,e,n,r,o,s,a=!1){super(t,e,s.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){let o=[],s=n+e,a=e/s,l=new Map(t[0]);l.set("offset",0),o.push(l);let c=new Map(t[0]);c.set("offset",bc(a)),o.push(c);let m=t.length-1;for(let _=1;_<=m;_++){let E=new Map(t[_]),w=E.get("offset"),b=e+w*n;E.set("offset",bc(b/s)),o.push(E)}n=s,e=0,r="",t=o}return ds(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}};function bc(i,t=3){let e=Math.pow(10,t-1);return Math.round(i*e)/e}function Vg(i,t){let e=new Map,n;return i.forEach(r=>{if(r==="*"){n??=t.keys();for(let o of n)e.set(o,ze)}else for(let[o,s]of r)e.set(o,s)}),e}function wc(i,t,e,n,r,o,s,a,l,c,m,_,E){return{type:0,element:i,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:n,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:m,totalTime:_,errors:E}}var Go={},nr=class{_triggerName;ast;_stateStyles;constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return zg(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){let r=this._stateStyles.get("*");return t!==void 0&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,n):new Map}build(t,e,n,r,o,s,a,l,c,m){let _=[],E=this.ast.options&&this.ast.options.params||Go,w=a&&a.params||Go,b=this.buildStyles(n,w,_),O=l&&l.params||Go,x=this.buildStyles(r,O,_),P=new Set,R=new Map,V=new Map,z=r==="void",le={params:Pc(O,E),delay:this.ast.options?.delay},re=m?[]:kc(t,e,this.ast.animation,o,s,b,x,le,c,_),se=0;return re.forEach(pe=>{se=Math.max(pe.duration+pe.delay,se)}),_.length?wc(e,this._triggerName,n,r,z,b,x,[],[],R,V,se,_):(re.forEach(pe=>{let De=pe.element,ut=be(R,De,new Set);pe.preStyleProps.forEach(Tt=>ut.add(Tt));let us=be(V,De,new Set);pe.postStyleProps.forEach(Tt=>us.add(Tt)),De!==e&&P.add(De)}),wc(e,this._triggerName,n,r,z,b,x,re,[...P.values()],R,V,se))}};function zg(i,t,e,n,r){return i.some(o=>o(t,e,n,r))}function Pc(i,t){let e=Z({},t);return Object.entries(i).forEach(([n,r])=>{r!=null&&(e[n]=r)}),e}var ns=class{styles;defaultParams;normalizer;constructor(t,e,n){this.styles=t,this.defaultParams=e,this.normalizer=n}buildStyles(t,e){let n=new Map,r=Pc(t,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=_i(s,r,e));let l=this.normalizer.normalizePropertyName(a,e);s=this.normalizer.normalizeStyleValue(a,l,s,e),n.set(a,s)})}),n}};function Ug(i,t,e){return new rs(i,t,e)}var rs=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(t,e,n){this.name=t,this.ast=e,this._normalizer=n,e.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new ns(r.style,o,n))}),Ec(this.states,"true","1"),Ec(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new nr(t,r,this.states))}),this.fallbackTransition=$g(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(s=>s.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}};function $g(i,t,e){let n=[(s,a)=>!0],r={type:N.Sequence,steps:[],options:null},o={type:N.Transition,animation:r,matchers:n,options:null,queryCount:0,depCount:0};return new nr(i,o,t)}function Ec(i,t,e){i.has(t)?i.has(e)||i.set(e,i.get(t)):i.has(e)&&i.set(t,i.get(e))}var Hg=new ji,os=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n}register(t,e){let n=[],r=[],o=Ac(this._driver,e,n,r);if(n.length)throw nc(n);this._animations.set(t,o)}_buildPlayer(t,e,n){let r=t.element,o=zo(this._normalizer,t.keyframes,e,n);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){let r=[],o=this._animations.get(t),s,a=new Map;if(o?(s=kc(this._driver,e,o,Wo,jn,new Map,new Map,n,Hg,r),s.forEach(m=>{let _=be(a,m.element,new Map);m.postStyleProps.forEach(E=>_.set(E,null))})):(r.push(rc()),s=[]),r.length)throw oc(r);a.forEach((m,_)=>{m.forEach((E,w)=>{m.set(w,this._driver.computeStyle(_,w,ze))})});let l=s.map(m=>{let _=a.get(m.element);return this._buildPlayer(m,new Map,_)}),c=dt(l);return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw sc(t);return e}listen(t,e,n,r){let o=Bn(e,"","","");return Hn(this._getPlayer(t),n,o,r),()=>{}}command(t,e,n,r){if(n=="register"){this.register(t,r[0]);return}if(n=="create"){let s=r[0]||{};this.create(t,e,s);return}let o=this._getPlayer(t);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t);break}}},Ic="ng-animate-queued",Bg=".ng-animate-queued",Qo="ng-animate-disabled",Wg=".ng-animate-disabled",jg="ng-star-inserted",qg=".ng-star-inserted",Kg=[],Dc={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Gg={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},We="__ng_removed",qi=class{namespaceId;value;options;get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let n=t&&t.hasOwnProperty("value"),r=n?t.value:t;if(this.value=Yg(r),n){let o=t,{value:s}=o,a=ms(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let n=this.options.params;Object.keys(e).forEach(r=>{n[r]==null&&(n[r]=e[r])})}}},Wi="void",Yo=new qi(Wi),ss=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this._hostClassName="ng-tns-"+t,Pe(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.has(e))throw ac(n,e);if(n==null||n.length==0)throw lc(e);if(!Zg(n))throw cc(n,e);let o=be(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};o.push(s);let a=be(this._engine.statesByElement,t,new Map);return a.has(e)||(Pe(t,$i),Pe(t,$i+"-"+e),a.set(e,Yo)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw dc(t);return e}trigger(t,e,n,r=!0){let o=this._getTrigger(e),s=new Ki(this.id,e,t),a=this._engine.statesByElement.get(t);a||(Pe(t,$i),Pe(t,$i+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e),c=new qi(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=Yo),!(c.value===Wi)&&l.value===c.value){if(!e_(l.params,c.params)){let O=[],x=o.matchStyles(l.value,l.params,O),P=o.matchStyles(c.value,c.params,O);O.length?this._engine.reportError(O):this._engine.afterFlush(()=>{It(t,x),Be(t,P)})}return}let E=be(this._engine.playersByElement,t,[]);E.forEach(O=>{O.namespaceId==this.id&&O.triggerName==e&&O.queued&&O.destroy()});let w=o.matchTransition(l.value,c.value,t,c.params),b=!1;if(!w){if(!r)return;w=o.fallbackTransition,b=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:w,fromState:l,toState:c,player:s,isFallbackTransition:b}),b||(Pe(t,Ic),s.onStart(()=>{yi(t,Ic)})),s.onDone(()=>{let O=this.players.indexOf(s);O>=0&&this.players.splice(O,1);let x=this._engine.playersByElement.get(t);if(x){let P=x.indexOf(s);P>=0&&x.splice(P,1)}}),this.players.push(s),E.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(n=>n.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let n=this._engine.driver.query(t,Hi,!0);n.forEach(r=>{if(r[We])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,n,r){let o=this._engine.statesByElement.get(t),s=new Map;if(o){let a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){let m=this.trigger(t,c,Wi,r);m&&a.push(m)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),n&&dt(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){let r=new Set;e.forEach(o=>{let s=o.name;if(r.has(s))return;r.add(s);let l=this._triggers.get(s).fallbackTransition,c=n.get(s)||Yo,m=new qi(Wi),_=new Ki(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:l,fromState:c,toState:m,player:_,isFallbackTransition:!0})})}}removeNode(t,e){let n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){let o=n.players.length?n.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let s=t;for(;s=s.parentNode;)if(n.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{let o=t[We];(!o||o===Dc)&&(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Pe(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(n=>{let r=n.player;if(r.destroyed)return;let o=n.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==n.triggerName){let l=Bn(o,n.triggerName,n.fromState.value,n.toState.value);l._data=t,Hn(n.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((n,r)=>{let o=n.transition.ast.depCount,s=r.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(n.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},as=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(t,e)=>{};_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(n=>{n.queued&&t.push(n)})}),t}createNamespace(t,e){let n=new ss(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){let n=this._namespaceList,r=this.namespacesByHostElement;if(n.length-1>=0){let s=!1,a=this.driver.getParentElement(e);for(;a;){let l=r.get(a);if(l){let c=n.indexOf(l);n.splice(c+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}s||n.unshift(t)}else n.push(t);return r.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let n=this._fetchNamespace(t);this.namespacesByHostElement.delete(n.hostElement);let r=this._namespaceList.indexOf(n);r>=0&&this._namespaceList.splice(r,1),n.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,n=this.statesByElement.get(t);if(n){for(let r of n.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}}return e}trigger(t,e,n,r){if(Zn(e)){let o=this._fetchNamespace(t);if(o)return o.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!Zn(e))return;let o=e[We];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){let s=this._fetchNamespace(t);s&&s.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Pe(t,Qo)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),yi(t,Qo))}removeNode(t,e,n){if(Zn(e)){let r=t?this._fetchNamespace(t):null;r?r.removeNode(e,n):this.markElementAsRemoved(t,e,!1,n);let o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,n)}else this._onRemovalComplete(e,n)}markElementAsRemoved(t,e,n,r,o){this.collectedLeaveElements.push(e),e[We]={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,n,r,o){return Zn(e)?this._fetchNamespace(t).listen(e,n,r,o):()=>{}}_buildInstruction(t,e,n,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,Hi,!0);e.forEach(n=>this.destroyActiveAnimationsForElement(n)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,qn,!0),e.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return dt(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[We];if(e&&e.setForRemoval){if(t[We]=Dc,e.namespaceId){this.destroyInnerAnimations(t);let n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(Qo)&&this.markElementAsDisabled(t,!1),this.driver.query(t,Wg,!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,r)=>this._balanceNamespaceList(n,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++){let r=this.collectedEnterElements[n];Pe(r,jg)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let n=[];try{e=this._flushAnimations(n,t)}finally{for(let r=0;r<n.length;r++)n[r]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++){let r=this.collectedLeaveElements[n];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){let n=this._whenQuietFns;this._whenQuietFns=[],e.length?dt(e).onDone(()=>{n.forEach(r=>r())}):n.forEach(r=>r())}}reportError(t){throw uc(t)}_flushAnimations(t,e){let n=new ji,r=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,m=new Set;this.disabledNodes.forEach(C=>{m.add(C);let k=this.driver.query(C,Bg,!0);for(let D=0;D<k.length;D++)m.add(k[D])});let _=this.bodyNode,E=Array.from(this.statesByElement.keys()),w=Cc(E,this.collectedEnterElements),b=new Map,O=0;w.forEach((C,k)=>{let D=Wo+O++;b.set(k,D),C.forEach(L=>Pe(L,D))});let x=[],P=new Set,R=new Set;for(let C=0;C<this.collectedLeaveElements.length;C++){let k=this.collectedLeaveElements[C],D=k[We];D&&D.setForRemoval&&(x.push(k),P.add(k),D.hasAnimation?this.driver.query(k,qg,!0).forEach(L=>P.add(L)):R.add(k))}let V=new Map,z=Cc(E,Array.from(P));z.forEach((C,k)=>{let D=jn+O++;V.set(k,D),C.forEach(L=>Pe(L,D))}),t.push(()=>{w.forEach((C,k)=>{let D=b.get(k);C.forEach(L=>yi(L,D))}),z.forEach((C,k)=>{let D=V.get(k);C.forEach(L=>yi(L,D))}),x.forEach(C=>{this.processLeaveNode(C)})});let le=[],re=[];for(let C=this._namespaceList.length-1;C>=0;C--)this._namespaceList[C].drainQueuedTransitions(e).forEach(D=>{let L=D.player,ae=D.element;if(le.push(L),this.collectedEnterElements.length){let fe=ae[We];if(fe&&fe.setForMove){if(fe.previousTriggersValues&&fe.previousTriggersValues.has(D.triggerName)){let St=fe.previousTriggersValues.get(D.triggerName),Ce=this.statesByElement.get(D.element);if(Ce&&Ce.has(D.triggerName)){let Gi=Ce.get(D.triggerName);Gi.value=St,Ce.set(D.triggerName,Gi)}}L.destroy();return}}let je=!_||!this.driver.containsElement(_,ae),Ee=V.get(ae),ht=b.get(ae),Q=this._buildInstruction(D,n,ht,Ee,je);if(Q.errors&&Q.errors.length){re.push(Q);return}if(je){L.onStart(()=>It(ae,Q.fromStyles)),L.onDestroy(()=>Be(ae,Q.toStyles)),r.push(L);return}if(D.isFallbackTransition){L.onStart(()=>It(ae,Q.fromStyles)),L.onDestroy(()=>Be(ae,Q.toStyles)),r.push(L);return}let fs=[];Q.timelines.forEach(fe=>{fe.stretchStartingKeyframe=!0,this.disabledNodes.has(fe.element)||fs.push(fe)}),Q.timelines=fs,n.append(ae,Q.timelines);let zc={instruction:Q,player:L,element:ae};s.push(zc),Q.queriedElements.forEach(fe=>be(a,fe,[]).push(L)),Q.preStyleProps.forEach((fe,St)=>{if(fe.size){let Ce=l.get(St);Ce||l.set(St,Ce=new Set),fe.forEach((Gi,dr)=>Ce.add(dr))}}),Q.postStyleProps.forEach((fe,St)=>{let Ce=c.get(St);Ce||c.set(St,Ce=new Set),fe.forEach((Gi,dr)=>Ce.add(dr))})});if(re.length){let C=[];re.forEach(k=>{C.push(hc(k.triggerName,k.errors))}),le.forEach(k=>k.destroy()),this.reportError(C)}let se=new Map,pe=new Map;s.forEach(C=>{let k=C.element;n.has(k)&&(pe.set(k,k),this._beforeAnimationBuild(C.player.namespaceId,C.instruction,se))}),r.forEach(C=>{let k=C.element;this._getPreviousPlayers(k,!1,C.namespaceId,C.triggerName,null).forEach(L=>{be(se,k,[]).push(L),L.destroy()})});let De=x.filter(C=>xc(C,l,c)),ut=new Map;Sc(ut,this.driver,R,c,ze).forEach(C=>{xc(C,l,c)&&De.push(C)});let Tt=new Map;w.forEach((C,k)=>{Sc(Tt,this.driver,new Set(C),l,Ci)}),De.forEach(C=>{let k=ut.get(C),D=Tt.get(C);ut.set(C,new Map([...k?.entries()??[],...D?.entries()??[]]))});let cr=[],hs=[],ps={};s.forEach(C=>{let{element:k,player:D,instruction:L}=C;if(n.has(k)){if(m.has(k)){D.onDestroy(()=>Be(k,L.toStyles)),D.disabled=!0,D.overrideTotalTime(L.totalTime),r.push(D);return}let ae=ps;if(pe.size>1){let Ee=k,ht=[];for(;Ee=Ee.parentNode;){let Q=pe.get(Ee);if(Q){ae=Q;break}ht.push(Ee)}ht.forEach(Q=>pe.set(Q,ae))}let je=this._buildAnimation(D.namespaceId,L,se,o,Tt,ut);if(D.setRealPlayer(je),ae===ps)cr.push(D);else{let Ee=this.playersByElement.get(ae);Ee&&Ee.length&&(D.parentPlayer=dt(Ee)),r.push(D)}}else It(k,L.fromStyles),D.onDestroy(()=>Be(k,L.toStyles)),hs.push(D),m.has(k)&&r.push(D)}),hs.forEach(C=>{let k=o.get(C.element);if(k&&k.length){let D=dt(k);C.setRealPlayer(D)}}),r.forEach(C=>{C.parentPlayer?C.syncPlayerEvents(C.parentPlayer):C.destroy()});for(let C=0;C<x.length;C++){let k=x[C],D=k[We];if(yi(k,jn),D&&D.hasAnimation)continue;let L=[];if(a.size){let je=a.get(k);je&&je.length&&L.push(...je);let Ee=this.driver.query(k,qn,!0);for(let ht=0;ht<Ee.length;ht++){let Q=a.get(Ee[ht]);Q&&Q.length&&L.push(...Q)}}let ae=L.filter(je=>!je.destroyed);ae.length?Jg(this,k,ae):this.processLeaveNode(k)}return x.length=0,cr.forEach(C=>{this.players.push(C),C.onDone(()=>{C.destroy();let k=this.players.indexOf(C);this.players.splice(k,1)}),C.play()}),cr}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,o){let s=[];if(e){let a=this.playersByQueriedElement.get(t);a&&(s=a)}else{let a=this.playersByElement.get(t);if(a){let l=!o||o==Wi;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||s.push(c)})}}return(n||r)&&(s=s.filter(a=>!(n&&n!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(t,e,n){let r=e.triggerName,o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:r;for(let l of e.timelines){let c=l.element,m=c!==o,_=be(n,c,[]);this._getPreviousPlayers(c,m,s,a,e.toState).forEach(w=>{let b=w.getRealPlayer();b.beforeDestroy&&b.beforeDestroy(),w.destroy(),_.push(w)})}It(o,e.fromStyles)}_buildAnimation(t,e,n,r,o,s){let a=e.triggerName,l=e.element,c=[],m=new Set,_=new Set,E=e.timelines.map(b=>{let O=b.element;m.add(O);let x=O[We];if(x&&x.removedBeforeQueried)return new Dt(b.duration,b.delay);let P=O!==l,R=Xg((n.get(O)||Kg).map(se=>se.getRealPlayer())).filter(se=>{let pe=se;return pe.element?pe.element===O:!1}),V=o.get(O),z=s.get(O),le=zo(this._normalizer,b.keyframes,V,z),re=this._buildPlayer(b,le,R);if(b.subTimeline&&r&&_.add(O),P){let se=new Ki(t,a,O);se.setRealPlayer(re),c.push(se)}return re});c.forEach(b=>{be(this.playersByQueriedElement,b.element,[]).push(b),b.onDone(()=>Qg(this.playersByQueriedElement,b.element,b))}),m.forEach(b=>Pe(b,jo));let w=dt(E);return w.onDestroy(()=>{m.forEach(b=>yi(b,jo)),Be(l,e.toStyles)}),_.forEach(b=>{be(r,b,[]).push(w)}),w}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Dt(t.duration,t.delay)}},Ki=class{namespaceId;triggerName;element;_player=new Dt;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,n)=>{e.forEach(r=>Hn(t,n,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){be(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function Qg(i,t,e){let n=i.get(t);if(n){if(n.length){let r=n.indexOf(e);n.splice(r,1)}n.length==0&&i.delete(t)}return n}function Yg(i){return i??null}function Zn(i){return i&&i.nodeType===1}function Zg(i){return i=="start"||i=="done"}function Tc(i,t){let e=i.style.display;return i.style.display=t??"none",e}function Sc(i,t,e,n,r){let o=[];e.forEach(l=>o.push(Tc(l)));let s=[];n.forEach((l,c)=>{let m=new Map;l.forEach(_=>{let E=t.computeStyle(c,_,r);m.set(_,E),(!E||E.length==0)&&(c[We]=Gg,s.push(c))}),i.set(c,m)});let a=0;return e.forEach(l=>Tc(l,o[a++])),s}function Cc(i,t){let e=new Map;if(i.forEach(a=>e.set(a,[])),t.length==0)return e;let n=1,r=new Set(t),o=new Map;function s(a){if(!a)return n;let l=o.get(a);if(l)return l;let c=a.parentNode;return e.has(c)?l=c:r.has(c)?l=n:l=s(c),o.set(a,l),l}return t.forEach(a=>{let l=s(a);l!==n&&e.get(l).push(a)}),e}function Pe(i,t){i.classList?.add(t)}function yi(i,t){i.classList?.remove(t)}function Jg(i,t,e){dt(e).onDone(()=>i.processLeaveNode(t))}function Xg(i){let t=[];return Rc(i,t),t}function Rc(i,t){for(let e=0;e<i.length;e++){let n=i[e];n instanceof ln?Rc(n.players,t):t.push(n)}}function e_(i,t){let e=Object.keys(i),n=Object.keys(t);if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let o=e[r];if(!t.hasOwnProperty(o)||i[o]!==t[o])return!1}return!0}function xc(i,t,e){let n=e.get(i);if(!n)return!1;let r=t.get(i);return r?n.forEach(o=>r.add(o)):t.set(i,n),e.delete(i),!0}var vi=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(t,e)=>{};constructor(t,e,n){this._driver=e,this._normalizer=n,this._transitionEngine=new as(t.body,e,n),this._timelineEngine=new os(t.body,e,n),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,n,r,o){let s=t+"-"+r,a=this._triggerCache[s];if(!a){let l=[],c=[],m=Ac(this._driver,o,l,c);if(l.length)throw ic(r,l);a=Ug(r,m,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n){this._transitionEngine.removeNode(t,e,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if(n.charAt(0)=="@"){let[o,s]=Uo(n),a=r;this._timelineEngine.command(o,e,s,a)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,o){if(n.charAt(0)=="@"){let[s,a]=Uo(n);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,n,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function t_(i,t){let e=null,n=null;return Array.isArray(t)&&t.length?(e=Zo(t[0]),t.length>1&&(n=Zo(t[t.length-1]))):t instanceof Map&&(e=Zo(t)),e||n?new i_(i,e,n):null}var i_=(()=>{class i{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r;let o=i.initialStylesByElement.get(e);o||i.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Be(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Be(this._element,this._initialStyles),this._endStyles&&(Be(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(It(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(It(this._element,this._endStyles),this._endStyles=null),Be(this._element,this._initialStyles),this._state=3)}}return i})();function Zo(i){let t=null;return i.forEach((e,n)=>{n_(n)&&(t=t||new Map,t.set(n,e))}),t}function n_(i){return i==="display"||i==="position"}var rr=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(n=>{e.push(Object.fromEntries(n))}),e}_triggerWebAnimation(t,e,n){return t.animate(this._convertKeyframesToObject(e),n)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,r)=>{r!=="offset"&&t.set(r,this._finished?n:Gn(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},or=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return $o(t,e)}getParentElement(t){return Wn(t)}query(t,e,n){return Ho(t,e,n)}computeStyle(t,e,n){return Gn(t,e)}animate(t,e,n,r,o,s=[]){let a=r==0?"both":"forwards",l={duration:n,delay:r,fill:a};o&&(l.easing=o);let c=new Map,m=s.filter(w=>w instanceof rr);gc(n,r)&&m.forEach(w=>{w.currentSnapshot.forEach((b,O)=>c.set(O,b))});let _=fc(e).map(w=>new Map(w));_=_c(t,_,c);let E=t_(t,_);return new rr(t,_,l,E)}};var Jn="@",Mc="@.disabled",sr=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(t,e,n,r){this.namespaceId=t,this.delegate=e,this.engine=n,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==Jn&&e==Mc?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n,r){return this.delegate.listen(t,e,n,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},ls=class extends sr{factory;constructor(t,e,n,r,o){super(e,n,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==Jn?e.charAt(1)=="."&&e==Mc?(n=n===void 0?!0:!!n,this.disableAnimations(t,n)):this.engine.process(this.namespaceId,t,e.slice(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n,r){if(e.charAt(0)==Jn){let o=r_(t),s=e.slice(1),a="";return s.charAt(0)!=Jn&&([s,a]=o_(s)),this.engine.listen(this.namespaceId,o,s,a,l=>{let c=l._data||-1;this.factory.scheduleListenerCallback(c,n,l)})}return this.delegate.listen(t,e,n,r)}};function r_(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}function o_(i){let t=i.indexOf("."),e=i.substring(0,t),n=i.slice(t+1);return[e,n]}var ar=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,e.onRemovalComplete=(r,o)=>{o?.removeChild(null,r)}}createRenderer(t,e){let n="",r=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let c=this._rendererCache,m=c.get(r);if(!m){let _=()=>c.delete(r);m=new sr(n,r,this.engine,_),c.set(r,m)}return m}let o=e.id,s=e.id+"-"+this._currentId;this._currentId++,this.engine.register(s,t);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(o,s,t,c.name,c)};return e.data.animation.forEach(a),new ls(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(n));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),r.push([e,n])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(t){this.engine.flush(),this.delegate.componentReplaced?.(t)}};var a_=(()=>{class i extends vi{constructor(e,n,r){super(e,n,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(n){return new(n||i)(xe(Os),xe(Ht),xe(Bt))};static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();function l_(){return new Xn}function c_(i,t,e){return new ar(i,t,e)}var Nc=[{provide:Bt,useFactory:l_},{provide:vi,useClass:a_},{provide:Es,useFactory:c_,deps:[As,vi,Ke]}],kE=[{provide:Ht,useClass:cs},{provide:pr,useValue:"NoopAnimations"},...Nc],d_=[{provide:Ht,useFactory:()=>new or},{provide:pr,useFactory:()=>"BrowserAnimations"},...Nc];function Lc(){return bs("NgEagerAnimations"),[...d_]}var Fc=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",loadComponent:()=>import("./chunk-PIGUYHRN.js").then(i=>i.HomePageComponent)},{path:"plates",loadComponent:()=>import("./chunk-Q3TESLUX.js").then(i=>i.ProductsComponent)},{path:"spare-parts",loadComponent:()=>import("./chunk-7YQ7MZRF.js").then(i=>i.SparePlatesDetailsComponent)},{path:"motorcycles",loadComponent:()=>import("./chunk-ETQ6EOZK.js").then(i=>i.MotorcyclesDetailsComponent)},{path:"accessories",loadComponent:()=>import("./chunk-T6SVU3WA.js").then(i=>i.AccessoriesComponent)},{path:"register",loadComponent:()=>import("./chunk-IHIDFWEZ.js").then(i=>i.RegisterComponent)},{path:"account",loadComponent:()=>import("./chunk-AGS6GV7I.js").then(i=>i.AccountComponent)},{path:"add-product",loadComponent:()=>import("./chunk-SLTJLC6U.js").then(i=>i.ProductFormComponent)},{path:"listing/:id",loadComponent:()=>import("./chunk-QPN3KUJF.js").then(i=>i.MainProductsPageComponent)}];var lr=class i{constructor(t,e,n){this.authService=t;this.router=e;this.platformId=n}intercept(t,e){let n=t;if(ve(this.platformId)){let r=this.authService.getToken();r&&(n=t.clone({setHeaders:{Authorization:`Bearer ${r}`}}))}return e.handle(n).pipe(hr(r=>{let o=t.url.includes("/refresh"),s=t.url.includes("/login")||t.url.includes("/register")||t.url.includes("/verify-otp");return r.status===401&&!o&&!s&&this.authService.getToken()?this.authService.refreshToken().pipe(gs(a=>{console.log("refresh token",a),this.authService.saveToken(a.token);let l=t.clone({setHeaders:{Authorization:`Bearer ${a.token}`}});return e.handle(l)}),hr(a=>(this.authService.logoutAndClearData(),this.authService.triggerLoginModal(),ur(()=>a)))):ur(()=>r)}))}static \u0275fac=function(e){return new(e||i)(xe(Ye),xe(Yt),xe(jt))};static \u0275prov=ne({token:i,factory:i.\u0275fac})};var Vc=(()=>{class i{http;prefix;suffix;constructor(e,n="/assets/i18n/",r=".json"){this.http=e,this.prefix=n,this.suffix=r}getTranslation(e){return this.http.get(`${this.prefix}${e}${this.suffix}`)}static \u0275fac=function(n){return new(n||i)(xe(Ji),xe(String),xe(String))};static \u0275prov=ne({token:i,factory:i.\u0275fac})}return i})();function u_(i){return new Vc(i,"./assets/i18n/",".json")}ks($n,{providers:[Ns(Fc),Lc(),Ds(Rs()),oi,{provide:Ps,useClass:lr,multi:!0},ys(ri.forRoot({loader:{provide:va,useFactory:u_,deps:[Ji]}}))]}).catch(i=>console.error(i));export{u_ as HttpLoaderFactory};
