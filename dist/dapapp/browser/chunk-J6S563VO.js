import{b as Ge,c as Ue,d as je}from"./chunk-W3EKUPWE.js";import{a as $e}from"./chunk-2GRPZQRP.js";import{b as Ye}from"./chunk-YONWQSBO.js";import{h as Ce,j as Se}from"./chunk-YIROKGJS.js";import{$c as Ae,Ab as pe,Bb as _e,Bc as Fe,Cb as ee,Db as s,Ea as K,Eb as C,Fb as w,Gb as z,Gc as we,Hc as _,Ia as a,Ib as ue,Ic as Ee,Jb as L,Jc as Ie,Kb as R,Kc as ne,Lb as q,Lc as M,Mc as Te,Na as A,Nb as j,Nc as Pe,Ob as te,Oc as Ve,Pb as I,Pc as ke,Rb as ie,Rc as Me,Sa as le,T as re,Tb as h,Tc as Oe,Ub as y,Uc as De,Va as ae,Vc as Ne,Wc as Be,Xa as p,a as V,ad as Le,b as O,bb as X,bd as Re,cb as c,cd as qe,d as H,db as de,ea as u,fa as g,ga as S,ha as T,mb as r,nb as o,nc as ge,ob as v,oc as ve,pb as se,pc as fe,qb as ce,qc as he,rc as ye,sb as E,sc as xe,tb as x,ub as m,wa as oe,xb as Q,yc as be,zb as me}from"./chunk-L23ZLJ25.js";var J=class i{transform(t){return t?t.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):""}static \u0275fac=function(e){return new(e||i)};static \u0275pipe=ae({name:"formatFieldName",type:i,pure:!0})};var Z=class i{constructor(){}step1Data=null;step2Data=null;setStep1Data(t){this.step1Data=t}getStep1Data(){return this.step1Data}setStep2Data(t){this.step2Data=t}getStep2Data(){return this.step2Data}getCombinedData(){return V(V({},this.step1Data),this.step2Data)}resetFormData(){this.step1Data=null,this.step2Data=null}static \u0275fac=function(e){return new(e||i)};static \u0275prov=re({token:i,factory:i.\u0275fac,providedIn:"root"})};var Ze=["fileInput"],Xe=(i,t)=>({"bg-red-500 text-white":i,"bg-white text-gray-500 border border-gray-300":t}),et=(i,t)=>({"font-semibold text-red-500":i,"font-semibold":t}),k=(i,t)=>({"border-red-500 bg-red-50":i,"border-gray-200":t}),Y=()=>({standalone:!0}),He=(i,t,e,l)=>({"border-red-500 bg-red-50":i,"border-gray-200":t,"opacity-50 cursor-not-allowed":e,"cursor-pointer":l}),ze=i=>({"text-gray-400":i}),Qe=(i,t)=>({"border-gray-300":i,"border-gray-200":t});function tt(i,t){if(i&1&&(r(0,"div",18),v(1,"div",19),o()),i&2){let e=m().index,l=m();a(),de("width",l.currentStep>e+1?"100%":l.currentStep===e+1?"50%":"0%")}}function it(i,t){if(i&1&&(se(0),r(1,"div",12)(2,"div",13),s(3),o(),r(4,"div",14)(5,"p",15),s(6),o(),r(7,"p",16),s(8),o()()(),p(9,tt,2,2,"div",17),ce()),i&2){let e=t.$implicit,l=t.index,n=m();a(2),c("ngClass",I(6,Xe,n.currentStep>=l+1,n.currentStep<l+1)),a(),w(" ",l+1," "),a(2),c("ngClass",I(9,et,n.currentStep===l+1,n.currentStep!==l+1)),a(),w(" ",e.title," "),a(2),C(e.subtitle),a(),c("ngIf",l<n.steps.length-1)}}function nt(i,t){i&1&&(r(0,"div",33),S(),r(1,"svg",34),v(2,"path",35),o()())}function rt(i,t){if(i&1){let e=E();r(0,"div",26),x("click",function(){let n=u(e).$implicit,d=m(2);return g(d.selectVehicleType(n.category_id))}),p(1,nt,3,0,"div",27),r(2,"div",28)(3,"div",29),v(4,"img",30),r(5,"span",31),s(6),o(),r(7,"span",32),s(8),o()()()()}if(i&2){let e=t.$implicit,l=m(2);c("ngClass",I(6,k,l.selectedVehicleType===e.category_id,l.selectedVehicleType!==e.category_id)),a(),c("ngIf",l.selectedVehicleType===e.category_id),a(3),Q("alt",e.name),c("src",e.imageUrl,K),a(2),C(e.name),a(2),C(e.note)}}function ot(i,t){if(i&1){let e=E();r(0,"div",72),v(1,"img",73),r(2,"button",74),x("click",function(){let n=u(e).index,d=m(3);return g(d.removeImage(n))}),s(3," \u2715 "),o()()}if(i&2){let e=t.$implicit,l=t.index;a(),c("src",e.preview,K)("alt","Uploaded image "+l)}}function lt(i,t){if(i&1){let e=E();r(0,"div",75),x("click",function(){u(e);let n=ee(4);return g(n.click())}),S(),r(1,"svg",76),v(2,"path",77),o(),T(),r(3,"input",78,0),x("change",function(n){u(e);let d=m(3);return g(d.handleFileInput(n))}),o()()}}function at(i,t){i&1&&(r(0,"span",79),s(1,"Please upload at least 4 images."),o())}function dt(i,t){if(i&1){let e=E();r(0,"div",82),x("click",function(){let n=u(e).$implicit,d=m(4);return g(d.selectBrand(n))}),s(1),o()}if(i&2){let e=t.$implicit;a(),w(" ",e.name," ")}}function st(i,t){if(i&1&&(r(0,"div",80),p(1,dt,2,1,"div",81),o()),i&2){let e=m(3);a(),c("ngForOf",e.filteredBrands)}}function ct(i,t){i&1&&(r(0,"div",83),s(1," Brand is required. "),o())}function mt(i,t){if(i&1){let e=E();r(0,"div",82),x("click",function(){let n=u(e).$implicit,d=m(4);return g(d.selectModel(n))}),s(1),o()}if(i&2){let e=t.$implicit;a(),w(" ",e.name," ")}}function pt(i,t){if(i&1&&(r(0,"div",80),p(1,mt,2,1,"div",81),o()),i&2){let e=m(3);a(),c("ngForOf",e.filteredModels)}}function _t(i,t){if(i&1){let e=E();r(0,"div",82),x("click",function(){let n=u(e).$implicit,d=m(4);return g(d.selectYear(n))}),s(1),o()}if(i&2){let e=t.$implicit;a(),w(" ",e.year," ")}}function ut(i,t){if(i&1&&(r(0,"div",80),p(1,_t,2,1,"div",81),o()),i&2){let e=m(3);a(),c("ngForOf",e.filteredYears)}}function gt(i,t){i&1&&(r(0,"div",84),S(),r(1,"svg",85),v(2,"path",35),o()())}function vt(i,t){i&1&&(r(0,"div"),v(1,"img",86),o())}function ft(i,t){if(i&1){let e=E();r(0,"div",61),x("click",function(){let n=u(e).$implicit,d=m(3);return g(d.selectBodyCondition(n))}),r(1,"div",62)(2,"span"),s(3),o(),p(4,gt,3,0,"div",63)(5,vt,2,0,"div",7),o()()}if(i&2){let e,l,n,d=t.$implicit,f=m(3);c("ngClass",I(4,k,((e=f.vehicleForm.get("body_condition"))==null?null:e.value)===d,((e=f.vehicleForm.get("body_condition"))==null?null:e.value)!==d)),a(3),C(d),a(),c("ngIf",((l=f.vehicleForm.get("body_condition"))==null?null:l.value)===d),a(),c("ngIf",((n=f.vehicleForm.get("body_condition"))==null?null:n.value)!==d)}}function ht(i,t){i&1&&(r(0,"div",84),S(),r(1,"svg",85),v(2,"path",35),o()())}function yt(i,t){i&1&&(r(0,"div"),v(1,"img",86),o())}function xt(i,t){i&1&&(r(0,"div",84),S(),r(1,"svg",85),v(2,"path",35),o()())}function bt(i,t){i&1&&(r(0,"div",84),S(),r(1,"svg",85),v(2,"path",35),o()())}function Ft(i,t){i&1&&(r(0,"div",84),S(),r(1,"svg",85),v(2,"path",35),o()())}function Ct(i,t){i&1&&(r(0,"div",84),S(),r(1,"svg",85),v(2,"path",35),o()())}function St(i,t){i&1&&(r(0,"div",84),S(),r(1,"svg",85),v(2,"path",35),o()())}function wt(i,t){i&1&&(r(0,"div",84),S(),r(1,"svg",85),v(2,"path",35),o()())}function Et(i,t){if(i&1){let e=E();r(0,"div",61),x("click",function(){let n=u(e).$implicit,d=m(3);return g(d.selectVehicleCare(n))}),r(1,"div",62)(2,"span"),s(3),o(),p(4,wt,3,0,"div",63),o()()}if(i&2){let e,l,n=t.$implicit,d=m(3);c("ngClass",I(3,k,((e=d.vehicleForm.get("vehicle_care"))==null?null:e.value)===n,((e=d.vehicleForm.get("vehicle_care"))==null?null:e.value)!==n)),a(3),C(n),a(),c("ngIf",((l=d.vehicleForm.get("vehicle_care"))==null?null:l.value)===n)}}function It(i,t){i&1&&(r(0,"div",84),S(),r(1,"svg",85),v(2,"path",35),o()())}function Tt(i,t){if(i&1){let e=E();r(0,"div",61),x("click",function(){let n=u(e).$implicit,d=m(3);return g(d.selectTransmission(n))}),r(1,"div",62)(2,"span"),s(3),o(),p(4,It,3,0,"div",63),o()()}if(i&2){let e,l,n=t.$implicit,d=m(3);c("ngClass",I(3,k,((e=d.vehicleForm.get("transmission"))==null?null:e.value)===n,((e=d.vehicleForm.get("transmission"))==null?null:e.value)!==n)),a(3),C(n),a(),c("ngIf",((l=d.vehicleForm.get("transmission"))==null?null:l.value)===n)}}function Pt(i,t){if(i&1){let e=E();r(0,"form",36)(1,"div",37)(2,"h3",38),s(3),h(4,"translate"),o(),r(5,"div",39)(6,"p",40),s(7),h(8,"translate"),o(),r(9,"div",41),p(10,ot,4,2,"div",42)(11,lt,5,0,"div",43),o(),r(12,"p",44),s(13," Only SVG, PNG, JPG or GIF (max. 2000x2000px)"),v(14,"br"),p(15,at,2,0,"span",45),o()(),r(16,"div",46)(17,"div")(18,"label",47),s(19),h(20,"translate"),o(),r(21,"div",48)(22,"input",49),h(23,"translate"),q("ngModelChange",function(n){u(e);let d=m(2);return R(d.brandSearchTerm,n)||(d.brandSearchTerm=n),g(n)}),x("input",function(){u(e);let n=m(2);return g(n.filterBrands())})("focus",function(){u(e);let n=m(2);return g(n.onBrandFocus())}),o(),r(24,"div",50),S(),r(25,"svg",51),v(26,"path",52),o()(),p(27,st,2,1,"div",53),o(),p(28,ct,2,0,"div",54),o(),T(),r(29,"div")(30,"label",47),s(31),h(32,"translate"),o(),r(33,"div",48)(34,"input",55),h(35,"translate"),q("ngModelChange",function(n){u(e);let d=m(2);return R(d.modelSearchTerm,n)||(d.modelSearchTerm=n),g(n)}),x("input",function(){u(e);let n=m(2);return g(n.filterModels())})("focus",function(){u(e);let n=m(2);return g(n.showModelDropdown=!0)}),o(),r(36,"div",50),S(),r(37,"svg",51),v(38,"path",52),o()(),p(39,pt,2,1,"div",53),o()(),T(),r(40,"div")(41,"label",47),s(42,"Year"),o(),r(43,"div",48)(44,"input",56),q("ngModelChange",function(n){u(e);let d=m(2);return R(d.yearSearchTerm,n)||(d.yearSearchTerm=n),g(n)}),x("input",function(){u(e);let n=m(2);return g(n.filterYears())})("focus",function(){u(e);let n=m(2);return g(n.showYearDropdown=!0)}),o(),r(45,"div",50),S(),r(46,"svg",51),v(47,"path",52),o()(),p(48,ut,2,1,"div",53),o()()(),T(),r(49,"div",39)(50,"label",57),s(51,"Vehicle Body Condition"),o(),r(52,"div",58),p(53,ft,6,7,"div",59),o()(),r(54,"div",39)(55,"label",57),s(56,"Modified?"),o(),r(57,"div",60)(58,"div",61),x("click",function(){u(e);let n=m(2);return g(n.selectModified("Yes"))}),r(59,"div",62)(60,"span"),s(61,"Yes"),o(),p(62,ht,3,0,"div",63)(63,yt,2,0,"div",7),o()(),r(64,"div",61),x("click",function(){u(e);let n=m(2);return g(n.selectModified("No"))}),r(65,"div",62)(66,"span"),s(67,"No"),o(),p(68,xt,3,0,"div",63),o()()()(),r(69,"div",39)(70,"label",57),s(71,"Warranty ?"),o(),r(72,"div",60)(73,"div",61),x("click",function(){u(e);let n=m(2);return g(n.selectInsurance("Yes"))}),r(74,"div",62)(75,"span"),s(76,"Yes"),o(),p(77,bt,3,0,"div",63),o()(),r(78,"div",61),x("click",function(){u(e);let n=m(2);return g(n.selectInsurance("No"))}),r(79,"div",62)(80,"span"),s(81,"No"),o(),p(82,Ft,3,0,"div",63),o()()()(),r(83,"div",39)(84,"label",57),s(85,"Condition"),o(),r(86,"div",60)(87,"div",61),x("click",function(){u(e);let n=m(2);return g(n.selectCondition("New"))}),r(88,"div",62)(89,"span"),s(90,"New"),o(),p(91,Ct,3,0,"div",63),o()(),r(92,"div",61),x("click",function(){u(e);let n=m(2);return g(n.selectCondition("Used"))}),r(93,"div",62)(94,"span"),s(95,"Used"),o(),p(96,St,3,0,"div",63),o()()()(),r(97,"div",39)(98,"label",57),s(99,"Vehicle Care"),o(),r(100,"div",64),p(101,Et,5,6,"div",59),o()(),r(102,"div",65)(103,"div")(104,"label",57),s(105,"Engine Capacity"),o(),r(106,"div",66)(107,"span",67),s(108," CC "),o(),v(109,"input",68),o()(),r(110,"div")(111,"label",57),s(112,"Kilometer"),o(),r(113,"div",66)(114,"span",67),s(115," KM "),o(),v(116,"input",69),o()()(),r(117,"div",39)(118,"label",57),s(119,"Transmission"),o(),r(120,"div",58),p(121,Tt,5,6,"div",59),o()()(),r(122,"div",70)(123,"button",71),x("click",function(){u(e);let n=m(2);return g(n.goToNextStep())}),s(124," Next "),o()()()}if(i&2){let e,l,n,d,f,P,D,N,G,$,B,W,U,b,F=m(2);c("formGroup",F.vehicleForm),a(3),C(y(4,39,"FORM.BIKE_DETAILS")),a(4),C(y(8,41,"FORM.ADD_IMAGES")),a(3),c("ngForOf",F.uploadedImages),a(),c("ngIf",F.uploadedImages.length<F.maxImages),a(4),c("ngIf",F.uploadedImages.length<4),a(4),C(y(20,43,"FORM.BRAND")),a(3),L("ngModel",F.brandSearchTerm),c("ngModelOptions",j(51,Y))("placeholder",y(23,45,"FORM.SELECT_BRAND")),a(5),c("ngIf",F.showBrandDropdown&&F.filteredBrands.length>0),a(),c("ngIf",((e=F.vehicleForm.get("brand_id"))==null?null:e.touched)&&((e=F.vehicleForm.get("brand_id"))==null?null:e.invalid)),a(3),C(y(32,47,"FORM.MODEL")),a(3),L("ngModel",F.modelSearchTerm),c("ngModelOptions",j(52,Y))("placeholder",y(35,49,"FORM.SELECT_MODEL"))("disabled",F.models.length===0),a(5),c("ngIf",F.showModelDropdown&&F.filteredModels.length>0),a(5),L("ngModel",F.yearSearchTerm),c("ngModelOptions",j(53,Y))("disabled",F.years.length===0),a(4),c("ngIf",F.showYearDropdown&&F.filteredYears.length>0),a(5),c("ngForOf",F.bodyConditions),a(5),c("ngClass",I(54,k,((l=F.vehicleForm.get("modified"))==null?null:l.value)==="Yes",((l=F.vehicleForm.get("modified"))==null?null:l.value)!=="Yes")),a(4),c("ngIf",((n=F.vehicleForm.get("modified"))==null?null:n.value)==="Yes"),a(),c("ngIf",((d=F.vehicleForm.get("modified"))==null?null:d.value)==="No"),a(),c("ngClass",I(57,k,((f=F.vehicleForm.get("modified"))==null?null:f.value)==="No",((f=F.vehicleForm.get("modified"))==null?null:f.value)!=="No")),a(4),c("ngIf",((P=F.vehicleForm.get("modified"))==null?null:P.value)==="No"),a(5),c("ngClass",I(60,k,((D=F.vehicleForm.get("insurance"))==null?null:D.value)==="Yes",((D=F.vehicleForm.get("insurance"))==null?null:D.value)!=="Yes")),a(4),c("ngIf",((N=F.vehicleForm.get("insurance"))==null?null:N.value)==="Yes"),a(),c("ngClass",I(63,k,((G=F.vehicleForm.get("insurance"))==null?null:G.value)==="No",((G=F.vehicleForm.get("insurance"))==null?null:G.value)!=="No")),a(4),c("ngIf",(($=F.vehicleForm.get("insurance"))==null?null:$.value)==="No"),a(5),c("ngClass",I(66,k,((B=F.vehicleForm.get("general_condition"))==null?null:B.value)==="New",((B=F.vehicleForm.get("general_condition"))==null?null:B.value)!=="New")),a(4),c("ngIf",((W=F.vehicleForm.get("general_condition"))==null?null:W.value)==="New"),a(),c("ngClass",I(69,k,((U=F.vehicleForm.get("general_condition"))==null?null:U.value)==="Used",((U=F.vehicleForm.get("general_condition"))==null?null:U.value)!=="Used")),a(4),c("ngIf",((b=F.vehicleForm.get("general_condition"))==null?null:b.value)==="Used"),a(5),c("ngForOf",F.vehicleCareOptions),a(20),c("ngForOf",F.transmissionTypes),a(2),c("disabled",F.vehicleForm.invalid||F.uploadedImages.length<4)}}function Vt(i,t){if(i&1){let e=E();r(0,"div",72),v(1,"img",73),r(2,"button",74),x("click",function(){let n=u(e).index,d=m(3);return g(d.removeImage(n))}),s(3," \u2715 "),o()()}if(i&2){let e=t.$implicit,l=t.index;a(),c("src",e.preview,K)("alt","Uploaded image "+l)}}function kt(i,t){if(i&1){let e=E();r(0,"div",75),x("click",function(){u(e);let n=ee(4);return g(n.click())}),S(),r(1,"svg",76),v(2,"path",77),o(),T(),r(3,"input",78,0),x("change",function(n){u(e);let d=m(3);return g(d.handleFileInput(n))}),o()()}}function Mt(i,t){i&1&&(r(0,"span",79),s(1,"Please upload at least 4 images."),o())}function Ot(i,t){if(i&1&&(r(0,"option",100),s(1),o()),i&2){let e=t.$implicit;c("value",e.id),a(),w(" ",e.name," ")}}function Dt(i,t){i&1&&(r(0,"div",83),s(1," Brand is required. "),o())}function Nt(i,t){if(i&1&&(r(0,"option",100),s(1),o()),i&2){let e=t.$implicit;c("value",e.id),a(),w(" ",e.name," ")}}function Bt(i,t){if(i&1){let e=E();r(0,"div",82),x("click",function(){let n=u(e).$implicit,d=m(4);return g(d.selectBrand(n))}),s(1),o()}if(i&2){let e=t.$implicit;a(),w(" ",e.name," ")}}function At(i,t){if(i&1&&(r(0,"div",80),p(1,Bt,2,1,"div",81),o()),i&2){let e=m(3);a(),c("ngForOf",e.filteredBrands)}}function Lt(i,t){i&1&&(r(0,"div",83),s(1," Brand is required. "),o())}function Rt(i,t){if(i&1){let e=E();r(0,"div",82),x("click",function(){let n=u(e).$implicit,d=m(4);return g(d.selectModel(n))}),s(1),o()}if(i&2){let e=t.$implicit;a(),w(" ",e.name," ")}}function qt(i,t){if(i&1&&(r(0,"div",80),p(1,Rt,2,1,"div",81),o()),i&2){let e=m(3);a(),c("ngForOf",e.filteredModels)}}function Gt(i,t){if(i&1){let e=E();r(0,"div",82),x("click",function(){let n=u(e).$implicit,d=m(4);return g(d.selectYear(n))}),s(1),o()}if(i&2){let e=t.$implicit;a(),w(" ",e.year," ")}}function Ut(i,t){if(i&1&&(r(0,"div",80),p(1,Gt,2,1,"div",81),o()),i&2){let e=m(3);a(),c("ngForOf",e.filteredYears)}}function jt(i,t){i&1&&(r(0,"div",84),S(),r(1,"svg",85),v(2,"path",35),o()())}function Yt(i,t){if(i&1){let e=E();r(0,"div",61),x("click",function(){let n=u(e).$implicit,d=m(3);return g(d.selectBodyCondition(n))}),r(1,"div",62)(2,"span"),s(3),o(),p(4,jt,3,0,"div",63),o()()}if(i&2){let e,l,n=t.$implicit,d=m(3);c("ngClass",I(3,k,((e=d.vehicleForm.get("body_condition"))==null?null:e.value)===n,((e=d.vehicleForm.get("body_condition"))==null?null:e.value)!==n)),a(3),C(n),a(),c("ngIf",((l=d.vehicleForm.get("body_condition"))==null?null:l.value)===n)}}function $t(i,t){i&1&&(r(0,"span"),s(1),h(2,"translate"),o()),i&2&&(a(),w(" ",y(2,1,"FORM.DESCRIPTION_REQUIRED")," "))}function Wt(i,t){i&1&&(r(0,"span"),s(1),h(2,"translate"),o()),i&2&&(a(),w(" ",y(2,1,"FORM.DESCRIPTION_TOO_SHORT")," "))}function Ht(i,t){if(i&1&&(r(0,"div",101),p(1,$t,3,3,"span",7)(2,Wt,3,3,"span",7),o()),i&2){let e,l,n=m(3);a(),c("ngIf",(e=n.bikeForm.get("description"))==null||e.errors==null?null:e.errors.required),a(),c("ngIf",(l=n.bikeForm.get("description"))==null||l.errors==null?null:l.errors.minlength)}}function zt(i,t){if(i&1){let e=E();r(0,"form",36)(1,"div",37)(2,"h3",38),s(3,"Part Details"),o(),r(4,"div",39)(5,"p",40),s(6,"Add images"),o(),r(7,"div",41),p(8,Vt,4,2,"div",42)(9,kt,5,0,"div",43),o(),r(10,"p",44),s(11," Only SVG, PNG, JPG or GIF (max. 2000x2000px)"),v(12,"br"),p(13,Mt,2,0,"span",45),o()(),r(14,"div",65)(15,"div")(16,"label",47),s(17,"Brand of part"),o(),r(18,"select",87)(19,"option",88),s(20),h(21,"translate"),o(),p(22,Ot,2,2,"option",89),o(),p(23,Dt,2,0,"div",54),o(),r(24,"div")(25,"label",47),s(26),h(27,"translate"),o(),r(28,"select",90)(29,"option",88),s(30),h(31,"translate"),o(),p(32,Nt,2,2,"option",89),o()()(),r(33,"div",46)(34,"div",91)(35,"div",92)(36,"p",93)(37,"span",31),s(38,"Compatibility Information:"),o(),s(39," please choose the brand compatible with this part. "),o()()(),r(40,"div")(41,"label",47),s(42),h(43,"translate"),o(),r(44,"div",48)(45,"input",49),h(46,"translate"),q("ngModelChange",function(n){u(e);let d=m(2);return R(d.brandSearchTerm,n)||(d.brandSearchTerm=n),g(n)}),x("input",function(){u(e);let n=m(2);return g(n.filterBrands())})("focus",function(){u(e);let n=m(2);return g(n.showBrandDropdown=!0)}),o(),r(47,"div",50),S(),r(48,"svg",51),v(49,"path",52),o()(),p(50,At,2,1,"div",53),o(),p(51,Lt,2,0,"div",54),o(),T(),r(52,"div")(53,"label",47),s(54),h(55,"translate"),o(),r(56,"div",48)(57,"input",55),h(58,"translate"),q("ngModelChange",function(n){u(e);let d=m(2);return R(d.modelSearchTerm,n)||(d.modelSearchTerm=n),g(n)}),x("input",function(){u(e);let n=m(2);return g(n.filterModels())})("focus",function(){u(e);let n=m(2);return g(n.showModelDropdown=!0)}),o(),r(59,"div",50),S(),r(60,"svg",51),v(61,"path",52),o()(),p(62,qt,2,1,"div",53),o()(),T(),r(63,"div")(64,"label",47),s(65,"Year"),o(),r(66,"div",48)(67,"input",56),q("ngModelChange",function(n){u(e);let d=m(2);return R(d.yearSearchTerm,n)||(d.yearSearchTerm=n),g(n)}),x("input",function(){u(e);let n=m(2);return g(n.filterYears())})("focus",function(){u(e);let n=m(2);return g(n.showYearDropdown=!0)}),o(),r(68,"div",50),S(),r(69,"svg",51),v(70,"path",52),o()(),p(71,Ut,2,1,"div",53),o()()(),T(),r(72,"div",39)(73,"label",57),s(74,"Condition"),o(),r(75,"div",60),p(76,Yt,5,6,"div",59),o()(),r(77,"div",39)(78,"label",94),s(79," Description "),r(80,"span",95),S(),r(81,"svg",96),v(82,"path",97),o()()(),T(),v(83,"textarea",98),o(),p(84,Ht,3,2,"div",99),o(),r(85,"div",70)(86,"button",71),x("click",function(){u(e);let n=m(2);return g(n.goToNextStep())}),s(87," Next "),o()()()}if(i&2){let e,l,n,d=m(2);c("formGroup",d.bikeForm),a(8),c("ngForOf",d.uploadedImages),a(),c("ngIf",d.uploadedImages.length<d.maxImages),a(4),c("ngIf",d.uploadedImages.length<4),a(7),C(y(21,30,"FORM.SELECT_BRAND")),a(2),c("ngForOf",d.brandsPart),a(),c("ngIf",((e=d.vehicleForm.get("bike_part_brand_id"))==null?null:e.touched)&&((e=d.vehicleForm.get("bike_part_brand_id"))==null?null:e.invalid)),a(3),C(y(27,32,"FORM.MODELB")),a(2),c("disabled",d.models.length===0),a(2),C(y(31,34,"FORM.SELECT_MODEL")),a(2),c("ngForOf",d.partCategory),a(10),C(y(43,36,"FORM.BRAND")),a(3),L("ngModel",d.brandSearchTerm),c("ngModelOptions",j(44,Y))("placeholder",y(46,38,"FORM.SELECT_BRAND")),a(5),c("ngIf",d.showBrandDropdown&&d.filteredBrands.length>0),a(),c("ngIf",((l=d.vehicleForm.get("brand_id"))==null?null:l.touched)&&((l=d.vehicleForm.get("brand_id"))==null?null:l.invalid)),a(3),C(y(55,40,"FORM.MODEL")),a(3),L("ngModel",d.modelSearchTerm),c("ngModelOptions",j(45,Y))("placeholder",y(58,42,"FORM.SELECT_MODEL"))("disabled",d.models.length===0),a(5),c("ngIf",d.showModelDropdown&&d.filteredModels.length>0),a(5),L("ngModel",d.yearSearchTerm),c("ngModelOptions",j(46,Y))("disabled",d.years.length===0),a(4),c("ngIf",d.showYearDropdown&&d.filteredYears.length>0),a(5),c("ngForOf",d.partsConditions),a(8),c("ngIf",((n=d.bikeForm.get("description"))==null?null:n.touched)&&((n=d.bikeForm.get("description"))==null?null:n.errors)),a(2),c("disabled",d.bikeForm.invalid||d.uploadedImages.length<4)}}function Kt(i,t){if(i&1&&(r(0,"option",100),s(1),o()),i&2){let e=t.$implicit;c("value",e.id),a(),w(" ",e.name," ")}}function Qt(i,t){i&1&&(r(0,"div",83),s(1," Country is required "),o())}function Jt(i,t){if(i&1&&(r(0,"option",100),s(1),o()),i&2){let e=t.$implicit;c("value",e.id),a(),w(" ",e.name," ")}}function Zt(i,t){i&1&&(r(0,"div",83),s(1," City is required "),o())}function Xt(i,t){i&1&&(r(0,"span",79),s(1,"*"),o())}function ei(i,t){if(i&1){let e=E();r(0,"input",117),h(1,"formatFieldName"),x("keypress",function(n){u(e);let d=m().$implicit,f=m(4);return g(f.allowOnlyDigits(n,d.writing_system))}),o()}if(i&2){let e=m().$implicit;c("id",e.controlName)("formControlName",e.controlName)("pattern",e.writing_system==="arabic"?"[\u0660-\u0669\u06F0-\u06F90-9]+":"[0-9]+")("placeholder","Enter "+y(1,5,e.field_name)),X("maxlength",e.max_length)}}function ti(i,t){if(i&1){let e=E();r(0,"input",118),h(1,"formatFieldName"),x("keypress",function(n){u(e);let d=m().$implicit,f=m(4);return g(f.allowOnlyLetters(n,d.writing_system))}),o()}if(i&2){let e=m().$implicit;c("id",e.controlName)("formControlName",e.controlName)("placeholder","Enter "+y(1,4,e.field_name)),X("maxlength",e.max_length)}}function ii(i,t){if(i&1&&(r(0,"div",112)(1,"label",113),s(2),h(3,"formatFieldName"),p(4,Xt,2,0,"span",45),o(),p(5,ei,2,7,"input",114)(6,ti,2,6,"input",115),r(7,"div",116),s(8),h(9,"formatFieldName"),o()()),i&2){let e=t.$implicit;a(),c("for",e.controlName),a(),w(" ",y(3,9,e.field_name)," "),a(2),c("ngIf",e.is_required),a(),c("ngIf",e.character_type==="digit"),a(),c("ngIf",e.character_type==="letter"),a(2),ue(" Position: ",y(9,11,e.position)," | Type: ",e.character_type==="digit"?"Numbers":"Letters"," | Length: ",e.min_length,"-",e.max_length," characters ")}}function ni(i,t){if(i&1&&(r(0,"div",39)(1,"h4",109),s(2,"Plate Information"),o(),r(3,"div",110),p(4,ii,10,13,"div",111),o()()),i&2){let e=m(3);a(4),c("ngForOf",e.dynamicFields)}}function ri(i,t){i&1&&(r(0,"div",119)(1,"div",16),s(2,"Loading plate format..."),o()())}function oi(i,t){i&1&&(r(0,"div",119)(1,"div",16),s(2,"No plate format available for selected city"),o()())}function li(i,t){if(i&1){let e=E();r(0,"form",36)(1,"div",37)(2,"h3",38),s(3,"License Plate Details"),o(),r(4,"div",39)(5,"label",57),s(6,"Country"),o(),r(7,"select",102)(8,"option",88),s(9,"Select the country"),o(),p(10,Kt,2,2,"option",89),o(),p(11,Qt,2,0,"div",54),o(),r(12,"div",39)(13,"label",103),s(14,"City"),o(),r(15,"div",104)(16,"select",105)(17,"option",88),s(18,"Select a City"),o(),p(19,Jt,2,2,"option",89),o()(),p(20,Zt,2,0,"div",54),o(),p(21,ni,5,1,"div",106)(22,ri,3,0,"div",107)(23,oi,3,0,"div",107),o(),r(24,"div",70)(25,"button",108),x("click",function(){u(e);let n=m(2);return g(n.goToNextStep())}),s(26," Next "),o()()()}if(i&2){let e,l,n,d,f=m(2);c("formGroup",f.platesForm),a(10),c("ngForOf",f.countries),a(),c("ngIf",((e=f.platesForm.get("country_id_lp"))==null?null:e.invalid)&&((e=f.platesForm.get("country_id_lp"))==null?null:e.touched)),a(5),c("disabled",!f.filteredCities.length),a(3),c("ngForOf",f.filteredCities),a(),c("ngIf",((l=f.platesForm.get("city_id_lp"))==null?null:l.invalid)&&((l=f.platesForm.get("city_id_lp"))==null?null:l.touched)),a(),c("ngIf",f.dynamicFields.length>0),a(),c("ngIf",((n=f.platesForm.get("city_id_lp"))==null?null:n.value)&&!f.dynamicFields.length&&!f.selectedPlateFormat),a(),c("ngIf",((d=f.platesForm.get("city_id_lp"))==null?null:d.value)&&f.dynamicFields.length===0&&f.selectedPlateFormat===null)}}function ai(i,t){i&1&&(r(0,"div",37)(1,"p",120),s(2," Please select a vehicle type above to continue "),o()())}function di(i,t){if(i&1&&(r(0,"div")(1,"h2",20),s(2,"What are you selling?"),o(),r(3,"div",21),p(4,rt,9,9,"div",22),o(),r(5,"div",23),p(6,Pt,125,72,"form",24)(7,zt,88,47,"form",24)(8,li,27,9,"form",24)(9,ai,3,0,"div",25),o()()),i&2){let e=m();a(4),c("ngForOf",e.vehicleOptions),a(),c("ngSwitch",e.selectedVehicleType),a(),c("ngSwitchCase",1),a(),c("ngSwitchCase",2),a(),c("ngSwitchCase",3)}}function si(i,t){i&1&&(r(0,"span"),s(1),h(2,"translate"),o()),i&2&&(a(),w(" ",y(2,1,"FORM.DESCRIPTION_REQUIRED")," "))}function ci(i,t){i&1&&(r(0,"span"),s(1),h(2,"translate"),o()),i&2&&(a(),w(" ",y(2,1,"FORM.DESCRIPTION_TOO_SHORT")," "))}function mi(i,t){if(i&1&&(r(0,"div",101),p(1,si,3,3,"span",7)(2,ci,3,3,"span",7),o()),i&2){let e,l,n=m(2);a(),c("ngIf",(e=n.adDetailsForm.get("description"))==null||e.errors==null?null:e.errors.required),a(),c("ngIf",(l=n.adDetailsForm.get("description"))==null||l.errors==null?null:l.errors.minlength)}}function pi(i,t){i&1&&(r(0,"div",84),S(),r(1,"svg",85),v(2,"path",35),o()())}function _i(i,t){i&1&&v(0,"div",152)}function ui(i,t){i&1&&(r(0,"div",84),S(),r(1,"svg",85),v(2,"path",35),o()())}function gi(i,t){i&1&&v(0,"div",152)}function vi(i,t){i&1&&(r(0,"div",84),S(),r(1,"svg",85),v(2,"path",35),o()())}function fi(i,t){if(i&1&&v(0,"div",153),i&2){let e=m(2);c("ngClass",I(1,Qe,!e.isSoomSelected(),e.isSoomSelected()))}}function hi(i,t){i&1&&(r(0,"div",84),S(),r(1,"svg",85),v(2,"path",35),o()())}function yi(i,t){if(i&1&&v(0,"div",153),i&2){let e=m(2);c("ngClass",I(1,Qe,!e.isSoomSelected(),e.isSoomSelected()))}}function xi(i,t){i&1&&(r(0,"div",154)(1,"h4",155),s(2),h(3,"translate"),o(),r(4,"p",156),s(5),h(6,"translate"),o(),r(7,"div",157)(8,"label",158),s(9),h(10,"translate"),o(),r(11,"div",159)(12,"div",160)(13,"span",161),s(14),h(15,"translate"),o()(),v(16,"input",162),o()()()),i&2&&(a(2),C(y(3,4,"FORM.SOOM_SETTINGS")),a(3),w(" ",y(6,6,"FORM.SOOM_DESCRIPTION")," "),a(4),w(" ",y(10,8,"FORM.AUTO_DECLINE")," "),a(5),C(y(15,10,"COMMON.CURRENCY")))}function bi(i,t){i&1&&(r(0,"div",39)(1,"label",163),s(2),h(3,"translate"),o(),r(4,"div",159)(5,"div",160)(6,"span",161),s(7),h(8,"translate"),o()(),v(9,"input",164),o()()),i&2&&(a(2),C(y(3,2,"COMMON.PRICE")),a(5),C(y(8,4,"COMMON.CURRENCY")))}function Fi(i,t){if(i&1&&(r(0,"option",100),s(1),o()),i&2){let e=t.$implicit;c("value",e.id),a(),w(" ",e.name," ")}}function Ci(i,t){if(i&1&&(r(0,"option",100),s(1),o()),i&2){let e=t.$implicit;c("value",e.id),a(),w(" ",e.name," ")}}function Si(i,t){if(i&1){let e=E();r(0,"button",165),x("click",function(){u(e);let n=m(2);return g(n.previousStep())}),s(1),h(2,"translate"),o()}i&2&&(a(),w(" ",y(2,1,"FORM.BACK")," "))}function wi(i,t){if(i&1){let e=E();r(0,"div",121)(1,"div",37)(2,"h2",122),s(3),h(4,"translate"),o(),r(5,"form",36)(6,"div",123)(7,"div",124)(8,"label",125),s(9),h(10,"translate"),o(),r(11,"div",126),s(12),o()(),r(13,"div",124)(14,"label",125),s(15),h(16,"translate"),r(17,"span",127),s(18),h(19,"translate"),o()(),r(20,"div",126),s(21),o()()(),r(22,"div",39)(23,"label",128),s(24),h(25,"translate"),o(),v(26,"input",129),h(27,"translate"),o(),r(28,"div",39)(29,"label",94),s(30),h(31,"translate"),r(32,"span",95),S(),r(33,"svg",96),v(34,"path",97),o()()(),T(),v(35,"textarea",130),h(36,"translate"),p(37,mi,3,2,"div",99),o(),r(38,"div",39)(39,"label",57),s(40),h(41,"translate"),o(),r(42,"div",131)(43,"div",132)(44,"div",133),x("click",function(){let n;u(e);let d=m();return g((n=d.adDetailsForm.get("allow_submission"))==null?null:n.setValue("false"))}),r(45,"div",134)(46,"span",135),s(47),h(48,"translate"),o(),p(49,pi,3,0,"div",63)(50,_i,1,0,"div",136),o()()(),r(51,"div",132)(52,"div",133),x("click",function(){let n;u(e);let d=m();return g((n=d.adDetailsForm.get("allow_submission"))==null?null:n.setValue("true"))}),r(53,"div",134)(54,"span",135),s(55),h(56,"translate"),o(),p(57,ui,3,0,"div",63)(58,gi,1,0,"div",136),o()()()()(),r(59,"div",39)(60,"label",57),s(61),h(62,"translate"),o(),r(63,"div",131)(64,"div",132)(65,"div",137),x("click",function(){let n;u(e);let d=m();return g(!d.isSoomSelected()&&((n=d.adDetailsForm.get("contacting_channel"))==null?null:n.setValue("phone")))}),r(66,"div",134)(67,"span",138),s(68),h(69,"translate"),o(),p(70,vi,3,0,"div",63)(71,fi,1,4,"div",139),o()()(),r(72,"div",132)(73,"div",137),x("click",function(){let n;u(e);let d=m();return g(!d.isSoomSelected()&&((n=d.adDetailsForm.get("contacting_channel"))==null?null:n.setValue("whatsapp")))}),r(74,"div",134)(75,"span",138),s(76),h(77,"translate"),o(),p(78,hi,3,0,"div",63)(79,yi,1,4,"div",139),o()()()(),p(80,xi,17,12,"div",140),o(),p(81,bi,10,6,"div",106),r(82,"div",39)(83,"label",57),s(84),h(85,"translate"),o(),r(86,"select",141),x("change",function(n){u(e);let d=m();return g(d.onCountryChangecities(n))}),r(87,"option",142),s(88),h(89,"translate"),o(),p(90,Fi,2,2,"option",89),o()(),r(91,"div",39)(92,"label",143),s(93),h(94,"translate"),o(),r(95,"div",104)(96,"select",144)(97,"option",142),s(98),h(99,"translate"),o(),p(100,Ci,2,2,"option",89),o()()(),r(101,"div",39)(102,"label",145),s(103),h(104,"translate"),o(),r(105,"div",131)(106,"div",146)(107,"span",135),s(108),h(109,"translate"),o(),v(110,"input",147),o(),r(111,"div",146)(112,"span",135),s(113),h(114,"translate"),o(),v(115,"input",148),o()()(),r(116,"div",149),p(117,Si,3,3,"button",150),r(118,"button",151),x("click",function(){u(e);let n=m();return g(n.goToNextStep())}),s(119),h(120,"translate"),o()()()()()}if(i&2){let e,l,n,d,f,P,D,N,G,$,B,W,U,b=m();a(3),w("2. ",y(4,46,"FORM.AD_DETAILS"),""),a(2),c("formGroup",b.adDetailsForm),a(4),C(y(10,48,"FORM.YOUR_NAME")),a(3),z("",b.user==null?null:b.user.first_name," ",b.user==null?null:b.user.last_name,""),a(3),w("",y(16,50,"FORM.PHONE_NUMBER")," "),a(3),w("(",y(19,52,"FORM.HELPS_CONTACT"),")"),a(3),C(b.user==null?null:b.user.phone),a(3),C(y(25,54,"FORM.AD_NAME")),a(2),Q("placeholder",y(27,56,"FORM.AD_NAME_PLACEHOLDER")),a(4),w(" ",y(31,58,"FORM.DESCRIPTION")," "),a(5),Q("placeholder",y(36,60,"FORM.DESCRIPTION_PLACEHOLDER")),a(2),c("ngIf",((e=b.adDetailsForm.get("description"))==null?null:e.touched)&&((e=b.adDetailsForm.get("description"))==null?null:e.errors)),a(3),C(y(41,62,"FORM.CONTACT_METHOD")),a(4),c("ngClass",I(90,k,((l=b.adDetailsForm.get("allow_submission"))==null?null:l.value)==="false",((l=b.adDetailsForm.get("allow_submission"))==null?null:l.value)!=="false")),a(3),C(y(48,64,"FORM.DIRECT")),a(2),c("ngIf",((n=b.adDetailsForm.get("allow_submission"))==null?null:n.value)==="false"),a(),c("ngIf",((d=b.adDetailsForm.get("allow_submission"))==null?null:d.value)!=="false"),a(2),c("ngClass",I(93,k,((f=b.adDetailsForm.get("allow_submission"))==null?null:f.value)==="true",((f=b.adDetailsForm.get("allow_submission"))==null?null:f.value)!=="true")),a(3),C(y(56,66,"FORM.SOOM")),a(2),c("ngIf",((P=b.adDetailsForm.get("allow_submission"))==null?null:P.value)==="true"),a(),c("ngIf",((D=b.adDetailsForm.get("allow_submission"))==null?null:D.value)!=="true"),a(3),C(y(62,68,"FORM.CONTACT_CHANNELS")),a(4),c("ngClass",ie(96,He,((N=b.adDetailsForm.get("contacting_channel"))==null?null:N.value)==="phone",((N=b.adDetailsForm.get("contacting_channel"))==null?null:N.value)!=="phone",b.isSoomSelected(),!b.isSoomSelected())),a(2),c("ngClass",te(101,ze,b.isSoomSelected())),a(),C(y(69,70,"FORM.PHONE")),a(2),c("ngIf",((G=b.adDetailsForm.get("contacting_channel"))==null?null:G.value)==="phone"&&!b.isSoomSelected()),a(),c("ngIf",(($=b.adDetailsForm.get("contacting_channel"))==null?null:$.value)!=="phone"||b.isSoomSelected()),a(2),c("ngClass",ie(103,He,((B=b.adDetailsForm.get("contacting_channel"))==null?null:B.value)==="whatsapp",((B=b.adDetailsForm.get("contacting_channel"))==null?null:B.value)!=="whatsapp",b.isSoomSelected(),!b.isSoomSelected())),a(2),c("ngClass",te(108,ze,b.isSoomSelected())),a(),C(y(77,72,"FORM.WHATSAPP")),a(2),c("ngIf",((W=b.adDetailsForm.get("contacting_channel"))==null?null:W.value)==="whatsapp"&&!b.isSoomSelected()),a(),c("ngIf",((U=b.adDetailsForm.get("contacting_channel"))==null?null:U.value)!=="whatsapp"||b.isSoomSelected()),a(),c("ngIf",b.isSoomSelected()),a(),c("ngIf",!b.isSoomSelected()),a(3),C(y(85,74,"FORM.COUNTRY")),a(4),C(y(89,76,"FORM.SELECT_COUNTRY")),a(2),c("ngForOf",b.countries),a(3),C(y(94,78,"FORM.CITY")),a(5),C(y(99,80,"FORM.SELECT_CITY")),a(2),c("ngForOf",b.filteredCities),a(3),C(y(104,82,"FORM.SELLER_TYPE")),a(5),C(y(109,84,"FORM.MIDDLEMAN")),a(5),C(y(114,86,"FORM.OWNER")),a(4),c("ngIf",b.currentStep>1),a(2),w(" ",y(120,88,"FORM.NEXT")," ")}}function Ei(i,t){if(i&1&&(r(0,"span",213),s(1),o()),i&2){let e=m(2);a(),z(" ",e.pricingInfo.converted_price," ",e.pricingInfo.currency_symbol," ")}}function Ii(i,t){if(i&1&&(r(0,"span",214),s(1),o()),i&2){let e=m(2);a(),z(" ",e.discountedPrice," ",e.pricingInfo.currency_symbol," ")}}function Ti(i,t){if(i&1&&(r(0,"span",215),s(1),o()),i&2){let e=m(2);a(),z(" ",e.pricingInfo.converted_price," ",e.pricingInfo.currency_symbol," ")}}function Pi(i,t){i&1&&(r(0,"span"),s(1,"Apply"),o())}function Vi(i,t){i&1&&(r(0,"span"),s(1,"Applying..."),o())}function ki(i,t){if(i&1){let e=E();r(0,"button",216),x("click",function(){u(e);let n=m(2);return g(n.applyPromoCode())}),p(1,Pi,2,0,"span",7)(2,Vi,2,0,"span",7),o()}if(i&2){let e=m(2);c("disabled",e.promoLoading||!e.promoCode),a(),c("ngIf",!e.promoLoading),a(),c("ngIf",e.promoLoading)}}function Mi(i,t){if(i&1){let e=E();r(0,"button",217),x("click",function(){u(e);let n=m(2);return g(n.removePromoCode())}),s(1," Remove "),o()}}function Oi(i,t){i&1&&(r(0,"div",218)(1,"div",219)(2,"span"),s(3,"Promocode applied!"),o(),S(),r(4,"svg",220),v(5,"path",221),o()(),T(),r(6,"button",222),s(7," Applied "),o()())}function Di(i,t){if(i&1&&(r(0,"div",223),s(1),o()),i&2){let e=m(2);a(),w(" ",e.promoError," ")}}function Ni(i,t){if(i&1){let e=E();r(0,"button",165),x("click",function(){u(e);let n=m(2);return g(n.previousStep())}),s(1," Back "),o()}}function Bi(i,t){if(i&1){let e=E();r(0,"div",166)(1,"h2",167),s(2,"3. Checkout"),o(),r(3,"div",168)(4,"div",169)(5,"span",31),s(6,"Ad Fees"),o(),r(7,"div"),p(8,Ei,2,2,"span",170)(9,Ii,2,2,"span",171)(10,Ti,2,2,"span",172),o()(),r(11,"p",32),s(12,"One time fees, if you delete the ad you will be charged again"),o()(),r(13,"div",39)(14,"div",173)(15,"div",174)(16,"input",175),q("ngModelChange",function(n){u(e);let d=m();return R(d.promoCode,n)||(d.promoCode=n),g(n)}),o()(),p(17,ki,3,3,"button",176)(18,Mi,2,0,"button",177),o(),p(19,Oi,8,0,"div",178)(20,Di,2,1,"div",179),o(),r(21,"div",39)(22,"h3",180),s(23,"Payment"),o(),r(24,"p",181),s(25,"All transactions are secure and encrypted"),o(),r(26,"div",112)(27,"h4",182),s(28,"Payment Method"),o(),r(29,"div",183)(30,"div",184)(31,"div",185)(32,"div",186),v(33,"div",187),o(),r(34,"div")(35,"div",188)(36,"span"),s(37,"Pay with PayTabs"),o(),S(),r(38,"svg",189),v(39,"path",190),o()(),T(),r(40,"div",191),s(41,"Secure payment gateway"),o()()(),r(42,"div",192)(43,"span",193),s(44,"PayTabs"),o()()(),r(45,"div",194),S(),r(46,"svg",195),v(47,"path",196),o(),T(),r(48,"p",197),s(49," Your payment will be securely processed through PayTabs. You'll be redirected to complete the transaction. "),o()(),r(50,"div",198)(51,"p",199),s(52,"We accept:"),o(),r(53,"div",200)(54,"div",201),S(),r(55,"svg",202)(56,"text",203),s(57,"VISA"),o()()(),T(),r(58,"div",204),S(),r(59,"svg",205),v(60,"circle",206)(61,"circle",207)(62,"path",208),o()(),T(),r(63,"div",209)(64,"span",210),s(65," Pay"),o()(),r(66,"div",211)(67,"span",212),s(68,"mada"),o()()()()()()(),r(69,"div",149),p(70,Ni,2,0,"button",150),r(71,"button",151),x("click",function(){u(e);let n=m();return g(n.goToNextStep())}),s(72," Next "),o()()()}if(i&2){let e=m();a(8),c("ngIf",e.isPromoApplied),a(),c("ngIf",e.isPromoApplied),a(),c("ngIf",!e.isPromoApplied),a(6),L("ngModel",e.promoCode),c("readonly",e.isPromoApplied),a(),c("ngIf",!e.isPromoApplied),a(),c("ngIf",e.isPromoApplied),a(),c("ngIf",e.isPromoApplied),a(),c("ngIf",e.promoError),a(50),c("ngIf",e.currentStep>1)}}function Ai(i,t){i&1&&(r(0,"div",224),s(1,` Listing submitted successfully!
`),o())}function Li(i,t){if(i&1&&(r(0,"div",225),s(1),o()),i&2){let e=m();a(),w(" ",e.errorMessage,`
`)}}var Ke=class i{constructor(t,e,l,n,d,f,P,D){this.fb=t;this.listingService=e;this.sharedFormDataService=l;this.translate=n;this.router=d;this.route=f;this.userService=P;this.platformId=D;this.translate.setDefaultLang("en"),Fe(this.platformId)&&this.translate.use("en"),this.postingAnAd=this.fb.group({}),this.vehicleForm=this.fb.group({category_id:[1,_.required],vehicleType:["motorcycle",_.required],images:[],brand_id:["",_.required],model_id:["",_.required],year_id:["",_.required],body_condition:["As New",_.required],modified:["No",_.required],insurance:["Yes",_.required],general_condition:["Used",_.required],vehicle_care:["Wakeel",_.required],engine:["",[_.required,_.min(1)]],mileage:["",[_.required,_.min(0)]],transmission:["Automatic",_.required]}),this.bikeForm=this.fb.group({category_id:[2,_.required],images:[[]],bike_part_brand_id:["",_.required],bike_part_category_id:["",_.required],brand_id:["",_.required],model_id:["",_.required],year_id:[""],condition:["new",_.required],description:["",[_.required,_.minLength(20)]]}),this.platesForm=this.fb.group({type_id:[1,_.required],category_id:[3,_.required],plateFormat:["numbers-alphabets",_.required],country_id_lp:[,_.required],city_id_lp:[,_.required],firstAlphabet:[null],secondAlphabet:[null],thirdAlphabet:[null]}),this.adDetailsForm=this.fb.group({title:["",[_.required,_.minLength(5),_.maxLength(100)]],description:["",[_.required,_.minLength(20)]],allow_submission:["",_.required],contacting_channel:[""],price:[null],country:["",_.required],city:["",_.required],seller_type:["",_.required],minimum_bid:[0]}),this.checkoutForm=this.fb.group({agreeToTerms:[!1,_.requiredTrue]})}currentStep=1;fileInput;uploadedImages=[];uploadedImageUrls=[];maxImages=10;requiredImages=4;pricingInfo=null;promoCode="";isPromoApplied=!1;promoLoading=!1;promoError=null;discountedPrice=null;vehicleFormData=null;vehicleForm;adDetailsForm;checkoutForm;bikeForm;postingAnAd;maxSteps=3;isSubmitting=!1;submissionSuccess=!1;submissionError=!1;errorMessage="";vehicleOptions=[{category_id:1,id:"motorcycle",name:"Motorcycle",icon:"motorcycle-icon",note:"Fees depend on the type",imageUrl:"/pictures/motoIconPostingAdd.svg"},{category_id:2,id:"bike-part",name:"Bike Part",icon:"bike-part-icon",note:"Fees depend on the type",imageUrl:"/pictures/usedpart.svg"},{category_id:3,id:"license-plate",name:"License Plate",icon:"license-plate-icon",note:"SAR 300",imageUrl:"/pictures/licensePlate.svg"}];uploadedFiles=[];iconPath=[{id:"motorcycle",path:"assets/icons/motorcycle.svg"},{id:"bike-part",path:"assets/icons/Remarquespart.svg"},{id:"license-plate",path:"assets/licensePlate.svg"}];plateFormatOptions=[{type_id:1,id:"numbers-alphabets",label:"Numbers & Alphabets",selected:!0},{type_id:2,id:"numbers-only",label:"Numbers Only",selected:!1}];brandsPart=[];partCategory=[];selectedVehicleType=1;brands=[];models=[];years=[];cities=[];bodyConditions=["As New","Remarques","Needs some fixes"];partsConditions=["New","Used"];vehicleCareOptions=["Wakeel","USA","Europe","GCC","Customs License"];transmissionTypes=["Automatic","Manual","Semi-Automatic"];steps=[{title:"Filling Product Details",subtitle:"Please provide your name and email"},{title:"Ad & Contact Details",subtitle:"Details needed for customers to contact you"},{title:"Checkout",subtitle:"Start collaborating with your team"}];sellerTypeOptions=[{value:"middleman",label:"Middleman"},{value:"owner",label:"Selling your own vehicle"}];selectedType=null;cardDetails={name:"Olivia Rhye",expiry:"06 2024",number:"1234 1234 1234 1234",cvv:"***"};adFees={original:100,discounted:90};promocode="WELCOME10";promocodeApplied=!0;paymentMethods=[{id:"card",name:"Credit/Debit Card",selected:!0},{id:"tamara",name:"Tamara",selected:!1,badge:"tamara"},{id:"tabby",name:"Tabby",selected:!1,badge:"tabby"}];draftLicensePlateFieldValues=[];platesForm;countries=[];allCities=[];filteredCities=[];dynamicFields=[];selectedPlateFormat=null;listingId=null;user=null;isLoadingDraft=!1;selectedPaymentMethod=null;showAddCardForm=!1;brandSearchTerm="";modelSearchTerm="";yearSearchTerm="";filteredBrands=[];filteredModels=[];filteredYears=[];showBrandDropdown=!1;showModelDropdown=!1;showYearDropdown=!1;ngOnInit(){this.adDetailsForm.get("allow_submission")?.valueChanges.subscribe(e=>{e==="true"?(this.adDetailsForm.get("contacting_channel")?.setValue(""),this.adDetailsForm.get("contacting_channel")?.clearValidators(),this.adDetailsForm.get("contacting_channel")?.updateValueAndValidity()):(this.adDetailsForm.get("contacting_channel")?.setValidators([_.required]),this.adDetailsForm.get("contacting_channel")?.updateValueAndValidity())}),this.userService.userProfile$.subscribe(e=>{e&&(this.user=e.user)});let t=this.route.snapshot.queryParamMap.get("draftId");t&&this.loadDraftData(+t),this.loadBrands(),this.getPartCategoryList(),this.getBrandPartList(),this.initForm(),this.loadCities(),this.setupFormListeners(),this.loadCitys(),this.platesForm.get("country_id_lp")?.valueChanges.subscribe(e=>{this.isLoadingDraft||this.onCountryChange(e)}),this.platesForm.get("city_id_lp")?.valueChanges.subscribe(e=>{this.isLoadingDraft||this.onCitySelected(e)})}validateContactChannelForDirect(){let t=this.adDetailsForm.get("allow_submission")?.value,e=this.adDetailsForm.get("contacting_channel")?.value;return t==="true"?!0:t==="false"&&!e?(this.adDetailsForm.get("contacting_channel")?.setErrors({required:!0}),!1):!0}getDefaultBankCardId(){if(!this.user||!this.user.bank_cards||this.user.bank_cards.length===0)return console.warn("No bank cards found for user"),null;let t=this.user.bank_cards.find(e=>e.is_default);return t?t.id:this.user.bank_cards[0].id}selectPaymentMethod(t,e){if(this.selectedPaymentMethod={type:t,id:e},t==="card"&&!e&&this.user?.bank_cards?.length){let l=this.user.bank_cards.find(n=>n.is_default);l?this.selectedPaymentMethod.id=l.id:this.selectedPaymentMethod.id=this.user.bank_cards[0].id}}addNewCard(){this.router.navigate(["/payment-methods/add"])}loadDraftData(t){this.listingService.getSingleDraft(t).subscribe({next:e=>{let l=e?.data;if(l){if(this.selectVehicleType(l.category_id),l.license_plate){let n=l.license_plate;this.isLoadingDraft=!0,this.platesForm.patchValue({country_id_lp:l.license_plate.country_id,city_id_lp:l.license_plate.city_id,plate_format_id:l.license_plate.plate_format_id}),setTimeout(()=>{this.patchDynamicFieldValues(l.license_plate.field_values.map(f=>({id:f.id,controlName:f.field_value})))},300),this.dynamicFields=l.license_plate.field_values.map(f=>{let P=f.format_field;return O(V({},P),{controlName:`${P.field_name}_${P.id}`})}),this.addDynamicFieldsToForm();let d=n.field_values;d?.length&&(this.addDynamicFieldsToForm(),Promise.resolve().then(()=>{this.patchDynamicFieldValues(d)}))}if(l.motorcycle){let{brand_id:n,model_id:d,year_id:f}=l.motorcycle;this.vehicleForm.patchValue({brand_id:n,model_id:d,year_id:f,engine:parseInt(l.motorcycle.engine),mileage:l.motorcycle.mileage,body_condition:l.motorcycle.body_condition,modified:l.motorcycle.modified?"Yes":"No",insurance:l.motorcycle.insurance?"Yes":"No",general_condition:l.motorcycle.general_condition,vehicle_care:l.motorcycle.vehicle_care,transmission:l.motorcycle.transmission}),this.uploadedImageUrls=l.images.map(P=>P.image_url),this.listingService.getMotorcycleFilters({brand_id:n}).subscribe(P=>{this.models=P.data.models||[],this.listingService.getMotorcycleFilters({brand_id:n,model_id:d}).subscribe(D=>{this.years=D.data.years.map(N=>({id:N.id,year:N.year}))})})}if(l.spare_part){let n=l.spare_part.motorcycles?.[0];this.bikeForm.patchValue({brand_id:n?.brand_id||"",model_id:n?.model_id||"",year_id:n?.year_id||"",bike_part_brand_id:l.spare_part.bike_part_brand_id,bike_part_category_id:l.spare_part.bike_part_category_id,general_condition:l.spare_part.condition,description:l.description}),this.uploadedImageUrls=l.images.map(d=>d.image_url),n?.brand_id&&this.listingService.getMotorcycleFilters({brand_id:n.brand_id}).subscribe(d=>{this.models=d.data.models||[],n?.model_id&&this.listingService.getMotorcycleFilters({brand_id:n.brand_id,model_id:n.model_id}).subscribe(f=>{this.years=f.data.years||[]})})}this.adDetailsForm.patchValue({title:l.title,description:l.description,price:l.price,city:l.city_id,country:l.country_id,listing_type_id:l.listing_type_id,contacting_channel:l.contacting_channel,seller_type:l.seller_type,allow_submission:l.allow_submission?"true":"false",minimum_bid:l.minimum_bid}),this.uploadedImages=(l.images||[]).map(n=>({preview:n.image_url,serverUrl:n.image_url,file:void 0})),this.currentStep=l.step||1}},error:e=>{console.error("\u274C Failed to load draft:",e)}})}patchDynamicFieldValues(t){t.forEach(e=>{let l=this.dynamicFields.find(n=>n.id===e.plate_format_field_id);if(l){let n=l.controlName;this.platesForm.get(n)?.patchValue(e.field_value)}else console.warn(`\u26A0\uFE0F No dynamic field found for id ${e.plate_format_field_id}`)})}initForm(){this.platesForm=this.fb.group({country_id_lp:[null,_.required],city_id_lp:[null,_.required],plate_format_id:[null,_.required]})}allowOnlyDigits(t,e="latin"){let l=t.key;e==="arabic"?/^[\u0660-\u0669]+$/.test(l)||t.preventDefault():/^[0-9]+$/.test(l)||t.preventDefault()}allowOnlyLetters(t,e="latin"){let l=t.key;e==="arabic"?/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\s]+$/.test(l)||t.preventDefault():/^[a-zA-Z\s]+$/.test(l)||t.preventDefault()}logFormStatus(){Object.keys(this.platesForm.controls).forEach(t=>{let e=this.platesForm.get(t)})}loadCities(){this.listingService.getCityList().subscribe(t=>{this.countries=t.countries,this.allCities=t.cities})}setupFormListeners(){this.platesForm.get("country_id_lp")?.valueChanges.subscribe(t=>{this.onCountryChange(t)}),this.platesForm.get("city_id_lp")?.valueChanges.subscribe(t=>{t&&this.onCitySelected(t)})}onCountryChange(t){t&&(this.filteredCities=this.allCities.filter(e=>e.country_id===+t),this.platesForm.patchValue({city_id_lp:null}),this.clearDynamicFields())}getControlName(t){return`${t.field_name}_${t.id}`}getValidatorsForField(t){let e=[];return t.is_required&&e.push(_.required),t.min_length&&e.push(_.minLength(t.min_length)),t.max_length&&e.push(_.maxLength(t.max_length)),t.character_type==="letter"?t.writing_system==="latin"?e.push(_.pattern(/^[a-zA-Z]+$/)):t.writing_system==="arabic"&&e.push(_.pattern(/^[\u0600-\u06FF\s]+$/)):t.character_type==="digit"&&(t.writing_system==="latin"?e.push(_.pattern(/^[0-9]+$/)):t.writing_system==="arabic"&&e.push(_.pattern(/^[\u0660-\u0669]+$/))),t.validation_pattern&&e.push(_.pattern(t.validation_pattern)),e}clearDynamicFields(){Object.keys(this.platesForm.controls).forEach(t=>{["country_id_lp","city_id_lp","plate_format_id","type_id"].includes(t)||this.platesForm.removeControl(t)}),this.dynamicFields=[],this.selectedPlateFormat=null}onCitySelected(t){if(this.clearDynamicFields(),!t){this.platesForm.get("city_id_lp")?.markAsTouched();return}this.listingService.getPlateFormat(t).subscribe({next:e=>{e.formats?.length>0?(this.selectedPlateFormat=e.formats[0],this.dynamicFields=this.selectedPlateFormat.fields,this.platesForm.patchValue({plate_format_id:this.selectedPlateFormat.id,type_id:this.selectedPlateFormat.type_id||1}),this.addDynamicFieldsToForm(),this.platesForm.updateValueAndValidity()):(this.selectedPlateFormat=null,this.platesForm.get("city_id_lp")?.setErrors({noFormat:!0}))},error:e=>{console.error("Error fetching plate formats:",e),this.selectedPlateFormat=null,this.platesForm.get("city_id_lp")?.setErrors({apiError:!0})}})}addDynamicFieldsToForm(){this.dynamicFields.forEach(t=>{let e=`field_${t.id}`;t.controlName=e;let l=this.getValidatorsForField(t);this.platesForm.contains(e)||this.platesForm.addControl(e,new M("",l))})}allRequiredFieldsFilled(){return!this.platesForm.get("country_id_lp")?.value||!this.platesForm.get("city_id_lp")?.value?!1:this.dynamicFields.every(t=>{if(!t.is_required)return!0;let e=this.platesForm.get(t.controlName)?.value;return e!=null&&e!==""})}loadCitys(){this.listingService.getCityList().subscribe(t=>{this.countries=t.countries,this.allCities=t.cities})}onCountryChangecities(t){let e=Number(t.target.value);this.filteredCities=this.allCities.filter(l=>l.country_id===e)}updatePlateFormWithDynamicFields(t){this.platesForm.contains("type_id")||this.platesForm.addControl("type_id",new M("",_.required)),this.platesForm.contains("plateFormat")||this.platesForm.addControl("plateFormat",new M("",_.required)),this.platesForm.patchValue({plateFormat:this.selectedPlateFormat.id,type_id:this.selectedPlateFormat.type_id}),this.dynamicFields=t.map(e=>{let l=`${e.field_name}_${e.id}`;return this.platesForm.contains(l)||this.platesForm.addControl(l,new M("",this.getValidatorsForField(e))),O(V({},e),{controlName:l})}),this.draftLicensePlateFieldValues?.length&&this.patchDynamicFieldValues(this.draftLicensePlateFieldValues)}generateDynamicPlateForm(t){let e={type_id:new M(this.selectedPlateFormat?.type_id||null,_.required),country_id_lp:new M(this.platesForm.get("country_id_lp")?.value,_.required),city_id_lp:new M(this.platesForm.get("city_id_lp")?.value,_.required),category_id:new M(3,_.required),plateFormat:new M(this.selectedPlateFormat?.id,_.required)};t.forEach(l=>{let n=[];l.is_required&&n.push(_.required),l.min_length&&n.push(_.minLength(l.min_length)),l.max_length&&n.push(_.maxLength(l.max_length)),l.validation_pattern&&n.push(_.pattern(l.validation_pattern)),e[l.field_name]=new M("",n)}),this.platesForm=new ne(e),this.platesForm.get("city_id_lp")?.valueChanges.subscribe(l=>{l&&l!==this.platesForm.get("city_id_lp")?.value&&this.onCitySelected(l)})}loadPlateForm(t){let e={};t.forEach(l=>{let n=[];l.is_required&&n.push(_.required),l.min_length&&n.push(_.minLength(l.min_length)),l.max_length&&n.push(_.maxLength(l.max_length)),l.validation_pattern&&n.push(_.pattern(l.validation_pattern)),e[l.field_name]=new M("",n)}),this.platesForm=new ne(e)}onBrandFocus(){this.filteredBrands=this.brands,this.showBrandDropdown=!0}getBrandPartList(){this.listingService.getBrandPartList().subscribe(t=>{this.brandsPart=t.bike_part_brands})}getPartCategoryList(){this.listingService.getPartCategoryList().subscribe(t=>{this.partCategory=t.bike_part_categories})}isSoomSelected(){return this.adDetailsForm.get("allow_submission")?.value==="true"}selectType(t){this.selectedType=t}highlightInvalidControls(t){Object.keys(t.controls).forEach(e=>{let l=t.get(e);l&&l.invalid&&console.warn(`Invalid control: ${e}`,l.errors)})}goToStep(t){this.currentStep=t}createCheckoutForm(){this.checkoutForm=this.fb.group({agreeToTerms:[!1,_.requiredTrue]})}atLeastOneContactMethodValidator(t){let e=t.get("direct")?.value,l=t.get("soom")?.value,n=t.get("phone")?.value,d=t.get("whatsapp")?.value;return e||l||n||d?null:{noContactMethod:!0}}loadBrands(){this.listingService.getMotorcycleBrands().subscribe(t=>{this.brands=t.data})}filterBrands(){this.filteredBrands=this.brands.filter(t=>t.name.toLowerCase().includes(this.brandSearchTerm.toLowerCase())),this.showBrandDropdown=!0}filterModels(){this.filteredModels=this.models.filter(t=>t.name.toLowerCase().includes(this.modelSearchTerm.toLowerCase())),this.showModelDropdown=!0}filterYears(){this.filteredYears=this.years.filter(t=>t.year.toString().includes(this.yearSearchTerm)),this.showYearDropdown=!0}selectBrand(t){this.brandSearchTerm=t.name,this.vehicleForm.patchValue({brand_id:t.id}),this.bikeForm.patchValue({brand_id:t.id}),this.showBrandDropdown=!1,this.onBrandChange(t.id)}selectModel(t){this.modelSearchTerm=t.name,this.vehicleForm.patchValue({model_id:t.id}),this.bikeForm.patchValue({model_id:t.id}),this.showModelDropdown=!1,this.onModelChange(t.id)}selectYear(t){this.yearSearchTerm=t.year.toString(),this.vehicleForm.patchValue({year_id:t.id}),this.bikeForm.patchValue({year_id:t.id}),this.showYearDropdown=!1}onBrandChange(t){this.models=[],this.years=[],this.modelSearchTerm="",this.yearSearchTerm="",this.filteredModels=[],this.filteredYears=[],this.vehicleForm.patchValue({model_id:"",year_id:""}),this.bikeForm.patchValue({model_id:"",year_id:""}),t&&this.listingService.getMotorcycleModels(t).subscribe(e=>{this.models=e.data,this.filteredModels=e.data})}onModelChange(t){this.years=[],this.yearSearchTerm="",this.filteredYears=[],this.vehicleForm.patchValue({year_id:""}),this.bikeForm.patchValue({year_id:""}),t&&this.listingService.getMotorcycleYears(t).subscribe(e=>{this.years=e.data,this.filteredYears=e.data})}get contactMethodsFormGroup(){return this.adDetailsForm.get("contactMethods")}handleFileInput(t){let e=t.target;if(!e.files)return;Array.from(e.files).slice(0,this.maxImages-this.uploadedImages.length).forEach(n=>{if(n.size>5*1024*1024){alert(`File ${n.name} is too large. Maximum size is 5MB.`);return}let d=new FileReader;d.onload=()=>{let f={preview:d.result,serverUrl:null,file:n};this.uploadedImages.push(f),this.uploadImage(f,this.uploadedImages.length-1)},d.readAsDataURL(n)}),e.value=""}uploadImage(t,e){if(!t.file)return;let l=new FormData;l.append("images[]",t.file),this.listingService.uploadImage(l).subscribe({next:n=>{n.paths?.length&&(this.uploadedImages[e].serverUrl=n.paths[0],this.uploadedImageUrls=this.uploadedImages.filter(d=>d.serverUrl).map(d=>d.serverUrl),this.vehicleForm.patchValue({images:this.uploadedImageUrls}))},error:n=>{console.error("Upload error:",n),this.uploadedImages.splice(e,1)}})}removeImage(t){this.uploadedImages.splice(t,1),this.uploadedImageUrls=this.uploadedImages.filter(e=>e.serverUrl).map(e=>e.serverUrl),this.vehicleForm.patchValue({images:this.uploadedImageUrls})}selectVehicleType(t){this.selectedVehicleType=t,this.vehicleForm?.patchValue({category_id:t}),this.vehicleForm?.patchValue({vehicleType:t}),this.selectedVehicleType===1?(this.bikeForm?.reset(),this.adDetailsForm?.reset(),this.platesForm?.reset(),this.checkoutForm?.reset()):this.selectedVehicleType===2?(this.vehicleForm?.reset(),this.adDetailsForm?.reset(),this.platesForm?.reset(),this.checkoutForm?.reset()):(this.bikeForm?.reset(),this.adDetailsForm?.reset(),this.vehicleForm?.reset(),this.checkoutForm?.reset())}selectBodyCondition(t){this.vehicleForm.patchValue({body_condition:t})}selectModified(t){this.vehicleForm.patchValue({modified:t})}selectInsurance(t){this.vehicleForm.patchValue({insurance:t})}selectCondition(t){this.vehicleForm.patchValue({general_condition:t})}selectVehicleCare(t){this.vehicleForm.patchValue({vehicle_care:t})}selectTransmission(t){this.vehicleForm.patchValue({transmission:t})}selectSellerType(t){this.adDetailsForm.patchValue({seller_type:t})}toggleContactMethod(t){let e=this.adDetailsForm.get("contactMethods"),l=e?.get(t)?.value;e?.get(t)?.setValue(!l)}previousStep(){this.currentStep>1&&this.currentStep--}selectPlateFormat(t,e){this.platesForm.get("plateFormat")?.setValue(t),this.platesForm.get("type_id")?.setValue(e);let l=["firstAlphabet","secondAlphabet","thirdAlphabet"];t==="numbers-only"?l.forEach(n=>{this.platesForm.get(n)?.reset(),this.platesForm.get(n)?.clearValidators(),this.platesForm.get(n)?.updateValueAndValidity()}):l.forEach(n=>{this.platesForm.get(n)?.setValidators(_.required),this.platesForm.get(n)?.updateValueAndValidity()})}onProductDetailsSubmit(t){this.vehicleFormData=t,this.vehicleForm&&this.vehicleForm.patchValue(t)}getPricing(){let t={country_id:this.adDetailsForm.value.country_id};switch(this.selectedVehicleType){case 1:t.model_id=this.vehicleForm.value.model_id,t.category_id=1;break;case 2:t.bike_part_category_id=this.bikeForm.value.bike_part_category_id,t.category_id=2;break;case 3:t.category_id=3;break}this.listingService.getPricing(t).subscribe({next:e=>{this.pricingInfo=e},error:e=>{console.error("Error fetching pricing:",e)}})}markCurrentFormTouched(){(this.currentStep===1?this.vehicleForm:this.currentStep===2?this.adDetailsForm:this.checkoutForm).markAllAsTouched()}goToNextStep(){return H(this,null,function*(){try{switch(this.currentStep){case 1:yield this.handleStep1();break;case 2:yield this.handleStep2();break;case 3:yield this.handleStep3();break}}catch(t){console.error("Error in goToNextStep:",t),alert("An error occurred. Please try again.")}})}logFormValues(){this.dynamicFields.forEach(t=>{let e=this.platesForm.get(t.controlName)?.value})}handleStep1(){return H(this,null,function*(){if(!this.validateStep1())return;let t=this.prepareStep1Data();if(t){t.step=1;try{let e=yield this.listingService.addPost(t).toPromise();this.listingId=e?.listing_id,this.sharedFormDataService.setStep1Data(O(V({},t),{listing_id:this.listingId})),this.currentStep++}catch(e){console.error("Error creating listing (step 1):",e),alert("Failed to create listing. Please try again.")}}})}validateStep1(){switch(this.selectedVehicleType){case 1:if(!this.vehicleForm.valid)return this.vehicleForm.markAllAsTouched(),!1;break;case 2:if(!this.bikeForm.valid)return this.bikeForm.markAllAsTouched(),!1;break;case 3:if(!this.platesForm.valid)return this.platesForm.markAllAsTouched(),this.logFormErrors(this.platesForm),!1;break}return!0}prepareStep1Data(){switch(this.selectedVehicleType){case 1:return{category_id:1,step:1,vehicleType:"motorcycle",brand_id:parseInt(this.vehicleForm.value.brand_id),model_id:parseInt(this.vehicleForm.value.model_id),year_id:parseInt(this.vehicleForm.value.year_id),engine:`${this.vehicleForm.value.engine}cc`,mileage:parseInt(this.vehicleForm.value.mileage),body_condition:this.vehicleForm.value.body_condition,modified:this.vehicleForm.value.modified==="Yes",insurance:this.vehicleForm.value.insurance==="Yes",general_condition:this.vehicleForm.value.general_condition,vehicle_care:this.vehicleForm.value.vehicle_care,transmission:this.vehicleForm.value.transmission,images:this.uploadedImageUrls.filter(e=>e!==null)};case 2:return{step:1,category_id:2,bike_part_brand_id:Number(this.bikeForm.value.bike_part_brand_id),bike_part_category_id:Number(this.bikeForm.value.bike_part_category_id),motorcycles:[{brand_id:parseInt(this.bikeForm.value.brand_id),model_id:parseInt(this.bikeForm.value.model_id),year_id:parseInt(this.bikeForm.value.year_id)}],condition:this.bikeForm.value.condition,description:this.bikeForm.value.description,images:this.uploadedImageUrls.filter(e=>e!==null)};case 3:let t=this.dynamicFields.map(e=>{let l=this.platesForm.get(e.controlName)?.value,n=l!=null?String(l):"";return{field_id:e.id,value:n}});return{category_id:3,step:1,type_id:this.platesForm.value.type_id,plate_format_id:this.selectedPlateFormat?.id,country_id_lp:Number(this.platesForm.value.country_id_lp),city_id_lp:Number(this.platesForm.value.city_id_lp),fields:t};default:return console.error("Unknown vehicle type:",this.selectedVehicleType),null}}handleStep2(){return H(this,null,function*(){if(!this.adDetailsForm.valid||!this.validateContactChannelForDirect()){this.adDetailsForm.markAllAsTouched();return}let t=this.adDetailsForm.value.allow_submission==="true",e={step:2,listing_id:this.listingId,title:this.adDetailsForm.value.title,description:this.adDetailsForm.value.description,price:parseFloat(this.adDetailsForm.value.price),allow_submission:t,contacting_channel:this.adDetailsForm.value.contacting_channel,country_id:Number(this.adDetailsForm.value.country),city_id:parseInt(this.adDetailsForm.value.city),seller_type:this.adDetailsForm.value.seller_type,listing_type_id:1,auction_enabled:t};t&&(e.minimum_bid=this.adDetailsForm.value.minimum_bid||0),this.sharedFormDataService.setStep2Data(e);try{yield this.listingService.addPost(e).toPromise();let l=this.sharedFormDataService.getStep1Data(),n=yield this.getPricingInfo(l,e);this.pricingInfo=n,this.currentStep++}catch(l){console.error("Error updating listing (step 2):",l),alert("Failed to save ad details. Please try again.")}})}handleStep3(){return H(this,null,function*(){let t=this.sharedFormDataService.getStep1Data(),e=this.sharedFormDataService.getStep2Data();if(!this.getDefaultBankCardId()){alert("Please add a payment method before proceeding");return}let n=O(V({step:3,listing_id:this.listingId,title:e.title,description:e.description,price:e.price,listing_type_id:e.listing_type_id,city_id:e.city_id,auction_enabled:e.auction_enabled,minimum_bid:e.minimum_bid,allow_submission:e.allow_submission,contacting_channel:e.contacting_channel,seller_type:e.seller_type},this.getTypeSpecificPayload(t)),{amount:e.price});try{let d=yield this.listingService.addPost(n).toPromise();d&&d.redirect_url?(localStorage.setItem("pendingPayment",JSON.stringify({payment_id:d.payment_id,listing_id:d.listing_id,timestamp:new Date().getTime(),redirect_url:d.redirect_url})),window.location.href=d.redirect_url):(console.warn("No redirect URL provided, navigating to home"),this.router.navigate(["/home"]))}catch(d){console.error("Error creating ad:",d),alert("Failed to create ad. Please try again.")}})}startPaymentStatusPolling(t){let e=setInterval(()=>{this.listingService.checkPaymentStatus(t).subscribe({next:l=>{l.status==="completed"?(clearInterval(e),this.router.navigate(["/home"])):l.status==="failed"&&(clearInterval(e),this.router.navigate(["/payment-failed"]))},error:l=>{console.error("Error checking payment status:",l),clearInterval(e)}})},3e3);setTimeout(()=>{clearInterval(e),this.router.navigate(["/payment-unknown"])},3e5)}getTypeSpecificPayload(t){let e={images:this.uploadedImageUrls.filter(l=>l!==null)};switch(this.selectedVehicleType){case 1:return O(V({},e),{category_id:t.category_id,type_id:t.type_id,brand_id:t.brand_id,model_id:t.model_id,year_id:t.year_id,engine:t.engine,mileage:t.mileage,body_condition:t.body_condition,modified:t.modified,insurance:t.insurance,general_condition:t.general_condition,vehicle_care:t.vehicle_care,transmission:t.transmission});case 2:return O(V({},e),{category_id:t.category_id,bike_part_brand_id:t.bike_part_brand_id,bike_part_category_id:t.bike_part_category_id,motorcycles:t.motorcycles,condition:t.condition});case 3:return O(V({},e),{type_id:t.type_id,category_id:t.category_id,plate_format_id:t.plate_format_id,country_id_lp:t.country_id_lp,city_id_lp:t.city_id_lp,fields:t.fields});default:return e}}buildAndSubmitPayload(t,e,l){let n={title:e.title,description:e.description,price:e.price,listing_type_id:e.listing_type_id,city_id:e.city_id,auction_enabled:e.auction_enabled,minimum_bid:e.minimum_bid,allow_submission:e.allow_submission,contacting_channel:e.contacting_channel,seller_type:e.seller_type};switch(this.selectedVehicleType){case 1:n=O(V({},n),{category_id:t.category_id,type_id:t.type_id,brand_id:t.brand_id,model_id:t.model_id,year_id:t.year_id,engine:t.engine,mileage:t.mileage,body_condition:t.body_condition,modified:t.modified,insurance:t.insurance,general_condition:t.general_condition,vehicle_care:t.vehicle_care,transmission:t.transmission,images:this.uploadedImageUrls.filter(d=>d!==null)});break;case 2:n=O(V({},n),{category_id:t.category_id,bike_part_brand_id:t.bike_part_brand_id,bike_part_category_id:t.bike_part_category_id,motorcycles:t.motorcycles,condition:t.condition,images:this.uploadedImageUrls.filter(d=>d!==null)});break;case 3:n=O(V({},n),{type_id:t.type_id,category_id:t.category_id,plateFormatOptions:t.plateFormatOptions,country_id_lp:Number(t.country_id_lp),city_id_lp:Number(t.city_id_lp),first_letter:t.firstAlphabet,second_letter:t.secondAlphabet,third_letter:t.thirdAlphabet,digits_count:t.digits_count}),delete n.brand_id,delete n.model_id,delete n.year_id;break}}logFormErrors(t){Object.keys(t.controls).forEach(e=>{let l=t.get(e);l?.errors&&console.log(`Field ${e} errors:`,l.errors)})}getPricingInfo(t,e){return new Promise((l,n)=>{let d={country_id:e.country_id||3};switch(this.selectedVehicleType){case 1:d.model_id=t.model_id,d.category_id=1;break;case 2:d.model_id=t.bike_part_category_id,d.category_id=2;break;case 3:d.category_id=3;break}this.listingService.getPricing(d).subscribe({next:f=>{l(f)},error:f=>{n(f)}})})}removePromocode(){this.promocode="",this.promocodeApplied=!1,this.adFees.discounted=this.adFees.original}selectContactMethod(t){this.isSoomSelected()&&(t==="phone"||t==="whatsapp")||this.adDetailsForm.get("contacting_channel")?.setValue(t)}applyPromoCode(){if(!this.promoCode||!this.pricingInfo)return;this.promoLoading=!0,this.promoError=null;let t={code:this.promoCode,total_price:parseFloat(this.pricingInfo.converted_price)};this.listingService.checkPromo(t).subscribe({next:e=>{this.isPromoApplied=!0,this.discountedPrice=e.new_price,this.promoLoading=!1},error:e=>{this.promoError=e.error?.message||"Invalid promo code",this.isPromoApplied=!1,this.promoLoading=!1}})}removePromoCode(){this.promoCode="",this.isPromoApplied=!1,this.discountedPrice=null,this.promoError=null}static \u0275fac=function(e){return new(e||i)(A(Le),A($e),A(Z),A(Ge),A(Se),A(Ce),A(Ye),A(oe))};static \u0275cmp=le({type:i,selectors:[["app-product-form"]],viewQuery:function(e,l){if(e&1&&me(Ze,5),e&2){let n;pe(n=_e())&&(l.fileInput=n.first)}},inputs:{currentStep:"currentStep"},decls:12,vars:6,consts:[["fileInput",""],[1,"max-w-4xl","mx-auto","px-4","py-8"],[1,"bg-white","rounded-lg","shadow-sm","p-6","border","border-gray-100"],[1,"flex","justify-start","mb-4"],["type","button",1,"px-4","py-2","bg-white","border","border-gray-300","rounded-md","text-gray-600","hover:bg-gray-100",3,"click"],[1,"flex","items-center","justify-between","mb-10"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","mb-8",4,"ngIf"],["class","container mx-auto max-w-3xl px-4 py-8",4,"ngIf"],["class","text-green-600 font-semibold mb-4",4,"ngIf"],["class","text-red-600 font-semibold mb-4",4,"ngIf"],[1,"flex","flex-col","items-center","w-1/3"],[1,"w-8","h-8","rounded-full","flex","items-center","justify-center","text-sm","font-medium","mb-1","transition-all","duration-300",3,"ngClass"],[1,"text-xs","text-center"],[3,"ngClass"],[1,"text-gray-500"],["class","flex-1 h-1 bg-gray-200 mx-2 relative",4,"ngIf"],[1,"flex-1","h-1","bg-gray-200","mx-2","relative"],[1,"h-full","bg-red-500","absolute","top-0","left-0","transition-all","duration-300"],[1,"text-xl","font-semibold","mb-6","text-left"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4","mb-8"],["class","border-2 rounded-lg p-4 cursor-pointer transition-colors relative hover:bg-gray-50",3,"ngClass","click",4,"ngFor","ngForOf"],[3,"ngSwitch"],[3,"formGroup",4,"ngSwitchCase"],["class","bg-white rounded-lg shadow-sm p-6 border border-gray-200",4,"ngSwitchDefault"],[1,"border-2","rounded-lg","p-4","cursor-pointer","transition-colors","relative","hover:bg-gray-50",3,"click","ngClass"],["class","absolute top-4 right-4 w-4 h-4 bg-red-500 rounded-full flex items-center justify-center",4,"ngIf"],[1,"flex","items-start","justify-between"],[1,"flex","flex-col","space-y-2","text-start"],[1,"w-10","h-10","object-contain",3,"src","alt"],[1,"font-medium"],[1,"text-sm","text-gray-500"],[1,"absolute","top-4","right-4","w-4","h-4","bg-red-500","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 13l4 4L19 7"],[3,"formGroup"],[1,"bg-white","rounded-lg","shadow-sm","p-6","border","border-gray-200"],[1,"text-lg","font-semibold","mb-6"],[1,"mb-6"],[1,"mb-2","font-medium"],[1,"grid","grid-cols-2","sm:grid-cols-3","md:grid-cols-5","gap-4"],["class","relative border border-gray-300 rounded-md aspect-square flex items-center justify-center",4,"ngFor","ngForOf"],["class","border border-dashed border-gray-300 rounded-md aspect-square flex items-center justify-center cursor-pointer hover:bg-gray-50",3,"click",4,"ngIf"],[1,"text-xs","text-gray-500","mt-2"],["class","text-red-500",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-6","mb-6"],[1,"block","font-medium"],[1,"relative","mt-4"],["type","text",1,"w-full","border","border-gray-300","rounded-md","px-3","py-2","pr-8",3,"ngModelChange","input","focus","ngModel","ngModelOptions","placeholder"],[1,"absolute","right-2","top-2","pointer-events-none"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],["class","absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-auto",4,"ngIf"],["class","text-red-500 text-sm mt-1",4,"ngIf"],["type","text",1,"w-full","border","border-gray-300","rounded-md","px-3","py-2","pr-8",3,"ngModelChange","input","focus","ngModel","ngModelOptions","placeholder","disabled"],["type","text","placeholder","Select a year",1,"w-full","border","border-gray-300","rounded-md","px-3","py-2","pr-8",3,"ngModelChange","input","focus","ngModel","ngModelOptions","disabled"],[1,"block","mb-2","font-medium"],[1,"grid","grid-cols-1","sm:grid-cols-3","gap-4"],["class","border-2 rounded-lg p-3 cursor-pointer transition-colors",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-4"],[1,"border-2","rounded-lg","p-3","cursor-pointer","transition-colors",3,"click","ngClass"],[1,"flex","items-center","justify-between"],["class","w-6 h-6 bg-red-500 rounded-full flex items-center justify-center",4,"ngIf"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-5","gap-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6","mb-6"],[1,"flex"],[1,"inline-flex","items-center","px-3","text-gray-500","bg-gray-100","border","border-r-0","border-gray-300","rounded-l-md"],["type","number","formControlName","engine","placeholder","650",1,"flex-grow","border","border-gray-300","rounded-r-md","px-3","py-2","focus:outline-none","focus:ring-2","focus:ring-blue-500","placeholder-gray-400"],["type","number","formControlName","mileage","placeholder","8500",1,"flex-grow","border","border-gray-300","rounded-r-md","px-3","py-2","focus:outline-none","focus:ring-2","focus:ring-blue-500","placeholder-gray-400"],[1,"flex","justify-end","mt-6"],["type","button",1,"px-6","py-2","bg-red-500","text-white","rounded","hover:bg-red-600","disabled:opacity-50",3,"click","disabled"],[1,"relative","border","border-gray-300","rounded-md","aspect-square","flex","items-center","justify-center"],[1,"object-cover","w-full","h-full","rounded-md",3,"src","alt"],[1,"absolute","top-1","right-1","bg-white","text-red-500","rounded-full","p-1","shadow","hover:bg-gray-100",3,"click"],[1,"border","border-dashed","border-gray-300","rounded-md","aspect-square","flex","items-center","justify-center","cursor-pointer","hover:bg-gray-50",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"],["type","file","accept","image/*","multiple","","hidden","",3,"change"],[1,"text-red-500"],[1,"absolute","z-10","w-full","mt-1","bg-white","border","border-gray-300","rounded-md","shadow-lg","max-h-60","overflow-auto"],["class","px-3 py-2 hover:bg-blue-50 cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"px-3","py-2","hover:bg-blue-50","cursor-pointer",3,"click"],[1,"text-red-500","text-sm","mt-1"],[1,"w-6","h-6","bg-red-500","rounded-full","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",1,"w-4","h-4","text-white"],["src","pictures/_Checkbox.svg","alt","checkmark",1,"w-4","h-4","text-white"],["formControlName","bike_part_brand_id",1,"w-full","border","border-gray-300","rounded-md","px-3","py-2","mt-4"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","bike_part_category_id",1,"w-full","border","border-gray-300","rounded-md","px-3","py-2","mt-4",3,"disabled"],[1,"md:col-span-3"],[1,"flex","items-start"],[1,"text-sm",2,"color","#F03D24"],["for","description",1,"block","text-sm","font-medium","text-gray-700","mb-1","flex","items-center"],[1,"ml-1","text-gray-400"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-4","w-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],["id","description","formControlName","description","rows","4","placeholder","This is a free text to add any comments or things that might be useful for the buyers",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-red-500","focus:border-red-500","placeholder-gray-400"],["class","mt-1 text-red-500 text-sm",4,"ngIf"],[3,"value"],[1,"mt-1","text-red-500","text-sm"],["formControlName","country_id_lp",1,"w-full","border","border-gray-300","rounded-lg","p-3","focus:ring-2","focus:ring-red-500","focus:border-red-500","outline-none","transition"],["for","city",1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"relative"],["id","city","formControlName","city_id_lp",1,"w-full","border","border-gray-300","rounded-lg","p-3","focus:ring-2","focus:ring-red-500","focus:border-red-500","outline-none","transition",3,"disabled"],["class","mb-6",4,"ngIf"],["class","text-center py-4",4,"ngIf"],["type","button",1,"px-6","py-2","bg-red-500","text-white","rounded","hover:bg-red-600","disabled:opacity-50",3,"click"],[1,"font-medium","mb-4"],[1,"grid","grid-cols-1","gap-4"],["class","mb-4",4,"ngFor","ngForOf"],[1,"mb-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-2",3,"for"],["type","text","inputmode","numeric","class","w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-red-500 focus:border-red-500 outline-none transition",3,"id","formControlName","pattern","placeholder","keypress",4,"ngIf"],["type","text","class","w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-red-500 focus:border-red-500 outline-none transition placeholder-gray-400",3,"id","formControlName","placeholder","keypress",4,"ngIf"],[1,"text-xs","text-gray-500","mt-1"],["type","text","inputmode","numeric",1,"w-full","border","border-gray-300","rounded-lg","p-3","focus:ring-2","focus:ring-red-500","focus:border-red-500","outline-none","transition",3,"keypress","id","formControlName","pattern","placeholder"],["type","text",1,"w-full","border","border-gray-300","rounded-lg","p-3","focus:ring-2","focus:ring-red-500","focus:border-red-500","outline-none","transition","placeholder-gray-400",3,"keypress","id","formControlName","placeholder"],[1,"text-center","py-4"],[1,"text-center","text-gray-500"],[1,"mb-8"],[1,"text-xl","text-blue-600","font-medium","mb-6"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","mb-6"],[1,"bg-gray-50","rounded","p-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],[1,"text-gray-800"],[1,"text-gray-400"],["for","adName",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","text","id","adName","formControlName","title",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-red-500","focus:border-red-500","placeholder-gray-400",3,"placeholder"],["id","description","formControlName","description","rows","4",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-red-500","focus:border-red-500","placeholder-gray-400",3,"placeholder"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"block"],[1,"border-2","rounded-lg","p-4","cursor-pointer","transition-colors","h-full",3,"click","ngClass"],[1,"flex","items-center","justify-between","h-full"],[1,"text-gray-700"],["class","w-6 h-6 border-2 border-gray-300 rounded-full",4,"ngIf"],[1,"border-2","rounded-lg","p-4","transition-colors","h-full",3,"click","ngClass"],[1,"text-gray-700",3,"ngClass"],["class","w-6 h-6 border-2 rounded-full",3,"ngClass",4,"ngIf"],["class","mt-4 p-4 bg-blue-50 border border-blue-200 rounded-md",4,"ngIf"],["formControlName","country",1,"w-full","border","border-gray-300","rounded-lg","p-3","focus:ring-2","focus:ring-red-500","focus:border-red-500","outline-none","transition",3,"change"],["value","","disabled","","selected",""],["for","city",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","city","formControlName","city",1,"w-full","border","border-gray-300","rounded-lg","p-3","focus:ring-2","focus:ring-red-500","focus:border-red-500","outline-none","transition"],[1,"block","text-sm","font-medium","text-gray-700","mb-3"],[1,"flex","items-center","justify-between","border","border-gray-300","rounded-md","px-4","py-3"],["type","radio","formControlName","seller_type","value","middleman",1,"h-4","w-4","text-red-600","focus:ring-red-500","border-gray-300"],["type","radio","formControlName","seller_type","value","owner",1,"h-4","w-4","text-red-600","focus:ring-red-500","border-gray-300"],[1,"flex","justify-between","mt-8"],["type","button","class","bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",3,"click",4,"ngIf"],["type","button",1,"bg-red-500","border","border-transparent","rounded-md","shadow-sm","py-2","px-10","inline-flex","justify-center","text-sm","font-medium","text-white","hover:bg-red-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-red-500",3,"click"],[1,"w-6","h-6","border-2","border-gray-300","rounded-full"],[1,"w-6","h-6","border-2","rounded-full",3,"ngClass"],[1,"mt-4","p-4","bg-blue-50","border","border-blue-200","rounded-md"],[1,"text-sm","font-medium","text-blue-900","mb-2"],[1,"text-sm","text-blue-700","mb-3"],[1,"mb-3"],["for","autoDecline",1,"block","text-sm","font-medium","text-blue-900","mb-1"],[1,"relative","rounded-md","shadow-sm"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],[1,"text-gray-500","sm:text-sm"],["type","number","id","autoDecline","formControlName","minimum_bid","placeholder","0",1,"pl-12","block","w-full","px-3","py-2","border","border-blue-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-blue-500","focus:border-blue-500","sm:text-sm","placeholder-gray-400"],["for","price",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","number","id","price","formControlName","price","placeholder","500",1,"pl-12","w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-red-500","focus:border-red-500","placeholder-gray-400"],["type","button",1,"bg-white","py-2","px-4","border","border-gray-300","rounded-md","shadow-sm","text-sm","font-medium","text-gray-700","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-red-500",3,"click"],[1,"container","mx-auto","max-w-3xl","px-4","py-8"],[1,"text-xl","font-semibold","mb-6","text-blue-600"],[1,"border-b","pb-4","mb-6"],[1,"flex","justify-between","items-center","mb-1"],["class","text-red-500 line-through mr-2",4,"ngIf"],["class","text-green-500 font-bold",4,"ngIf"],["class","text-red-500 font-bold",4,"ngIf"],[1,"flex","mb-2"],[1,"flex-1","border","rounded-l-lg","flex","items-center","px-4"],["type","text","placeholder","Enter promo code",1,"w-full","focus:outline-none","py-3","placeholder-gray-400",3,"ngModelChange","ngModel","readonly"],["class","border border-l-0 rounded-r-lg px-4 py-3 text-blue-600 hover:bg-gray-50 disabled:opacity-50",3,"disabled","click",4,"ngIf"],["class","border border-l-0 rounded-r-lg px-4 py-3 text-red-600 hover:bg-gray-50",3,"click",4,"ngIf"],["class","flex justify-between",4,"ngIf"],["class","text-red-500 text-sm mt-2",4,"ngIf"],[1,"text-lg","text-red-500","mb-2"],[1,"text-gray-500","text-sm","mb-4"],[1,"font-medium","mb-3"],[1,"border-2","border-red-500","bg-red-50","rounded-lg","p-4"],[1,"flex","justify-between","items-center","mb-3"],[1,"flex","items-center","gap-3"],[1,"w-5","h-5","rounded-full","border-2","border-red-500","flex","items-center","justify-center"],[1,"w-2.5","h-2.5","rounded-full","bg-red-500"],[1,"font-medium","flex","items-center","gap-2"],["fill","currentColor","viewBox","0 0 20 20",1,"w-5","h-5","text-green-600"],["fill-rule","evenodd","d","M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule","evenodd"],[1,"text-sm","text-gray-600"],[1,"h-8","px-3","bg-white","rounded","flex","items-center","border","border-gray-200"],[1,"text-sm","font-semibold","text-gray-700"],[1,"bg-blue-50","border","border-blue-200","rounded-lg","p-3","flex","items-start","gap-2"],["fill","currentColor","viewBox","0 0 20 20",1,"w-5","h-5","text-blue-600","flex-shrink-0"],["fill-rule","evenodd","d","M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule","evenodd"],[1,"text-sm","text-blue-800"],[1,"mt-3","pt-3","border-t","border-gray-200"],[1,"text-xs","text-gray-500","mb-2"],[1,"flex","items-center","gap-3","flex-wrap"],[1,"flex","items-center","gap-1.5","px-2","py-1","bg-blue-700","rounded","shadow-sm"],["viewBox","0 0 48 16","fill","none",1,"h-4"],["x","2","y","12","fill","white","font-family","Arial","font-weight","bold","font-size","10"],[1,"flex","items-center","px-2","py-1","bg-white","rounded","shadow-sm"],["width","32","height","20","viewBox","0 0 40 24"],["cx","15","cy","12","r","10","fill","#EB001B"],["cx","25","cy","12","r","10","fill","#F79E1B"],["d","M20 6C22 8 23 10 23 12C23 14 22 16 20 18C18 16 17 14 17 12C17 10 18 8 20 6Z","fill","#FF5F00"],[1,"flex","items-center","px-2","py-1","bg-black","rounded","shadow-sm"],[1,"text-white","text-xs","font-semibold"],[1,"flex","items-center","px-2","py-1","bg-white","border-2","border-green-600","rounded","shadow-sm"],[1,"text-green-600","text-xs","font-bold"],[1,"text-red-500","line-through","mr-2"],[1,"text-green-500","font-bold"],[1,"text-red-500","font-bold"],[1,"border","border-l-0","rounded-r-lg","px-4","py-3","text-blue-600","hover:bg-gray-50","disabled:opacity-50",3,"click","disabled"],[1,"border","border-l-0","rounded-r-lg","px-4","py-3","text-red-600","hover:bg-gray-50",3,"click"],[1,"flex","justify-between"],[1,"text-green-500","flex","items-center","gap-1"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule","evenodd"],[1,"bg-white","border","border-gray-300","rounded-lg","px-6","py-2","text-gray-700","font-medium"],[1,"text-red-500","text-sm","mt-2"],[1,"text-green-600","font-semibold","mb-4"],[1,"text-red-600","font-semibold","mb-4"]],template:function(e,l){e&1&&(r(0,"div",1)(1,"div",2)(2,"div",3)(3,"button",4),x("click",function(){return l.previousStep()}),s(4," Exit "),o()(),r(5,"div",5),p(6,it,10,12,"ng-container",6),o()(),p(7,di,10,5,"div",7)(8,wi,121,110,"div",8)(9,Bi,73,10,"div",9),o(),p(10,Ai,2,0,"div",10)(11,Li,2,1,"div",11)),e&2&&(a(6),c("ngForOf",l.steps),a(),c("ngIf",l.currentStep===1),a(),c("ngIf",l.currentStep===2),a(),c("ngIf",l.currentStep===3),a(),c("ngIf",l.submissionSuccess),a(),c("ngIf",l.submissionError))},dependencies:[be,ge,ve,fe,he,ye,xe,Re,Pe,Ne,Be,we,Ve,De,ke,Ee,Ie,Ae,Te,qe,Me,Oe,je,Ue,J],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif}@media (max-width: 640px){.progress-steps[_ngcontent-%COMP%]{flex-direction:column}}"]})};export{Ke as ProductFormComponent};
